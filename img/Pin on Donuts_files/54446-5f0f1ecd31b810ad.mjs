(self.modernJsonp=self.modernJsonp||[]).push([["54446"],{633062(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DeprecatedCarouselModule_parentPin",selections:[{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"source",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_parentPin"}],type:"Pin",abstractKey:null};l.hash="ba117249c9ffc02340353f2c3b5e4f5f";let n=l},356088(e,t,a){var l,n,i,r,s,o,d;a.r(t),a.d(t,{default:()=>c});let u=(l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},s={alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},o=[i={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],{argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"DeprecatedCarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentCarouselDisplayOptions",kind:"LinkedField",name:"carouselDisplayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"navigationType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselScrollingMode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselFadeEnds",storageKey:null},{alias:null,args:null,concreteType:"StoryItemViewRepStyle",kind:"LinkedField",name:"itemViewRepStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"exploreArticleRepStyle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moreIdeasRepStyle",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,concreteType:"StoryThumbnailDisplayOptions",kind:"LinkedField",name:"thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidth",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[n,i],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r,{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[l],storageKey:'images(spec:"236x")'},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"ItemRep_pin"},{args:null,kind:"FragmentSpread",name:"OneTapSavePinWrapperQuery_pin"}],type:"Pin",abstractKey:null},{kind:"InlineFragment",selections:[s,{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:o,storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[r,d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_board"}],type:"Board",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"boardMoreIdeasFeedUpsellId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"boardMoreIdeasFeedUpsellName",args:null,kind:"ScalarField",name:"boardName",storageKey:null}],type:"BoardMoreIdeasFeedUpsell",abstractKey:null},{kind:"InlineFragment",selections:[r,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[r,{alias:"exploreArticleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:o,storageKey:null}],type:"ExploreArticle",abstractKey:null},{kind:"InlineFragment",selections:[d,{args:null,kind:"FragmentSpread",name:"ItemRep_relatedInterest"}],type:"SeoRelatedInterestsData",abstractKey:null}],storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"},{args:null,kind:"FragmentSpread",name:"useCarouselModuleLogic_story"}],type:"Story",abstractKey:null});u.hash="9469e2ed7b8fb6f17cd14012d27074e4";let c=u},314334(e,t,a){var l;a.r(t),a.d(t,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HeaderModule_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:l,storageKey:null},{alias:"storyDescription",args:null,concreteType:"StoryText",kind:"LinkedField",name:"description",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"titleTextColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleTextColor",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"descriptionWeight",storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDynamicContentSpan",kind:"LinkedField",name:"dynamicHeaderContentSpan",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"narrowView",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wideView",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titlePosition",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleStyle",storageKey:null},{alias:null,args:null,concreteType:"StoryPaddingDisplay",kind:"LinkedField",name:"padding",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"left",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryThumbnailDisplayOptions",kind:"LinkedField",name:"thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidthHeightRatio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWash",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidth",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};n.hash="fdcfb1974fef7a407e59109dac717247";let i=n},194262(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ItemRep_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardRep_board"}],type:"Board",abstractKey:null};l.hash="228c9215d3c4adae6df47a885b46738e";let n=l},537989(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ItemRep_parentPin",selections:[{args:null,kind:"FragmentSpread",name:"StructuredFeedPinRep_parentPin"}],type:"Pin",abstractKey:null};l.hash="9573d9edc526dd9f6d96807f041a0b18";let n=l},715461(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"ItemRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"StructuredFeedPinRep_pin"}],type:"Pin",abstractKey:null};l.hash="96a93041627ef227cdc3d5307fb9c8bf";let n=l},790807(e,t,a){var l;a.r(t),a.d(t,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ItemRep_relatedInterest",selections:[{alias:"image_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!0,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'image(spec:"236x")'},{alias:"image_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!0,selections:l,storageKey:'image(spec:"474x")'},{alias:"klpUrl",args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"SeoRelatedInterestsData",abstractKey:null};n.hash="5b5a0a839fbf3fe4f1cbdd049446a9fd";let i=n},349815(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ItemRep_story",selections:[{args:null,kind:"FragmentSpread",name:"StructuredFeedPinRep_story"}],type:"Story",abstractKey:null};l.hash="4a000bdc407a64d5446d7c674b9f47e7";let n=l},661793(e,t,a){var l,n;a.r(t),a.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OneTapSavePinWrapperQuery_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null}],storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[n],storageKey:'images(spec:"236x")'},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},l],storageKey:null}]}],type:"Pin",abstractKey:null};i.hash="540254f242b57ec111d9f2340a59f648";let r=i},891088(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredFeedPinRep_parentPin",selections:[{args:null,kind:"FragmentSpread",name:"UnifiedPinRep_parentPin"}],type:"Pin",abstractKey:null};l.hash="4ec2d105acf1a4e52c69969bff94fa7f";let n=l},495664(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[{kind:"RootArgument",name:"isCloseupRelatedModulesFeedQuery"},{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"StructuredFeedPinRep_pin",selections:[{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRep_pin"}],type:"Pin",abstractKey:null};l.hash="01a6b973a00c0d3f6710769aad1217a1";let n=l},951714(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredFeedPinRep_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinsDisplay",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoPlayMode",storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shopSource",storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};l.hash="c2257f93f8dab7e78d6607ea10f30300";let n=l},704338(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCarouselModuleLogic_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null}],type:"Story",abstractKey:null};l.hash="26d497a1a073c7fe8235181600b7ab05";let n=l},785349(e,t,a){a.d(t,{D:()=>l});let l=new Set(["featured_boards","recipe_video"])},976365(e,t,a){a.d(t,{A:()=>s});var l=a(335831),n=a(859471),i=a(836737),r=a(562615);function s({hovered:e,rounding:t}){return(0,n.useEffect)(()=>{(0,l.A)("ShoppingRepOverlay","/app/common/react/components/shopping/YourShop/ShoppingRepOverlay.tsx")},[]),(0,r.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgb(51 51 51 / 0.8)"}},display:e?"block":"none",height:"100%",left:!0,opacity:20,position:"fixed",rounding:t,top:!0,width:"100%",zIndex:new i.rk(1)})}},909901(e,t,a){a.d(t,{A:()=>c});var l=a(335831),n=a(859471),i=a(836737),r=a(129625),s=a(625277),o=a(396901),d=a(491149),u=a(562615);function c({auxData:e,buttonSizeOverride:t,buttonText:a,component:c,contentIds:p,element:g,imageWidth:h,onClick:m,previewImageSrc:y,shape:f="square",storyId:x,storyType:_,url:b,view:v,viewParameter:S,dataTestId:j}){(0,n.useEffect)(()=>{(0,l.A)("ActionItemRep","/app/packages/StructuredFeed/ItemReps/ActionItemRep/ActionItemRep.tsx")},[]);let k=(0,d.qJ)(),{isDarkMode:w}=(0,s.D2)(),{logContextEvent:I}=(0,r.o)(),A=(0,o.A)(),F=(0,n.useMemo)(()=>!Number.isNaN(v)&&!Number.isNaN(S)&&!Number.isNaN(c)&&!Number.isNaN(g),[v,S,c,g]),T=t||("string"==typeof h?"lg":h>135&&h<=150?"md":h<=135?"sm":"lg");return(0,n.useEffect)(()=>{F&&I({event_type:120,view_type:v,view_parameter:S,component:c,element:g,aux_data:{content_ids:p,story_id:x,story_type:_,...e}})},[e,p,I,v,S,c,g,F,x,_]),(0,u.jsx)(i.az,{"data-test-id":"sf-action-item-rep",children:(0,u.jsx)(i.az,{color:"secondary",height:h,overflow:"hidden",rounding:"square"===f?400:"circle",width:h,children:(0,u.jsx)(i.n1,{height:"100%",rounding:"square"===f?400:"circle",wash:!0,width:"100%",children:(0,u.jsx)(i._V,{alt:A._('Action Item Rep Preview Image', 'actionItemRep.image', 'alt text for a preview image image in action item'),color:"#fff",fit:"cover",naturalHeight:50,naturalWidth:50,src:y,children:(0,u.jsx)(i.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.3)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,top:!0,width:"100%",children:(0,u.jsx)(i.vx,{color:w?"secondary":"tertiary",dataTestId:j,href:b,onClick:()=>{F&&I({event_type:k?101:102,view_type:v,view_parameter:S,component:c,element:g,aux_data:{content_ids:p,story_id:x,story_type:_,...e}}),m?.()},size:T,text:a})})})})})})}},634587(e,t,a){a.d(t,{A:()=>D});var l=a(335831),n=a(859471),i=a(979638),r=a(836737),s=a(129625),o=a(975799),d=a(70565),u=a(976365),c=a(396901),p=a(836159),g=a(904396),h=a(562615);function m({item:e={},imagePlaceholderColor:t=p.OU,onTap:a,shrink:i=!1}){(0,n.useEffect)(()=>{(0,l.A)("CategoryBubble","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/CategoryBubble.tsx")},[]);let s=(0,c.A)(),o=e?.cover_images?.[0],d=o?.["236x"],m=i?102:236;return(0,h.jsx)(r.Rp,{onTap:a,children:(0,h.jsxs)(n.Fragment,{children:[(0,h.jsx)(g.e,{children:({hovered:e,onMouseEnter:a,onMouseLeave:l})=>(0,h.jsx)(r.az,{"data-test-id":"category-bubble",marginBottom:2,onMouseEnter:a,onMouseLeave:l,children:(0,h.jsxs)(r.n1,{height:m,rounding:"circle",wash:!0,width:m,children:[(0,h.jsx)(u.A,{hovered:e,rounding:"circle"}),d?.url&&(0,h.jsx)(r._V,{alt:s._('Image previewing contents of an item', 'itemRep.userRep.previewImage', 'alt text for an image previewing the contents of an item'),color:t,fit:"cover",naturalHeight:m,naturalWidth:m,src:d.url})]})})}),e?.title?.format&&(0,h.jsx)(r.az,{width:m,children:(0,h.jsx)(r.KJ,{align:"center",weight:"bold",children:e.title.format})})]})})}var y=a(610973),f=a(260524),x=a(221266),_=a(672168),b=a(491149);let v=["236x","345x","474x"];var S=a(299437);let j={7:"magnifying-glass"};var k=a(376195);let w="rgba(17,17,17,0.4)",I="rgba(0,0,0,0)",A=Math.floor(261/173*100),F="pill",T={backgroundColor:"rgba(0, 0, 0, 0.4)"},R={backgroundColor:"rgba(0, 0, 0, 0.6)"};var z=a(437750);let P={1:"start",2:"center"},K=()=>{},C={2:m,3:function({item:e={},onTap:t}){(0,n.useEffect)(()=>{(0,l.A)("NavigationBubble","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/NavigationBubble.tsx")},[]);let a=(0,c.A)(),{icon:i,text:s}=function(e,t){switch(e){case 2:return{icon:"circles-status-all",text:t._('Categories', 'NavigationBubble.NavigationIcon.utils', 'Categories navigation button text')};case 3:return{icon:"shopping-bag",text:t._('Stores', 'ExploreArticleRep.NavigationBubble.utils', 'Stores navigation button text')};case 4:return{icon:"terms",text:t._('Your items', 'ExploreArticleRep.NavigationBubble.utils', 'Your items navigation button text')};default:return{icon:null}}}(e?.identifier_icon_type,a);return(0,h.jsx)(r.Rp,{onTap:t,rounding:i?500:F,tapStyle:"compress",children:(0,h.jsx)(g.e,{children:({active:t,hovered:a,onMouseEnter:l,onMouseLeave:n,onFocus:o,onBlur:d})=>(0,h.jsxs)(r.az,{"data-test-id":"navigation-bubble",onBlur:d,onFocus:o,onMouseEnter:l,onMouseLeave:n,rounding:500,children:[i&&(0,h.jsxs)(r.n1,{height:85,rounding:500,wash:!0,width:85,children:[(0,h.jsx)(u.A,{hovered:a}),(0,h.jsx)(r.az,{alignItems:"center",color:"secondary",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%",children:(0,h.jsx)(r.In,{accessibilityLabel:s||"",color:"default",icon:i,size:32})})]}),s&&(0,h.jsx)(r.az,{marginTop:2,width:85,children:(0,h.jsx)(r.KJ,{align:"center",weight:"bold",children:s})}),!i&&!s&&e?.title?.format&&(0,h.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:e.aux_fields?.button_background_color}},rounding:F,children:(0,h.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:t&&"rgba(0, 0, 0, 0.15)"||a&&"rgba(0, 0, 0, 0.06)"||void 0}},padding:4,rounding:F,children:(0,h.jsx)(r.KJ,{align:"center",color:e.aux_fields?.button_text_color==="#ffffff"?"inverse":"default",weight:"normal",children:(0,h.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},maxWidth:220,overflow:"hidden",children:e.title.format})})})})]})})})},1:function({item:e={},shrink:t,onTap:a}){(0,n.useEffect)(()=>{(0,l.A)("SearchBubble","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/SearchBubble.tsx")},[]);let i=(0,b.qJ)(),s=!t,o="100%",d=s?.75:.4,u=i||s?400:300,c=i||s?400:300,p=e?.cover_images?.[0],m=p?.["236x"],y=(!i||s)&&4||3;return(0,h.jsx)(r.Rp,{onTap:a,rounding:u,tapStyle:"compress",children:(0,h.jsx)(g.e,{children:({hovered:t,onMouseEnter:a,onMouseLeave:l})=>(0,h.jsx)(r.az,{"data-test-id":"search-bubble",onMouseEnter:a,onMouseLeave:l,position:"relative",rounding:u,children:(0,h.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{paddingBottom:`${100*d}%`}},position:"relative",top:!0,width:o,children:(0,h.jsx)(r.az,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,h.jsx)(r.n1,{height:"100%",rounding:c,width:o,children:m?.url&&(0,h.jsxs)(r._V,{alt:"",fit:"cover",naturalHeight:m?.height,naturalWidth:m?.width,role:"presentation",src:m.url,children:[(0,h.jsx)(r.az,{dangerouslySetInlineStyle:{__style:t?R:T},height:"100%",width:"100%"}),(0,h.jsx)(r.az,{alignItems:i&&s?"end":"center",display:"flex",height:"100%",justifyContent:i&&s?"start":"center",padding:y,position:"absolute",top:!0,width:o,children:e?.title?.format&&(0,h.jsx)(r.KJ,{align:i&&s?"start":"center",color:"light",weight:"bold",children:e.title.format})})]})})})})})})})},4:function({item:e,onTap:t,slotIndex:a}){(0,n.useEffect)(()=>{(0,l.A)("StyleBubble","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/StyleBubble.tsx")},[]);let{action:i,aux_fields:s,cover_images:o,dominant_colors:d,title:u}=e;if(!u||!o||!i)return null;let c=o.length<=0?[{}]:o.slice(0,2);return(0,h.jsx)(r.Rp,{onTap:t,rounding:400,tapStyle:"compress",children:(0,h.jsxs)(r.az,{alignItems:"center","data-test-id":"style-bubble",display:"flex",height:258,justifyContent:"center",overflow:"hidden",position:"relative",rounding:400,width:369,children:[(0,h.jsx)(r.so,{children:c.map((e,t)=>{let l=e["474x"]?.url||e["736x"]?.url||e["236x"]?.url;return l&&(0,h.jsx)(r.n1,{height:258,wash:!0,width:369/c.length,children:(0,h.jsx)(r._V,{alt:"",color:(d||[])[t],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:l})},`styleCarousel_bubble${a}_pin${t}`)})}),(0,h.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:s?.button_background_color}},paddingX:4,paddingY:3,position:"absolute",rounding:"pill",children:(0,h.jsx)(r.KJ,{align:"center",weight:"bold",children:(0,h.jsx)("span",{style:{color:s?.button_text_color,margin:"0"},children:u.format})})})]})})},13:({item:e={},onTap:t})=>{(0,n.useEffect)(()=>{(0,l.A)("DefaultBrandArticle","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/DefaultBrandArticle.tsx")},[]);let a=(0,c.A)(),i=(0,b.qJ)(),s=e.action?.url;if(!s)return null;let o=e.curator||{},d=o.full_name||"",u=o.username||"",p=o.image_medium_url||"",g=o.verified_identity?.verified||!1,m=o.is_verified_merchant||!1,[S={},j={}]=e.cover_images||[],k=(0,y.A)({images:S,resolutionPreferences:v})?.url||"",w=(0,y.A)({images:j,resolutionPreferences:v})?.url||"",I=i?236:175;return(0,h.jsxs)(r.az,{"data-test-id":"default-brand-article",width:I,children:[(0,h.jsx)(r.$A,{accessibilityLabel:"",href:s,onTap:t,rounding:300,children:(0,h.jsxs)(r.az,{height:157,children:[(0,h.jsx)(r.n1,{height:157,rounding:400,wash:!0,width:I,children:k&&w&&(0,h.jsxs)(r.so,{children:[(0,h.jsx)(f.A,{height:157,src:k,width:I/2}),(0,h.jsx)(r.az,{color:"default",width:1}),(0,h.jsx)(f.A,{height:157,src:w,width:I/2})]})}),(0,h.jsx)(r.az,{display:"flex",justifyContent:"center",marginTop:-8,children:(0,h.jsx)(x.A,{color:"gray",fullName:d||u,size:64,src:p||""})})]})}),(0,h.jsx)(r.az,{height:40}),d&&(0,h.jsx)(_.A,{isVerifiedIdentity:g,isVerifiedMerchant:m,name:d}),(0,h.jsx)(r.az,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:2,width:"100%",children:(0,h.jsx)(r.vx,{accessibilityLabel:a._('Navigate to a feed of products from this brand', 'StructuredFeed.ItemReps.ExploreArticleRep.DefaultBrandArticle.linkAccessibilityLabel', 'Accessibility label on a brand article that leads to a feed of products from that brand'),href:s,size:"lg",text:a._('Shop', 'StructuredFeed.ItemReps.ExploreArticleRep.DefaultBrandArticle.ButtonText', 'Text on a button under a brand article that leads to a feed of products from that brand')})})]})},19:function({item:e,onTap:t,story:a}){(0,n.useEffect)(()=>{(0,l.A)("TriplePreviewDisplayCard","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/TriplePreviewDisplayCard.tsx")},[]);let i=(0,b.qJ)(),{action:s,cover_images:o,dominant_colors:d,title:u,subtitle:c}=e,p=u?.format;if(!p||!o||!s)return null;let g=i?200:150,m=c?.format||"",f=o.slice(0,3),x=P[a?.display_options?.header_display?.text_alignment||2];return(0,h.jsx)(r.Rp,{onTap:t,rounding:400,tapStyle:"compress",children:(0,h.jsxs)(r.az,{"data-test-id":"triple-preview-display-card",rounding:400,width:"100%",children:[(0,h.jsx)(r.n1,{height:g,rounding:400,wash:!0,width:"100%",children:(0,h.jsx)(r.so,{alignItems:"stretch",justifyContent:"start",children:f.map((e,t)=>{let a=(0,y.A)({images:e,resolutionPreferences:["200x","236x","400x"]})?.url||"";return(0,h.jsx)(r.az,{height:g,width:i?`${100/f.length}%`:108,children:(0,h.jsx)(r._V,{alt:"",color:(d||[])[t],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:a})},a)})})}),(0,h.jsxs)(r.az,{paddingX:2,paddingY:3,children:[(0,h.jsx)(r.so,{justifyContent:x,children:(0,h.jsx)(r.KJ,{align:x,size:"400",weight:"bold",children:p})}),m&&(0,h.jsx)(r.az,{display:"flex",justifyContent:x,marginTop:1,children:(0,h.jsx)(r.KJ,{align:x,color:"subtle",size:i?"200":"100",children:m})})]})]})})},20:function({item:e,onTap:t}){(0,n.useEffect)(()=>{(0,l.A)("StackedCollageDisplayCard","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/StackedCollageDisplayCard.tsx")},[]);let a=(0,b.qJ)(),{action:i,cover_images:s,aux_fields:o,title:d,subtitle:u,dominant_colors:c=[]}=e,p=d?.format||"",{background_color:g}=o||{};if(!p||!s||!i||!g)return null;let m=a?258:216,f=a?186:160,x=a?126:108,_=a?137:118,v=a?92:80,S=u?.format||"",j=s.slice(0,3).map(e=>(0,y.A)({images:e,resolutionPreferences:["200x","236x","400x"]})?.url||""),k=(0,z.N9)(g)?"light":"dark";return(0,h.jsx)(r.Rp,{onTap:t,rounding:400,tapStyle:"compress",children:(0,h.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:g}},"data-test-id":"stacked-collage-display-card",height:m,overflow:"hidden",rounding:400,width:m,children:(0,h.jsxs)(r.az,{height:m,padding:2,position:"relative",children:[(0,h.jsxs)(r.az,{marginBottom:3,marginTop:4,children:[(0,h.jsx)(r.so,{justifyContent:"center",children:(0,h.jsx)(r.KJ,{align:"center",color:k,lineClamp:1,size:"400",weight:"bold",children:p})}),S&&(0,h.jsx)(r.az,{display:"flex",justifyContent:"center",marginTop:1,children:(0,h.jsx)(r.KJ,{align:"center",color:k,lineClamp:1,size:"100",children:u?.format})})]}),(0,h.jsx)(r.az,{bottom:!0,left:!0,position:"absolute",children:(0,h.jsx)(r.n1,{height:_,rounding:400,wash:!0,width:v,children:(0,h.jsx)(r.az,{height:_,width:v,children:(0,h.jsx)(r._V,{alt:"",color:c[1],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:j[1]})})})}),(0,h.jsx)(r.az,{bottom:!0,position:"absolute",right:!0,children:(0,h.jsx)(r.n1,{height:_,rounding:400,wash:!0,width:v,children:(0,h.jsx)(r.az,{height:_,width:v,children:(0,h.jsx)(r._V,{alt:"",color:c[2],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:j[2]})})})}),(0,h.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{bottom:"-22px"}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,children:(0,h.jsx)(r.n1,{height:f,rounding:400,wash:!0,width:x,children:(0,h.jsx)(r.az,{height:f,width:x,children:(0,h.jsx)(r._V,{alt:"",color:c[0],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:j[0]})})})})]})})})},21:function({item:e,itemWidthHeightRatio:t,slideWidth:a=252,onTap:i}){(0,n.useEffect)(()=>{(0,l.A)("ImageAndTitleRep","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/ImageAndTitleRep.tsx")},[]);let{cover_images:s,dominant_colors:o,title:d}=e;if(!d||!s)return null;let u=Math.min(a*(t||.75),240);return(0,h.jsx)(r.Rp,{onTap:i,rounding:400,tapStyle:"compress",children:(0,h.jsxs)(r.az,{color:"default",elevation:"shadowFloating",height:u,marginBottom:4,overflow:"hidden",position:"relative",rounding:400,width:a,children:[(0,h.jsx)(r.so,{alignItems:"stretch",direction:"row",height:u,justifyContent:"start",width:a,children:s.map(e=>e["236x"]?.url&&(0,h.jsx)(r.az,{height:u,width:a/s.length,children:(0,h.jsx)(r._V,{alt:"",color:(o||[])[0],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:e["236x"].url,children:(0,h.jsx)(r.az,{alignItems:"end",dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}},display:"flex",height:"100%",width:"100%"})})},e["236x"].url))}),(0,h.jsx)(r.az,{bottom:!0,marginBottom:3,marginStart:3,position:"absolute",children:(0,h.jsx)(r.KJ,{align:"start",color:"light",size:"300",weight:"bold",children:d.format})})]})})},10:function({item:e,onTap:t}){(0,n.useEffect)(()=>{(0,l.A)("MultiImageArticle","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/MultiImageArticle.tsx")},[]);let a=(0,c.A)(),{isRTL:i}=(0,k._8)(),{hovered:s,onMouseEnter:o,onMouseLeave:d}=(0,g.A)(),{action:u,cover_images:p,dominant_colors:m,title:f,subtitle:x}=e,_=f?.format;if(!_||!p||!u)return null;let b="blended_module_type_topics_board_recs"===e.story_type?a._('Ideas for your board', 'pinFeedCard.singleBoard.subtitle', 'Pinfeed Card Single Board Module Subtitle'):x?.format||"",v=p.slice(0,4);return(0,h.jsx)(r.Rp,{onMouseEnter:o,onMouseLeave:d,onTap:t,tapStyle:"compress",children:(0,h.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:s?w:I,border:s?"2px solid #FFFFFF":"2px solid #CDCDCD"}},"data-test-id":"multi-image-article-display-card",marginBottom:0,rounding:400,width:"100%",children:(0,h.jsxs)(r.az,{marginBottom:5,marginEnd:5,marginStart:5,marginTop:5,children:[(0,h.jsxs)(r.az,{display:"flex",marginBottom:1,marginEnd:2,marginStart:2,children:[(0,h.jsx)(r.az,{display:"block",lgDisplay:"none",mdDisplay:"block",smDisplay:"block",children:(0,h.jsx)(r.KJ,{size:"200",children:b})}),(0,h.jsx)(r.az,{display:"none",lgDisplay:"block",mdDisplay:"none",smDisplay:"none",children:(0,h.jsx)(r.KJ,{size:"300",children:b})})]}),s&&(0,h.jsx)(r.az,{left:i,marginEnd:5,marginTop:5,position:"absolute",right:!i,top:!0,children:(0,h.jsx)(r.$n,{size:"lg",text:a._('See more', 'pinFeedCard.singleBoardModal.buttonText', 'Button text to see more ideas')})}),(0,h.jsxs)(r.az,{display:"flex",marginBottom:3,marginEnd:2,marginStart:2,children:[(0,h.jsx)(r.az,{display:"block",lgDisplay:"none",mdDisplay:"block",smDisplay:"block",children:(0,h.jsx)(r._Y,{accessibilityLevel:3,size:"600",children:_})}),(0,h.jsx)(r.az,{display:"none",lgDisplay:"block",mdDisplay:"none",smDisplay:"none",children:(0,h.jsx)(r._Y,{accessibilityLevel:3,size:"700",children:_})})]}),(0,h.jsx)(r.n1,{rounding:300,children:(0,h.jsxs)(r.so,{alignItems:"stretch",justifyContent:"start",children:[(0,h.jsx)(r.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:s?w:I}},left:!0,position:"absolute",right:!0,top:!0}),v.map((e,t)=>{let a=(0,y.A)({images:e,resolutionPreferences:["200x","236x","400x"]})?.url||"",l=(0,y.A)({images:e,resolutionPreferences:["200x"]})?.url,n=(0,y.A)({images:e,resolutionPreferences:["474x"]})?.url,i=(0,y.A)({images:e,resolutionPreferences:["736x"]})?.url,o=[l?`${l} 1x`:"",n?`${n} 2x`:"",i?`${i} 3x`:""].filter(Boolean).join(", ");return(0,h.jsx)(r.VP,{span:3,children:(0,h.jsxs)(r.so,{children:[t>0&&(0,h.jsx)(r.az,{color:"default",width:2}),(0,h.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{paddingBottom:`${A}%`}},position:"relative",width:"100%",children:(0,h.jsxs)(r.az,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:[(0,h.jsx)(r.n1,{height:"100%",wash:!0,width:"100%",children:(0,h.jsx)(r._V,{alt:"",color:(m||[])[t],fit:"cover",naturalHeight:261,naturalWidth:173,role:"presentation",src:a,srcSet:o})}),(0,h.jsx)(r.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:s?w:I}},left:!0,position:"absolute",right:!0,top:!0})]})},a)]})},`img-display-box-${a}`)})]})})]})})})},34:function({item:e,onTap:t,slotIndex:a}){(0,n.useEffect)(()=>{(0,l.A)("IconAndTextBubble","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/IconAndTextBubble.tsx")},[]);let[i,s]=(0,n.useState)(!1),o=(0,c.A)();if(!e)return null;let{identifier_icon_type:d,title:u}=e||{},p=d&&(0,S.A)(j,d)?j[d]:null,g=(0,y.A)({images:(e.cover_images||[])[0]||{},resolutionPreferences:["170x","236x","474x","564x","736x","orig"]}),m=!!p,f=!m&&!!g&&!!g.url;return(0,h.jsx)(r.Rp,{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onTap:t,role:"button",rounding:f?400:300,tapStyle:"none",children:(0,h.jsxs)(r.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:i?"#dadada":"var(--sema-color-background-wash-scrims-opaque)"}},display:"flex",height:f?80:43,overflow:"hidden",paddingX:f?1:2,rounding:300,children:[m&&(0,h.jsx)(r.az,{marginEnd:2,children:(0,h.jsx)(r.In,{accessibilityLabel:o._('Related search link', 'RelatedSearch.searchIcon.accessibilityLabel', 'Accessibility label for the search icon in each related search link'),icon:p})}),f&&(0,h.jsx)(r.az,{height:72,marginEnd:4,rounding:300,width:72,children:(0,h.jsx)(r.n1,{height:72,rounding:300,width:72,children:(0,h.jsx)(r._V,{alt:"",color:(e.dominant_colors||[])[0],fit:"cover",naturalHeight:g.height||1,naturalWidth:g.width||1,role:"presentation",src:g.url})})}),(0,h.jsx)(r.az,{marginEnd:4,children:(0,h.jsx)(r.KJ,{align:"start",lineClamp:f?2:1,children:u.format})})]})},`icon-and-text-bubble-${a}`)}};function D(e){(0,n.useEffect)(()=>{(0,l.A)("ExploreArticleRep","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/ExploreArticleRep.tsx")},[]);let{auxData:t,component:a,slotIndex:u,item:c,showExpandedHeader:p,story:g,view:y,viewParameter:f}=e,{display_options:x,story_type:_,id:b,content_ids:v,tracking_params:S}=g||{},{aux_fields:j}=c||{},{query:k}=j||{},{logContextEvent:w}=(0,s.o)(),I=(0,i.Zp)(),A=c?.id;c&&(c.story_type=_);let F=(0,n.useMemo)(()=>({story_type:_,story_id:b,content_ids:v,article_id:A,query:k,...t}),[A,t,v,b,k,_]),T=(0,n.useMemo)(()=>({...F,module_image_signature:function(e){if(!e)return;let t=e.cover_images?.[0],a=t?.originals?.url||t&&Object.values(t)[0]?.url;return a?(0,o.A)(a):void 0}(c)||null}),[F,c]),R=(0,d.bi)({componentType:a,contextLogData:F,impressionType:"Article",loggingId:A,objectIdStr:A,slotIndex:u,viewParameter:f,viewType:y}),z=p?x?.item_view_rep_style?.expanded_explore_article_rep_style:x?.item_view_rep_style?.explore_article_rep_style,{action:P}=c||{},{url:D=""}=P||{},M=Object.hasOwnProperty.call(C,z)?C[z]:m,E=p?K:()=>{I(D),w({event_type:101,component:a,view_type:y,view_parameter:f,aux_data:T,clientTrackingParams:S})},L=x?.num_columns_requested===1;return(0,h.jsx)(r.az,{ref:R,children:(0,h.jsx)(M,{...e,onTap:E,shrink:L})})}},852384(e,t,a){a.d(t,{A:()=>f});var l=a(335831),n=a(859471),i=a(836737),r=a(129625),s=a(865887);function o(e,t,a){return{backgroundColor:`rgba(${e.join(", ")}, ${a||t?.5:.35})`,marginRight:t?"2px":"0px",marginLeft:t?"2px":"0px"}}var d=a(562615);let u={MOBILE:{HEIGHT_PX:64,WIDTH_PX:48},SMALL:{HEIGHT_PX:72,WIDTH_PX:54},DEFAULT:{HEIGHT_PX:96,WIDTH_PX:72},LARGE:{HEIGHT_PX:130,WIDTH_PX:98}};function c({fanOut:e,card:t,index:a,size:r,rounding:s}){let o;(0,n.useEffect)(()=>{(0,l.A)("PinCard","/app/packages/StructuredFeed/ItemReps/MoreIdeasRep/PinCard.tsx")},[]);let c=u[r],{height:p=c.HEIGHT_PX,url:g,width:h=c.WIDTH_PX,colorRGB:m,opacity:y}=t;return g?o=(0,d.jsx)(i._V,{alt:g,fit:"cover",naturalHeight:p,naturalWidth:h,src:g}):m&&y&&(o=(0,d.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:`rgba(${m.join(", ")}, ${y})`}},height:c.HEIGHT_PX,width:c.WIDTH_PX})),(0,d.jsx)(i.az,{dangerouslySetInlineStyle:{__style:((e,t,a)=>{let l;switch(a){case"MOBILE":l={0:{transform:"rotate(-15deg)",top:"6px",left:"16px"},1:{transform:"rotate(0deg)",top:"3px",left:"30px"},2:{transform:"rotate(15deg)",top:"6px",left:"44px"}};break;case"SMALL":l={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"12px",left:"12px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"6px":"10px",left:"26px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"12px",left:"40px"}};break;case"LARGE":l={0:{transform:t?"rotate(-26deg)":"rotate(-15deg)",top:"50px",left:"44px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"36px":"40px",left:"68px"},2:{transform:t?"rotate(26deg)":"rotate(15deg)",top:"56px",left:"98px"}};break;default:l={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"20px",left:"64px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"10px":"14px",left:"82px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"20px",left:"100px"}}}let n=l[e];return n.border="1px solid #FFFFFF",n.transition="all 150ms ease-out",n})(a,e,r)},position:"absolute",rounding:s??500,children:(0,d.jsx)(i.n1,{height:c.HEIGHT_PX,rounding:500,wash:!0,width:c.WIDTH_PX,children:o})})}function p(){return(0,n.useEffect)(()=>{(0,l.A)("WrapperWash","/app/packages/StructuredFeed/ItemReps/MoreIdeasRep/WrapperWash.tsx")},[]),(0,d.jsx)(i.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.03)"}},left:!0,position:"absolute",right:!0,rounding:400,top:!0})}var g=a(912397),h=a(491149);let m={1:function(e){(0,n.useEffect)(()=>{(0,l.A)("ListItemCard","/app/packages/StructuredFeed/ItemReps/MoreIdeasRep/ListItemCard.tsx")},[]);let{pinCards:t,isClicked:a,isHovered:r,item:s={},story:u}=e,m=(0,h.qJ)(),y=(0,g.A)(),f=u&&u.objects?.length,{board_name:x,header_text:_,top_image_dominant_color_rgb:b}=s,v=a?106:110,S=a?295:299;m||(v=90,S=1===f?"100%":y?232:270);let j=155;return m||(j=y?108:148),(0,d.jsxs)(i.az,{dangerouslySetInlineStyle:{__style:o(b,a,r)},display:"flex",height:v,paddingY:2,position:"relative",rounding:400,width:S,children:[(0,d.jsx)(p,{}),(0,d.jsx)(i.az,{position:"relative",width:m?112:100,children:t.map((e,t)=>(0,d.jsx)(c,{card:e,fanOut:r||a,index:t,size:m?"SMALL":"MOBILE"},t))}),(0,d.jsxs)(i.az,{direction:"column",display:"flex",justifyContent:"center",marginStart:m?2:3,width:j,children:[(0,d.jsx)(i.KJ,{size:m?"200":"100",children:_}),(0,d.jsx)(i.KJ,{lineClamp:2,size:"400",weight:"bold",children:x})]})]})},3:function(e){(0,n.useEffect)(()=>{(0,l.A)("ListItemCardSquare","/app/packages/StructuredFeed/ItemReps/MoreIdeasRep/ListItemCardSquare.tsx")},[]);let{pinCards:t,isClicked:a,isHovered:r,item:s}=e,{board_name:u,top_image_dominant_color_rgb:g}=s;return(0,d.jsxs)(i.az,{alignItems:"end",dangerouslySetInlineStyle:{__style:o(g,a,r)},display:"flex",height:a?165:169,justifyContent:"center",paddingX:4,paddingY:3,position:"relative",rounding:400,width:a?232:236,children:[(0,d.jsx)(p,{}),t.map((e,t)=>(0,d.jsx)(c,{card:e,fanOut:r||a,index:t,size:"DEFAULT"},t)),(0,d.jsx)(i.KJ,{align:"center",lineClamp:1,size:"200",weight:"bold",children:u})]})},4:function(e){(0,n.useEffect)(()=>{(0,l.A)("ListItemFeedCard","/app/packages/StructuredFeed/ItemReps/MoreIdeasRep/ListItemFeedCard.tsx")},[]);let{logContextEvent:t}=(0,r.o)(),{pinCards:a,isHovered:s,item:u,view:g,viewParameter:h}=e,{action:m,board_name:y,header_text:f,ideas_deep_link_url:x,top_image_dominant_color_rgb:_}=u,b=m?.url??x.concat("?ideas_referrer=25");return(0,d.jsxs)(i.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:o(_,!1,s)},direction:"column",display:"flex",justifyContent:"end",marginBottom:6,minHeight:377,paddingX:4,paddingY:8,position:"relative",rounding:400,width:236,children:[a.map((e,t)=>(0,d.jsx)(c,{card:e,fanOut:s,index:t,size:"LARGE"},t)),(0,d.jsx)(i.az,{height:168,width:"100%"}),(0,d.jsx)(p,{}),(0,d.jsxs)(i.so,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"end",children:[(0,d.jsxs)(i.az,{alignItems:"center",direction:"column",display:"flex",marginBottom:5,marginTop:5,children:[(0,d.jsx)(i.az,{marginBottom:1,children:(0,d.jsx)(i.KJ,{size:"200",weight:"bold",children:f})}),(0,d.jsx)(i.KJ,{align:"center",size:"400",weight:"bold",children:y})]}),(0,d.jsx)(i.az,{display:"flex",justifyContent:"center",marginTop:1,position:"relative",width:"100%",children:(0,d.jsx)(i.vx,{color:"tertiary",href:b,onClick:({event:e})=>{e.stopPropagation(),t({event_type:101,view_type:g,view_parameter:h,component:14268,element:13002,object_id_str:u.board_id})},size:"lg",text:"Explore"})})]})]})}},y=["100%","60%"];function f(e){(0,n.useEffect)(()=>{(0,l.A)("MoreIdeasRep","/app/packages/StructuredFeed/ItemReps/MoreIdeasRep/MoreIdeasRep.tsx")},[]);let{component:t,isInViewOrNext:a,item:{action:o,board_id:u,ideas_deep_link_url:c,images:p,image_dominant_color_rgb:g},slotIndex:f,story:x={},view:_,viewParameter:b}=e,{logContextEvent:v}=(0,r.o)(),S=(0,h.Ay)(),{display_options:j,objects:k}=x,w=k?.length,[I,A]=(0,n.useState)(!1),[F,T]=(0,n.useState)(!1),[R,z]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if("desktop"===S){let e=setTimeout(()=>z(!0),700);return()=>{clearTimeout(e)}}},[S]);let P=[],K="desktop"!==S?s.O:"170x";(a||"desktop"!==S)&&(P=R?[...p[K]]:[p[K][0]]);let C=3-P.length;for(let e=0;e<C;e+=1)P.push({colorRGB:g,opacity:y[e]});P.reverse();let D=j?.item_view_rep_style?.more_ideas_rep_style,M=m[D],E=t||s.Z[D],L=o?.url??c.concat("?ideas_referrer=25");return M&&(0,d.jsx)(i.$A,{href:L,onMouseDown:()=>T(!0),onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),onTap:()=>v({event_type:101,view_type:_,view_parameter:b,component:E,element:13002,object_id_str:u,aux_data:{index:f,total_object_count:w}}),children:(0,d.jsx)(M,{isClicked:F,isHovered:I,pinCards:P,...e})})}},865887(e,t,a){a.d(t,{O:()=>l,Z:()=>n});let l="136x136",n={1:14114,3:14074,4:14268}},139293(e,t,a){a.d(t,{A:()=>F});var l,n,i,r=a(335831),s=a(859471);a(825193);var o=a(979638),d=a(836737),u=a(900565),c=a(528989),p=a(619410),g=a(376195),h=a(455444),m=a(218781),y=a(491149),f=a(453100),x=a(465191),_=a(944415),b=a(562615);let v=(void 0!==l||(l=a(495664)).hash&&"01a6b973a00c0d3f6710769aad1217a1"!==l.hash&&console.error("The definition of 'StructuredFeedPinRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),S=(void 0!==n||(n=a(891088)).hash&&"4ec2d105acf1a4e52c69969bff94fa7f"!==n.hash&&console.error("The definition of 'StructuredFeedPinRep_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),j=(void 0!==i||(i=a(951714)).hash&&"c2257f93f8dab7e78d6607ea10f30300"!==i.hash&&console.error("The definition of 'StructuredFeedPinRep_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),k=new Set(["product_tagged_shopping_module_upsell"]),w=new Set(["recipe_video","p2p_recipe_video"]),I=new Set([90,139]),A=new Set(["board_shop_tool_module","shopping_module_closeup","product_pins","shopping_list","shop_tab_upsell"]);function F(e){var t;(0,s.useEffect)(()=>{(0,r.A)("StructuredFeedPinRep","/app/packages/StructuredFeed/ItemReps/PinRep/StructuredFeedPinRep.tsx")},[]);let{pins_display:a}=(0,m.A)((0,o.zy)().search),{auxData:l,parentPinKey:n,component:i,forcedHover:F,hidePinBetterSaveDropdown:T,imageWidth:R=236,isInDesktopCarousel:z,isInMobileCarousel:P,item:K,itemWidthHeightRatio:C,pinKey:D,productTagParentPinId:M,resolution:E,saveButtonOptions:L,slideWidth:B=175,slotIndex:O,surface:W,storyKey:H,view:U,viewParameter:V}=e,N=(0,u.A)(S,n),$=(0,u.A)(v,D),J=$||K,X=(0,u.A)(j,H),{isAuthenticated:q}=(0,g._8)(),G="desktop"===(0,y.Ay)(),{checkExperiment:Y}=(0,c.A)(),Q=(0,_.A)(Y,"structured_feed");if(!J)return null;let{storyType:Z,containerType:ee,storyId:et,contentIds:ea,displayOptions:el,user:en}=X||{},ei=el?.contentDisplay?.pinsDisplay,er=C??el?.contentDisplay?.itemWidthHeightRatio,{debug:es}=J,eo=$?.entityId||K?.id,ed=$?.trackingParams||K?.tracking_params,eu=![3,1,2].includes(ei??Number(a))||!w.has(Z)&&I.has(ee),ec={story_type:Z,story_id:et,content_ids:ea,grid_index:O,pin_id:eo,...l},ep=W&&["ShoppingGridSmallCarousel"].includes(W)?W:X?.containerType===90&&"number"==typeof X?.displayOptions?.contentDisplay?.videoPlayMode?"VideoCarouselModule":X?.displayOptions?.contentDisplay?.pinsDisplay===2&&90===X.containerType&&X?.displayOptions?.contentDisplay?.gridLayout?.cols!==-1?"ShoppingCarousel":X?.shopSource||A.has(X?.storyType)||X?.displayOptions?.contentDisplay?.pinsDisplay===2?X?.storyType==="search_3p_ad_only_module"?"SearchAdsOnlyModule":"ShoppingDynamicHeightGrid":W||"StoryFeedNonProduct",{width:eg,height:eh}="string"==typeof(t=G?R:B)?{width:t,height:eu?t:void 0}:eu?{width:t,height:t}:er?{width:t,height:t*er}:{width:void 0,height:void 0},em={auxData:ec,componentType:el?.contentDisplay?.componentType??i,isInFullWidthStory:X?.displayOptions?.contentDisplay?.gridLayout?.cols===-1,impressionData:ec,slotIndex:O,trackingParams:ed,viewData:{pin_id:eo},viewParameter:V,viewType:U??3},ey={disableHover:!G,forcedHover:F,hidePinBetterSaveDropdown:T,pinImageCrop:eg&&eh?{width:eg,height:eh}:null,pinOwner:k.has(Z)?en??K?.pinner??K?.native_creator??K?.origin_pinner??null:null,parentPinKey:N,productTagParentPinId:M,resolution:E,saveButtonOptions:L,surface:ep},ef={duploDisablePinCardPadding:P,duploIsSquarePin:(!G||!q)&&eu,pinKey:$,isInDesktopCarousel:!!z,trafficSource:["ShoppingDynamicHeightGrid","SearchAdsOnlyModule"].includes(ep)?"shop_feed":void 0},ex=(0,b.jsxs)(d.az,{"data-grid-item":"true","data-test-id":p.lH,children:[(0,b.jsx)(f.A,{...em,...ey,...ef}),es&&(0,b.jsx)(h.f,{data:es})]}),e_=Q?(0,b.jsx)(x.A,{children:ex}):ex;return eu?(0,b.jsx)(d.az,{flex:"none",width:eg,children:e_},eo):e_}},260524(e,t,a){a.d(t,{A:()=>s});var l=a(335831),n=a(859471),i=a(836737),r=a(562615);function s({height:e,width:t,src:a}){return(0,n.useEffect)(()=>{(0,l.A)("PreviewImage","/app/packages/StructuredFeed/ItemReps/UserRep/PreviewImage.tsx")},[]),(0,r.jsx)(i.az,{height:e,width:t,children:(0,r.jsx)(i._V,{alt:"",color:"lightGray",fit:"cover",naturalHeight:e,naturalWidth:t,role:"presentation",src:a})})}},285280(e,t,a){a.d(t,{A:()=>m});var l=a(335831),n=a(859471),i=a(979638),r=a(836737),s=a(129625),o=a(70565),d=a(221266),u=a(672168),c=a(836159),p=a(562615),g=a(260524);let h={5:({item:e,imagePlaceholderColor:t=c.OU})=>{(0,n.useEffect)(()=>{(0,l.A)("AvatarUserRep","/app/packages/StructuredFeed/ItemReps/UserRep/AvatarUserRep.tsx")},[]);let{username:a,image_large_url:i,full_name:s,is_verified_merchant:o=!1,verified_identity:g}=e;return(0,p.jsxs)(r.az,{width:236,children:[(0,p.jsx)(r.az,{display:"flex",justifyContent:"center",marginBottom:2,children:(0,p.jsx)(d.A,{color:t,fullName:s||a,size:120,src:i||""})}),s&&(0,p.jsx)(u.A,{isVerifiedIdentity:!!g?.verified,isVerifiedMerchant:o,name:s})]})},1:({item:e={},story:t,imagePlaceholderColor:a=c.OU})=>{(0,n.useEffect)(()=>{(0,l.A)("SinglePreviewUserRep","/app/packages/StructuredFeed/ItemReps/UserRep/SinglePreviewUserRep.tsx")},[]);let{username:i,image_large_url:s,full_name:o,id:h,is_verified_merchant:m=!1,verified_identity:y}=e,f=t?.custom_properties?.preview_image_map?.[h]?.[0]||"";return(0,p.jsxs)(r.az,{height:236,width:236,children:[(0,p.jsx)(r.n1,{height:177,rounding:400,wash:!0,width:236,children:(0,p.jsx)(g.A,{height:236,src:f,width:236})}),(0,p.jsx)(r.az,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:-12,children:(0,p.jsx)(d.A,{color:a,fullName:o||i,size:94.4,src:s||""})}),o&&(0,p.jsx)(u.A,{isVerifiedIdentity:!!y?.verified,isVerifiedMerchant:m,name:o})]})},2:({item:e={},story:t})=>{(0,n.useEffect)(()=>{(0,l.A)("DoublePreviewUserRep","/app/packages/StructuredFeed/ItemReps/UserRep/DoublePreviewUserRep.tsx")},[]);let{username:a,image_large_url:i,full_name:s,id:o,is_verified_merchant:c=!1,verified_identity:h}=e,[m="",y=""]=t?.custom_properties?.preview_image_map?.[o]||[];return(0,p.jsxs)(r.az,{width:236,children:[(0,p.jsxs)(r.az,{height:236,children:[(0,p.jsx)(r.n1,{height:177,rounding:400,wash:!0,width:236,children:(0,p.jsxs)(r.so,{children:[(0,p.jsx)(g.A,{height:236,src:m,width:118}),(0,p.jsx)(r.az,{color:"default",width:2}),(0,p.jsx)(g.A,{height:236,src:y,width:118})]})}),(0,p.jsx)(r.az,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:-12,children:(0,p.jsx)(d.A,{color:"gray",fullName:s||a,size:94.4,src:i||""})})]}),s&&(0,p.jsx)(u.A,{isVerifiedIdentity:!!h?.verified,isVerifiedMerchant:c,name:s})]})}};function m(e){(0,n.useEffect)(()=>{(0,l.A)("UserRep","/app/packages/StructuredFeed/ItemReps/UserRep/UserRep.tsx")},[]);let{logContextEvent:t}=(0,s.o)(),a=(0,i.Zp)(),{story:d={},slotIndex:u,auxData:c,component:g,view:m,viewParameter:y,item:f}=e,x=h[d.display_options?.item_view_rep_style?.user_rep_style||5],_=(0,n.useMemo)(()=>({story_type:d.story_type,story_id:d.id,content_ids:d.content_ids,user_id:f.id,...c}),[f,d,c]),b=(0,o.bi)({contextLogData:_,impressionType:"User",loggingId:f.id,objectIdStr:f.id,slotIndex:u,viewParameter:y,viewType:m});return x?(0,p.jsx)(r.Rp,{ref:b,onTap:()=>{t({event_type:101,view_type:m,view_parameter:y,component:g,aux_data:_}),a(`/${f.username}`)},children:(0,p.jsx)(x,{...e})}):null}},221266(e,t,a){a.d(t,{A:()=>c});var l=a(335831),n=a(859471),i=a(836737),r=a(976365),s=a(396901),o=a(410899),d=a(904396),u=a(562615);function c({color:e,fullName:t,size:a,src:c}){(0,n.useEffect)(()=>{(0,l.A)("UserRepImage","/app/packages/StructuredFeed/ItemReps/UserRep/UserRepImage.tsx")},[]);let p=(0,s.A)();return(0,u.jsx)(d.e,{children:({hovered:l,onMouseEnter:n,onMouseLeave:s})=>(0,u.jsx)(i.az,{"data-test-id":"category-bubble",marginBottom:2,onMouseEnter:n,onMouseLeave:s,children:(0,u.jsxs)(i.n1,{height:a,rounding:"circle",wash:!0,width:a,children:[(0,u.jsx)(r.A,{hovered:l,rounding:"circle"}),(0,u.jsx)(i._V,{alt:(0,o.vQ)(p._('Logo of {{ fullName }}', 'itemRep.userRep.brandLogo', 'Alt text for the brand logo'),{fullName:t}).join(""),color:e,naturalHeight:a,naturalWidth:a,src:c})]})})})}},672168(e,t,a){a.d(t,{A:()=>o});var l=a(335831),n=a(859471),i=a(836737),r=a(48245),s=a(562615);function o({name:e,isVerifiedIdentity:t,isVerifiedMerchant:a}){return(0,n.useEffect)(()=>{(0,l.A)("UserRepName","/app/packages/StructuredFeed/ItemReps/UserRep/UserRepName.tsx")},[]),(0,s.jsxs)(i.so,{alignContent:"center",alignItems:"stretch",gap:1,justifyContent:"center",children:[e&&(0,s.jsx)(i.KJ,{inline:!0,weight:"bold",children:e}),(0,s.jsx)(r.A,{isVerifiedIdentity:t,isVerifiedMerchant:a,size:"sm"})]})}},237745(e,t,a){a.d(t,{A:()=>A});var l,n,i,r,s,o=a(335831),d=a(859471);a(825193);var u=a(836737),c=a(233944),p=a(900565),g=a(634587),h=a(852384),m=a(139293),y=a(285280),f=a(488265),x=a(269768),_=a(255543);function b(e){return new URL(`${"ssl"===e.headers["x-forwarded-protocol"]||"https"===e.headers["x-forwarded-proto"]||"https"===e.headers["original-proto"]?"https":"http"}://${e.headers.host}${e.url}`).pathname}var v=a(562615);let S=(void 0!==l||(l=a(715461)).hash&&"96a93041627ef227cdc3d5307fb9c8bf"!==l.hash&&console.error("The definition of 'ItemRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),j=(void 0!==n||(n=a(537989)).hash&&"9573d9edc526dd9f6d96807f041a0b18"!==n.hash&&console.error("The definition of 'ItemRep_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),k=(void 0!==i||(i=a(194262)).hash&&"228c9215d3c4adae6df47a885b46738e"!==i.hash&&console.error("The definition of 'ItemRep_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),w=(void 0!==r||(r=a(790807)).hash&&"5b5a0a839fbf3fe4f1cbdd049446a9fd"!==r.hash&&console.error("The definition of 'ItemRep_relatedInterest' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),I=(void 0!==s||(s=a(349815)).hash&&"4a000bdc407a64d5446d7c674b9f47e7"!==s.hash&&console.error("The definition of 'ItemRep_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function A(e){(0,d.useEffect)(()=>{(0,o.A)("ItemRep","/app/packages/StructuredFeed/ItemReps/utils/ItemRep.tsx")},[]);let{parentPinKey:t,pinKey:a,boardKey:l,relatedInterestKey:n,item:i,storyKey:r,...s}=e,A=(0,p.A)(j,t),F=(0,p.A)(S,a),T=(0,p.A)(k,l),R=(0,p.A)(w,n),z=(0,p.A)(I,r),P=(0,f.A)(),K=(0,c.A)(),{slotIndex:C,view:D,viewParameter:M,story:E,...L}=s,B=null;if(z?B=z:E&&(B={type:"Legacy",data:E}),F)if(F?.entityId&&D)return(0,v.jsx)(m.A,{...L,item:i,parentPinKey:A,pinKey:F,slotIndex:C,storyKey:B});else return null;if(T){if(T?.entityId&&D)return(0,v.jsx)(u.az,{marginBottom:2,marginTop:2,width:s.imageWidth,children:(0,v.jsx)(x.default,{...s,auxData:s.auxData,boardKey:T,isCollaboratorsAttributionVisible:!0,isUsingMask:!0,showFollowButton:!1,slotIndex:C,type:"full",viewObjectIdStr:T.entityId,viewParameter:M??void 0,viewType:D})})}else if(R){let e=R.image_236x?[{"236x":{url:R.image_236x[0]?.url}}]:void 0,t=R.image_474x?[{"474x":{url:R.image_474x[0]?.url}}]:void 0,a=D??442,l=R.klpUrl??"";return(0,v.jsx)(_.A,{height:80,images:e||t||[],lineClamp:4,onTap:()=>{K({event_type:102,component:39,element:216,object_id_str:l,view_type:a,view_parameter:M??3897,aux_data:{current_page_url:b}}),P({action:"click",item:"related-interests"})},title:R.name??"",url:l,viewParameter:M??3897,viewType:a,width:250})}else switch(i?.type){case"pin":let O=i.id?{type:"Legacy",data:i}:null;return(0,v.jsx)(m.A,{...L,item:i,parentPinKey:A,pinKey:O,slotIndex:C,storyKey:B});case"user":return(0,v.jsx)(y.A,{...s,item:i});case"board":return(0,v.jsx)(u.az,{marginBottom:2,marginTop:2,width:s.imageWidth,children:(0,v.jsx)(x.default,{...s,auxData:s.auxData,boardKey:{type:"Legacy",data:i},isAttributionHeightUnfixed:!0,isCollaboratorsAttributionVisible:!0,showFollowButton:!1,slotIndex:C,type:"full",viewParameter:M??void 0,viewType:D??5})});case"board_more_ideas_feed_upsell":return(0,v.jsx)(h.A,{...s,item:i});case"explorearticle":return(0,v.jsx)(g.A,{...s,item:i});case"interest":return(0,v.jsx)(_.A,{height:80,images:i.imageWidth&&i.imageUrl?[{[`${i.imageWidth}x`]:{url:i.imageUrl}}]:[],lineClamp:4,onTap:i.handleClick,title:i.name??"",url:i.url??"",viewParameter:3897,viewType:D??442,width:250});default:return null}}},836159(e,t,a){a.d(t,{JV:()=>i,OU:()=>n,PV:()=>r});var l=a(139293);let n="lightGray",i=8,r={itemRep:l.A,shape:"square",getImage:()=>""}},647133(e,t,a){a.r(t),a.d(t,{default:()=>V});var l,n,i=a(335831),r=a(859471),s=a(106386);a(825193);var o=a(836737),d=a(578576),u=a(785349),c=a(129625),p=a(795561),g=a(388364),h=a(657804),m=a(900565),y=a(877121),f=a(396901),x=a(528989),_=a(909901),b=a(865887),v=a(237745),S=a(92760),j=a(799445),k=a(805448),w=a(994341),I=a(912397),A=a(739741),F=a(906494),T=a(491149),R=a(904396),z=a(208762),P=a(178830),K=a(357442),C=a(913805),D=a(973296),M=a(21182),E=a(688404),L=a(161927),B=a(972354),O=a(562615);let W=(void 0!==l||(l=a(356088)).hash&&"9469e2ed7b8fb6f17cd14012d27074e4"!==l.hash&&console.error("The definition of 'DeprecatedCarouselModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),H=(void 0!==n||(n=a(633062)).hash&&"ba117249c9ffc02340353f2c3b5e4f5f"!==n.hash&&console.error("The definition of 'DeprecatedCarouselModule_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function U({moduleWidth:e,totalObjectCount:t,gutterWidth:a,defaultItemWidth:l,paddingX:n=0}){return Math.min(t,Math.floor((e-n+a)/(l+a)))}function V(e){let t,a,l;(0,r.useEffect)(()=>{(0,i.A)("DeprecatedCarouselModule","/app/packages/StructuredFeed/ModuleReps/CarouselModule/DeprecatedCarouselModule.tsx")},[]);let{auxData:n,accessibilityLabelledBy:V,addContentRight:N,allowHover:$,carouselSlidersContextLogData:J={},component:X,componentFallback:q,contentVisibleItemCountOverride:G,dangerouslySetActionUrl:Y,disableHeader:Q,disableTransition:Z,enablePageScrollOverride:ee,fadeCarouselEdges:et,handleActionButtonClick:ea,hidePinBetterSaveDropdown:el,impressionType:en,initialSlideIndex:ei=0,initialSlotIndex:er=0,itemWidth:es,itemWidthHeightRatio:eo,productTagParentPinId:ed,resolution:eu,saveButtonOptions:ec,setSlideIndexOverride:ep,slideIndexOverride:eg,itemRepSiblingNodeFactories:eh,parentPinKey:em,story:ey,storyKey:ef,styleOverrides:ex,surface:e_,view:eb,viewParameter:ev,width:eS,rows:ej,headerDisplayOptions:ek}=e,{experimentalColumnWidth:ew}=(0,p.A)(),{peekCloseupEnabled:eI,viewportSize:eA}=(0,z._G)(),eF=(0,d.Kd)({peekCloseupEnabled:eI,viewportSize:eA,surface:e_}),eT=ef&&"GraphQL"===(0,h.z)(ef),eR=(0,m.A)(H,em),ez=(0,m.A)(W,ef),eP=(0,E.X)(),[eK,eC]=(0,r.useState)(ei),eD=eg??eK,eM=ep??eC,eE=(0,r.useRef)(null),[eL,eB]=(0,r.useState)(null),eO=(0,A.A)(),eW=(0,I.A)(),eH=(0,T.Ay)(),eU=(0,T.bh)(eH),eV=(0,T.Pg)(eH),[eN,e$]=(0,r.useState)(!1),eJ=(0,f.A)(),{checkExperiment:eX}=(0,x.A)(),eq=(0,r.useCallback)(e=>{e?.parentElement&&eB(e?.parentElement)},[]),eG=(0,s.d4)(({boards:e})=>e[ey?.aux_fields?.board_id]),eY=(0,F.CG)(),{logContextEvent:eQ}=(0,c.o)(),eZ=eL?.clientWidth??0,[e0,e1]=(0,r.useState)(0),e2=(0,B.A)();(0,r.useEffect)(()=>{if(eL){let e=eL.getBoundingClientRect().left;0===e0&&e>0&&e1(e)}},[eL,eZ,e0]);let{isAdsOnlySearchModule:e3,isBoardShopToolModule:e4,isProductRetrievalModule:e5,isRecipeVideoModule:e6,isP2PRecipeVideoModule:e7,isHfShoppingModule:e9,isMasonryStoryItem:e8,showModuleBorder:te,showExtraSmallSubtitle:tt,headerMarginTop:ta,headerMarginX:tl,headerMarginBottom:tn,carouselPaddingX:ti,isBoardShopToolMasonryModule:tr}=(0,j.A)({storyKey:ez,storyLegacy:ey||void 0,styleOverrides:ex});if(!ez?.objects)return null;let ts=ez.displayOptions?.contentDisplay?.componentType??q,to=et||ez.displayOptions?.carouselFadeEnds===1,td=ez.objects.length,tu={carouselSlots:ez.objects.filter(e=>null!==e).map(e=>{let t,a;switch(e.__typename){case"Pin":t=e.title,a=e.entityId;break;case"Story":a=e.storyId,t=e.storyTitle?.format;break;case"Board":a=e.entityId,t=e.name;break;case"BoardMoreIdeasFeedUpsell":a=e.boardMoreIdeasFeedUpsellId,t=e.boardMoreIdeasFeedUpsellName;break;case"User":a=e.entityId,t=e.username;break;case"ExploreArticle":a=e.entityId,t=e.exploreArticleTitle?.format}return{title:t,id:a}}),entityId:"",index:eD},tc=ez.action?.text,tp=ez.action?.url,tg=ez.action?.location,th=Y??tp,tm={backgroundColor:"secondary",hoverColor:"secondary",iconColor:"subtle",size:32},ty=ez.displayOptions?.itemViewRepStyle?.moreIdeasRepStyle,tf=null!=ty?b.Z[ty]:null,tx=ez.displayOptions?.itemViewRepStyle?.exploreArticleRepStyle===4,t_=ez.displayOptions?.itemViewRepStyle?.exploreArticleRepStyle===21,tb=ez.displayOptions?.contentDisplay?.componentType===13698,tv=14339===ts,tS=ez.displayOptions?.itemViewRepStyle?.exploreArticleRepStyle===19,tj=ez.displayOptions?.itemViewRepStyle?.exploreArticleRepStyle===20,tk=ez.displayOptions?.headerDisplay?.expandedTextAlignment!==null,tw=ez.displayOptions?.headerDisplay?.thumbnail?.thumbnailUrl&&ez.displayOptions?.headerDisplay?.thumbnail?.thumbnailWidth,tI=ee??ez.displayOptions?.contentDisplay?.carouselScrollingMode===3,tA="recommended_boards_module"===ez.storyType,tF="related_interests_module"===ez.storyType,tT=ez.displayOptions?.contentDisplay?.carouselDisplayOptions?.navigationType,tR=eU&&(0===tT&&!eF||tA||tF),tz=eU&&1===tT,tP=e9&&eX("dweb_hf_shopping_module_scroll_pagination").anyEnabled,tK=!!(ez.storyType&&u.D.has(ez.storyType)||tP),tC=ex?.headerMarginTop??ta,tD=ex?.headerMarginBottom??tn,tM=ex?.headerMarginX??tl,tE=ex?.carouselPaddingX??ti,tL=ex?.gutterWidth??8,tB={backgroundColor:"default",borderStyle:"shadow",hoverColor:"default",iconColor:"default",moduleHovered:$&&eN,showFab:!0,size:ex?.navigationFabSize??(e8||e4||e5?32:void 0),opacity:ex?.navigationFabOpacity},{mobile:tO,web:tW}=ez.displayOptions?.contentDisplay?.contentVisibleItemCount||{},tH=eO?175:ew||236;if(eU){let e=ez.displayOptions?.contentDisplay?.gridLayout?.cols,n="recently_viewed"===ez.storyType&&eX("web_recently_viewed_responsive").anyEnabled,i=!tK&&(!e||-1===e||n||e5);a="number"==typeof(t=eS??eZ)?t-4*!!te:void 0,l=i?void 0:G||tW}else a="number"==typeof(t=eS)?t:void 0,l=G||(eV?tW:tO);tK&&!l&&tI&&(l=U({moduleWidth:a||0,totalObjectCount:td,gutterWidth:tL,defaultItemWidth:tH,paddingX:tE}));let tU=e6?1.13:1,tV=es??(({defaultItemWidth:e,contentVisibleItemCount:t,moduleWidth:a=0,gutterWidth:l,isMoreIdeasListCard:n,isPeekCloseupLargeShoppingModule:i,isStyleBubble:r,isImageAndTitleRep:s,isStorefrontSpotlightCarousel:o,isSmallMobileScreen:u,widthMultiplier:c=1,isStackedCollageDisplayCard:p,isTriplePreviewDisplayCard:g,containerWidth:h,isProductRetrievalModule:m,totalObjectCount:f,deviceType:x,storyType:_})=>{let b=(0,T.bh)(x);if(i)return d.aP;if(m)return 270;if(g)return"user_style_story_v2"===_&&t&&a?(0,y.iA)({defaultItemWidth:e,contentVisibleItemCount:Math.min(t,U({moduleWidth:a,totalObjectCount:f,gutterWidth:l,defaultItemWidth:1.5*e})+.5),gap:l,moduleWidth:a}):b?372:324;if(p)return b?258:216;if(n)return b?299:1===f?h||0:u?232:270;if(r)return 369;if(s){if(_?.includes("related_search")&&a){let t=U({moduleWidth:a,totalObjectCount:f,gutterWidth:l,defaultItemWidth:e});return t>=f?(0,y.iA)({defaultItemWidth:e,contentVisibleItemCount:f,gap:l,moduleWidth:a}):(0,y.iA)({defaultItemWidth:e,contentVisibleItemCount:Math.max(2.25,t+.25),gap:l,moduleWidth:a})}return 252}return o?362:t&&a?(0,y.iA)({defaultItemWidth:e,contentVisibleItemCount:t,gap:l,moduleWidth:a})*c:e*c})({defaultItemWidth:tH,containerWidth:eZ,contentVisibleItemCount:l,moduleWidth:a,gutterWidth:tL,isMoreIdeasListCard:1===ty,isPeekCloseupLargeShoppingModule:eF,isStyleBubble:tx,isImageAndTitleRep:t_,isStorefrontSpotlightCarousel:tb,isSfModuleOnMobile:eO,isSmallMobileScreen:eW,widthMultiplier:tU,isProductRetrievalModule:e5,totalObjectCount:td,isStackedCollageDisplayCard:tj,isTriplePreviewDisplayCard:tS,deviceType:eH,fadeCarouselEdges:et,storyType:ez.storyType||""});1!==tU&&(l=U({moduleWidth:a||0,totalObjectCount:td,gutterWidth:tL,defaultItemWidth:tV,paddingX:tE}));let tN=tI&&l?Math.max(Math.min(Math.floor(l),td),0):void 0,t$=eF?d.Yc:tV,tJ=eo??ez.displayOptions?.contentDisplay?.itemWidthHeightRatio,tX=tJ?tV*tJ:void 0,tq=ez.objects.filter(e=>null!==e),tG=(0,M.Jf)({isHorizontalScrollable:e3,slotWidth:tV,containerWidth:eZ||0,gap:tL,numberOfSlides:tq.length,index:eD,paddingX:tE,rows:ej}),tY=e4?{board_id:eG?.id,board_session_id:eP}:void 0,tQ=ex?.carouselContainerMarginBottom??(tR&&!te?8:0),tZ="boolean"==typeof ex?.showPagination?ex.showPagination:!!e6||!!e7||!!tP,t0=(e,t)=>{if(t===tq.length-1&&ez.action&&tc&&th&&(0,S.bV)(ez.action)&&!eF){let t="Pin"===e.__typename&&e.images_236x?.url;return t&&(0,O.jsx)(_.A,{auxData:tY,buttonSizeOverride:ex?.buttonSizeOverride,buttonText:tc,component:ts,contentIds:ez.contentIds??void 0,dataTestId:"shop-action-item-button",element:179,imageWidth:t$,onClick:ea,previewImageSrc:t,storyId:ez.storyId??"",storyType:ez.storyType,url:th.toString(),view:eb,viewParameter:ev},`pin-ActionItemRep-${e.entityId}`)}let a=null;eT||ey?.objects==null||(a="Pin"===e.__typename?ey.objects.find(t=>"pin"===t.type&&t.id===e.entityId):"Story"===e.__typename?ey.objects.find(t=>"story"===t.type&&t.id===e.storyId):"Board"===e.__typename?ey.objects.find(t=>"board"===t.type&&t.id===e.entityId):"BoardMoreIdeasFeedUpsell"===e.__typename?{...a=ey.objects.find(t=>"board_more_ideas_feed_upsell"===t.type&&t.id===e.boardMoreIdeasFeedUpsellId),header_text:eJ._('More ideas for', 'moreIdeasBoardRepCarousel.carousel.headText', 'Header text for JBI Carousel on Homefeed')}:"User"===e.__typename?ey.objects.find(t=>"user"===t.type&&t.id===e.entityId):"ExploreArticle"===e.__typename?ey.objects.find(t=>"explorearticle"===t.type&&t.id===e.entityId):ey.objects[t]);let l=`pin-ActionItemRep-${e.__typename}-${t}`;if(ey?.display_options?.pin_display_options?.quick_save_icon===1&&eG&&"Pin"===e.__typename)return(0,O.jsx)(L.A,{eventContext:{component:15088,element:14583,viewParameter:ev,viewType:eb||5},onDelete:()=>{eQ({event_type:3,component:15088,element:14583,view_parameter:ev,view_type:eb||5,aux_data:tY})},onSave:()=>{eY.showOneToast(()=>(0,O.jsx)(g.A,{duration:3e3,onHide:()=>{},text:eJ._('Saved! Refresh to see your new Pins', 'boardShopTool.refreshBoardToast.text', 'Saved! Refresh to see your new Pins toast text')}))},pinKey:e,surface:e_,target:{board:eG},children:({save:i,unsave:r,saved:s,savedInfo:o})=>(0,O.jsx)(v.A,{auxData:{...tY,module_id:e.entityId,pin_column_index:t,...n},boardKey:null,component:X,imageWidth:t$,isInMobileCarousel:!eU,isInViewOrNext:(0,M.KJ)({slotWidth:tV,containerWidth:eZ||0,gap:tL,numberOfSlides:tq.length,index:t,currentIndex:eD,paddingX:tE}),item:a,itemWidthHeightRatio:tJ,parentPinKey:null,pinKey:eT&&"Pin"===e.__typename?e:null,productTagParentPinId:ed,relatedInterestKey:null,saveButtonOptions:{save:i,unsave:r,saved:s,savedInfo:{...o,boardId:eG.id,pinId:e.entityId,title:eG.name,url:eG.url},type:"persistentOneClickSave"},slideWidth:tV,slotIndex:er+t,story:ey??void 0,storyKey:null,surface:e_,view:eb,viewParameter:ev},l)});let i=eR?.collectionPin?.itemData?.find(t=>t.pinId===("Pin"===e.__typename?e.entityId:null)),r=i&&i?.source,s=tv?{has_auto_tags:7===r,root_pin_id:ed,...r?{source:r}:{}}:{},d=()=>(0,O.jsx)(v.A,{auxData:{pin_id:"Pin"===e.__typename?e.entityId:null,...s,...n},boardKey:eT&&"Board"===e.__typename?e:null,component:X,hidePinBetterSaveDropdown:el,imageWidth:t$,isInDesktopCarousel:eU,isInMobileCarousel:!eU,isInViewOrNext:(0,M.KJ)({slotWidth:tV,containerWidth:eZ||0,gap:tL,numberOfSlides:tq.length,index:t,currentIndex:eD,paddingX:tE}),item:a,itemWidthHeightRatio:tJ,parentPinKey:eR,pinKey:null,productTagParentPinId:ed,relatedInterestKey:eT&&"SeoRelatedInterestsData"===e.__typename?e:null,resolution:eu,saveButtonOptions:ec,slideWidth:tV,slotIndex:er+t,story:ey??void 0,storyKey:null,surface:e_,view:eb,viewParameter:ev},l);return eh?(0,O.jsx)(R.e,{children:({hovered:e,...a})=>{let n=eh?.[t];return(0,O.jsxs)(o.az,{position:"relative",children:[d(),n?.({hovered:e,...a})]},l)}},l):d()};return(0,O.jsxs)(o.az,{ref:eq,borderColor:te?"decorative":void 0,borderWidth:te?"lg":void 0,direction:"column",display:"flex",overflow:te?"hidden":void 0,rounding:te?400:void 0,width:t,children:[ez.storyTitle&&!Q&&(0,O.jsx)(o.az,{marginBottom:tw||!eU?2:3,marginTop:tC,paddingX:tM,children:(0,O.jsx)(w.A,{auxData:tY,headerDisplayOptions:ek,marginBottomOverride:tD,showExpanded:tk,showExtraSmallSubtitle:tt,storyKey:ez})}),(0,O.jsxs)(o.az,{"aria-labelledby":V,as:"section",children:[(0,O.jsxs)(o.az,{dangerouslySetInlineStyle:{__style:{...e3?{marginLeft:`${-e0+e2}px`,marginRight:`${-e0+e2}px`}:{},...tJ&&{"--story-item-width-height-ratio":`${1/tJ}`}}},marginBottom:tQ,onFocus:()=>e$(!0),onMouseEnter:()=>e$(!0),onMouseLeave:()=>e$(!1),position:"relative",children:[tR&&(0,O.jsx)(C.A,{backNode:(0,O.jsx)(D.A,{...tB,iconType:"back"}),carouselData:tu,carouselIndex:eD,componentType:ts,contextLogData:ty?{index:eD}:J,forwardNode:(0,O.jsx)(D.A,{...tB,iconType:"forward"}),handleCarouselSwipe:e=>{let t=0;tA&&(t=Math.max(0,U({moduleWidth:eZ,totalObjectCount:td,gutterWidth:tL,defaultItemWidth:tV,paddingX:tE})-1)),tr&&(t=2),e5&&(t=3),e>eD?eM(e+t):eM(e-t),eE.current&&e3&&(0,M.UV)(eE,e3,e,eD,tV,tL)},height:tX,isShowingLastSlide:tG,itemsPerPage:tN,pinKey:null,sliderStyleOverride:tA?{padding:"0px 0px",margin:"0px 16px 60px"}:void 0,storyType:ez.storyType||"",viewParameter:ev,viewType:eb}),(0,O.jsxs)(P.A,{componentType:tf||void 0,containerRef:eL,contextLogData:{story_type:ez?.storyType,...J},disableTransition:Z,gap:tL,id:"structured-feed-carousel-module",impressionType:en??(ty?"BoardMoreIdeasRep":"Pin"),index:eD,isHorizontalScrollable:e3,paddingX:tE,setSlideIndex:eC,shouldBeDragCarousel:e3||!eU,sliderRef:eE,slideWidth:tV,styleOverrides:ex,surface:e_,view:eb,viewParameter:ev,children:[ej?(function(e){let t=[];for(let a=0;a<e.length;a+=3)t.push(e.slice(a,a+3));return t})(tq).map((e,t)=>(0,O.jsx)(o.VP,{span:1,children:e.map((a,l)=>(0,O.jsx)(o.az,{marginBottom:2*(l!==e.length-1),children:t0(a,t*ej+l)},`box-${t*ej+l}`))},`col-${t}`)):tq.map(t0),N,eF&&th&&tc&&(0,O.jsx)(o.vx,{color:"secondary",dataTestId:"carousel--peek-shop-btn",fullWidth:!0,href:th.toString(),onClick:ea,size:"lg",text:tc},"peek-shop-btn")]}),to&&eD>0&&!eF&&(0,O.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(90deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}},height:"100%",left:!0,position:"absolute",top:!0,width:80}),to&&!tG&&!eF&&(0,O.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(270deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}},height:"100%",position:"absolute",right:!0,top:!0,width:80})]}),tZ&&(0,O.jsx)(o.az,{paddingY:4,children:(0,O.jsx)(K.A,{carouselData:{carouselSlots:tu.carouselSlots?.map(({id:e,title:t})=>({id:e,title:t})),entityId:tu.entityId,index:tu.index},carouselIndex:eD,componentType:ts,enablePagination:!0,handleCarouselSwipe:e=>{let t=2*!!tr;e>eD?eM(e+t):eM(e-t)},itemsPerPage:tN,pinKey:null,variant:"dark",viewParameter:ev,viewType:eb})}),tz&&(0,O.jsx)(o.az,{marginBottom:8,marginTop:3,position:"relative",width:"100%",children:(0,O.jsx)(C.A,{addEllipsis:!0,alwaysShowNavigationArrows:!0,backNode:(0,O.jsx)(D.A,{...tm,iconType:"back",showFab:!0}),carouselData:tu,carouselIndex:eD,componentType:ts,contextLogData:ty?{index:eD}:J,ellipsisVariant:"dark",forwardNode:(0,O.jsx)(D.A,{...tm,iconType:"forward",showFab:!0}),handleCarouselSwipe:e=>{eM(e)},isShowingLastSlide:tG,itemsPerPage:tN,pinKey:null,sliderStyleOverride:{padding:"0px",margin:"0px"},viewParameter:ev,viewType:eb})})]}),ez.action&&(0,S.im)(ez.action)&&(0,O.jsx)(o.az,{marginTop:4,children:(0,O.jsx)(k.A,{location:tg,text:tc,url:th?.toString()})})]})}},799445(e,t,a){a.d(t,{A:()=>s}),a(825193);var l,n=a(900565),i=a(491149);let r=(void 0!==l||(l=a(704338)).hash&&"26d497a1a073c7fe8235181600b7ab05"!==l.hash&&console.error("The definition of 'useCarouselModuleLogic_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function s({storyKey:e,storyLegacy:t,styleOverrides:a}){let l=(0,n.A)(r,e),s=(0,i.qJ)(),o=l?.storyType&&["recently_viewed","recently_saved"].includes(l?.storyType),d=l?.containerType===139||l?.storyType==="stela_shop",u=l?.storyType==="search_3p_ad_only_module",c=l?.storyType==="board_shop_tool_module",p=l?.storyType==="shop_tool_saved_products_module",g=l?.storyType==="recipe_video",h=l?.storyType==="p2p_recipe_video",m=(t?.display_options?.num_columns_requested??0)>1,y=c&&!t?.custom_properties?.is_full_width,f=p||o||y||m||g||h,x=a?.showModuleBorder??f,_=a?.showExtraSmallSubtitle??(o||u);return{isHfShoppingModule:o,isAdsOnlySearchModule:u,isBoardShopToolModule:c,isProductRetrievalModule:p,isRecipeVideoModule:g,isP2PRecipeVideoModule:h,isMultiColumnModuleOnSearch:m,isBoardShopToolMasonryModule:y,isMasonryStoryItem:f,showModuleBorder:x,showExtraSmallSubtitle:_,isFixedWidthSlides:s&&d,headerMarginTop:4*!!f,headerMarginX:6*!!f,headerMarginBottom:3*!!u,carouselPaddingX:16*!!f,moduleBorderStyle:d?"sm":"lg"}}},805448(e,t,a){a.d(t,{A:()=>s});var l=a(335831),n=a(859471),i=a(836737),r=a(562615);function s({url:e,text:t,location:a}){return((0,n.useEffect)(()=>{(0,l.A)("FooterModule","/app/packages/StructuredFeed/ModuleReps/FooterModule/FooterModule.tsx")},[]),1===a&&e&&t)?(0,r.jsx)(i.so,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(i.vx,{href:e,text:t})}):null}},994341(e,t,a){a.d(t,{A:()=>K});var l,n=a(335831),i=a(859471);a(825193);var r=a(979638),s=a(836737),o=a(321173),d=a(129625),u=a(923957),c=a(47998),p=a(900565),g=a(396901),h=a(528989);a(111302);var m=a(792875),y=a(491149),f=a(48245),x=a(562615);let _={1:"start",2:"center"},b={1:"100",2:"300"},v={4:"200",1:"400",3:"600",2:"700"},S={4:"100",1:"200",3:"300",2:"400"},j={1:48,2:150},k={1:"column",2:"row"},w={0:!1,1:!0},I={4:375},A=new Set([2,4]),F={1:6},T={0:"normal",1:"bold"};function R({headerTitle:e,onClick:t,style:a,text:l,url:n}){let i=(0,g.A)();return 3!==a&&l?(0,x.jsx)(s.az,{marginStart:6,children:(0,x.jsx)(s.vx,{href:n,onClick:t,text:l})}):(0,x.jsx)(s.AR,{accessibilityLabel:e||i._('See more', 'headerModule.headerModuleActionButton.iconButton', 'An right arrow icon button to show more similar pins to the user in a new page'),bgColor:"transparent",href:n,icon:"chevron-right",iconColor:"default",onClick:t,size:"sm"})}let z=(void 0!==l||(l=a(314334)).hash&&"fdcfb1974fef7a407e59109dac717247"!==l.hash&&console.error("The definition of 'HeaderModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function P({showExpanded:e=!1,view:t,viewParameter:a,auxData:l,storyData:n,showExtraSmallSubtitle:i,marginBottomOverride:p,lgMarginBottomOverride:g,headerDisplayOptions:z}){let P=(0,r.Zp)(),{logContextEvent:K}=(0,d.o)(),C=(0,y.qJ)(),D=(0,y.M)(),{checkExperiment:M}=(0,h.A)(),{width:E=0}=(0,o.A)()||{},L=(0,c.A)(),B=L.isAuth?L?.avatar_color_index:void 0,O=n.user?.isVerifiedMerchant||!1,W=n.user?.verifiedIdentity?.verified||!1,H=n.user?.username??null,U=n.user?.imageMediumUrl??null,V="search_3p_ad_only_module"===n.storyType,N=n.storyTitle?.format??null,$=n.subtitle?.format??null,J=n.action?.url??null,X=n.action?.text??null,q=n.action?.location??null,G=n.action?.style??null,Y=J||H||"",Q=n.displayOptions||Object.freeze({}),Z=z||Q?.headerDisplay||Object.freeze({}),ee=_[(Z&&e?Z?.expandedTextAlignment:Z?.textAlignment)||1],et=_[Z.subtitleAlignment||1],ea=b[Z?.headerSize||1],el=D?S[Z?.headerSize||1]:v[Z?.headerSize||1],en=Z?.subtitleStyle===1?el:C&&!V?"200":"100",ei=Z?.padding?.left,er=null!=ei?F[ei]??0:0,es=T[Z?.descriptionWeight??1],eo=Q?.titleTextColor??"default",ed=Q?.titleTextColor??"default",eu=Q?.subtitleTextColor??"subtle",ec=Z?.titlePosition===1,ep=A.has(q)&&J,eg=ep&&("board_shop_tool_module"===n.storyType||"shop_tool_saved_products_module"),eh=Z?.headerWidth?I[Z.headerWidth]:"100%",em=k[E<=736?Z?.dynamicHeaderContentSpan?.narrowView:Z?.dynamicHeaderContentSpan?.wideView]??"row",ey=function({storyType:e,windowWidth:t}){return"no_results_header"===e&&t<=736?"start":"center"}({storyType:n.storyType,windowWidth:E}),ef=n.displayOptions?.headerDisplay?.thumbnail?.thumbnailUrl,ex=j[Z?.thumbnail?.thumbnailWidth]??0,e_=w[Z?.thumbnail?.thumbnailWash]??!0,eb="recently_viewed"===n.storyType&&M("web_recently_viewed_responsive").anyEnabled||n.storyType?.includes("related_searches")||"user_style_story_v2"===n.storyType,ev=({isLargeDisplay:e})=>(0,x.jsx)(s._Y,{accessibilityLevel:i?"none":void 0,align:et,color:eu,size:e?String(Math.min(Number(el)+100,600)):en,children:i?(0,x.jsx)(s.KJ,{align:V?et:void 0,color:V?eu:"default",lineClamp:1,size:e?String(Math.min(Number(en)+100,600)):en,children:$}):$}),eS=()=>eb?(0,x.jsx)(m.A,{largeSizeRep:ev({isLargeDisplay:!0}),mediumSizeRep:ev({}),smallSizeRep:ev({})}):ev({}),ej=({isLargeDisplay:e})=>(0,x.jsx)(s._Y,{accessibilityLevel:2,align:ee,color:eo,size:e?String(Math.min(Number(el)+100,600)):el,children:N}),ek=()=>eb?(0,x.jsx)(m.A,{largeSizeRep:ej({isLargeDisplay:!0}),mediumSizeRep:ej({}),smallSizeRep:ej({})}):ej({}),ew=()=>K({component:Q?.contentDisplay?.componentType,element:179,event_type:C?101:102,view_parameter:a,view_type:t,aux_data:l});return(0,x.jsxs)(s.az,{alignItems:ey,direction:em,display:"flex",lgMarginBottom:g,marginBottom:void 0!==p?p:C?4:2,marginStart:er,children:[ef&&!!ex&&(0,x.jsx)(s.az,{marginEnd:2,children:ef&&(0,x.jsx)(s.n1,{height:ex*(n.displayOptions?.headerDisplay?.thumbnail?.thumbnailWidthHeightRatio||1),rounding:200,wash:e_,width:ex,children:(0,x.jsx)(s._V,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:ef})})}),(0,x.jsxs)(s.so,{direction:"column",flex:eh?"shrink":"grow",gap:{row:0,column:i?1:2},width:eh,children:[ec&&$&&eS(),(0,x.jsxs)(s.so,{alignItems:"center",justifyContent:eg?"between":ee,children:[H&&U&&(0,x.jsx)(u.eu,{color:B,name:H,size:"sm",src:U}),(0,x.jsxs)(s.so,{alignItems:"baseline",flex:e?"grow":"shrink",justifyContent:ee,children:[Y?(0,x.jsx)(s.az,{"data-test-id":"sf-header-heading",children:(0,x.jsx)(s.$A,{href:Y,onTap:({event:e})=>{let t;e.stopPropagation(),ew(),t=Y.replace(/^\/+/,""),P(`/${t}`)},tapStyle:"compress",children:ek()})}):ek(),O&&(0,x.jsx)(s.az,{marginStart:2,children:(0,x.jsx)(f.A,{isVerifiedIdentity:W,isVerifiedMerchant:O,size:"xs"})})]}),ep&&(0,x.jsx)(s.az,{"data-test-id":"sf-header-action-button",children:(0,x.jsx)(R,{headerTitle:N,onClick:ew,style:G,text:X,url:J})})]}),!ec&&$&&eS(),n.storyDescription?.format?(0,x.jsx)(s.KJ,{align:ee,color:ed,size:ea,weight:es,children:n.storyDescription.format}):null]})]})}function K({storyKey:e,...t}){(0,i.useEffect)(()=>{(0,n.A)("HeaderModule","/app/packages/StructuredFeed/ModuleReps/HeaderModule/HeaderModule.tsx")},[]);let a=(0,p.A)(z,e);return(0,x.jsx)(P,{...t,storyData:a})}},792875(e,t,a){a.d(t,{A:()=>d});var l=a(335831),n=a(859471),i=a(836737),r=a(161461),s=a(562615);function o({children:e,size:t}){return(0,n.useEffect)(()=>{(0,l.A)("ResponsiveBox","/app/packages/layout/ResponsiveBox.tsx")},[]),(0,s.jsx)(i.az,{"data-test-id":r.Dt,display:"sm"===t?"block":"none",lgDisplay:"lg"===t?"block":"none",mdDisplay:"md"===t?"block":"none",smDisplay:"sm"===t?"block":"none",children:e})}function d({smallSizeRep:e,mediumSizeRep:t,largeSizeRep:a}){return(0,n.useEffect)(()=>{(0,l.A)("ScalingComponent","/app/packages/StructuredFeed/ModuleReps/utils/ScalingComponent.tsx")},[]),(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(o,{size:"sm",children:e}),(0,s.jsx)(o,{size:"md",children:t}),(0,s.jsx)(o,{size:"lg",children:a})]})}},912397(e,t,a){a.d(t,{A:()=>i});var l=a(859471),n=a(491149);function i(){let[e,t]=(0,l.useState)(!1),a=(0,n.qJ)();return(0,l.useEffect)(()=>{!a&&window.innerWidth<320&&t(!0)},[a,t]),e}},111302(e,t,a){a.d(t,{S:()=>n,c:()=>l});let l=new Set(["BUBBLE_ONE_COL","related_query_shop_upsell_closeup"]),n=new Set(["p2p_recipe_video"])},739741(e,t,a){a.d(t,{A:()=>n});var l=a(321173);function n(){let{width:e}=(0,l.A)()||{width:0};return e<496}},42608(e,t,a){a.d(t,{A:()=>o});var l=a(335831),n=a(859471),i=a(836737),r=a(456418),s=a(562615);function o({carouselData:e,contextLogData:t,height:a,id:o,index:d,slideWidth:u,view:c,impressionType:p,viewParameter:g}){(0,n.useEffect)(()=>{(0,l.A)("CarouselImpressionItem","/app/packages/gestaltExtensions/Carousel/CarouselImpressionItem.tsx")},[]);let[h,m]=(0,n.useState)(null),[y,f]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{h!==d?(m(d),f(!1)):f(!0)},[d,h]),e)?(0,s.jsx)(r.oc,{carouselData:{...e,type:"canonical"},contextLogData:t,impressionType:p??"Pin",isPaused:!y,loggingId:o,slotIndex:d,viewParameter:g,viewType:c,children:({impressionTrackerRef:e})=>(0,s.jsx)(i.az,{ref:e,"data-test-id":`carousel-impression-ref-${o}-${d}`,height:a,overflow:"hidden",position:"absolute",width:u})},`carousel-impression-key-${d}`):null}},975799(e,t,a){a.d(t,{A:()=>l});function l(e){if(!e)return"";let t=((e.split("?")[0]??"").split("#")[0]??"").split("/"),a=t[t.length-1];if(!a)return"";let l=a.lastIndexOf("."),[n]=(l>0?a.slice(0,l):a).split("--");return n??""}},577113(e,t,a){a.d(t,{A:()=>l});function l(e){let t=!1;return{promise:new Promise((a,l)=>{e.then(e=>t?l({isCanceled:!0}):a(e),e=>t?l({isCanceled:!0}):l(e))}),cancel(){t=!0}}}},610973(e,t,a){a.d(t,{A:()=>n});let l=["564x","736x","orig","474x","236x"],n=({images:e={},resolutionPreferences:t=l})=>{for(let a of t)if(e[a]&&e[a].url)return e[a];return null}},727483(e,t,a){a.d(t,{A:()=>l});function l(e,t){if(!t)return e;let a=new RegExp(/http(s?):/);if(!a.test(e)){let l=a.exec(t);l&&l.length&&(e=l[0]+e)}return e}},904396(e,t,a){a.d(t,{A:()=>r,e:()=>i});var l=a(859471);let n=()=>{let[e,t]=(0,l.useState)(!1),[a,n]=(0,l.useState)(!1),[i,r]=(0,l.useState)(!1);return{active:e,focused:a,hovered:i,onBlur:()=>{n(!1),t(!1)},onFocus:()=>n(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),t(!1)},onMouseUp:()=>t(!1)}};function i({children:e}){return e(n())}let r=n},855025(e,t,a){a.d(t,{A:()=>i});var l=a(859471),n=a(577113);function i(){let e=(0,l.useRef)([]),t=(0,l.useRef)({});return(0,l.useEffect)(()=>()=>{[...Object.keys(t.current).map(e=>t.current[e]),...e.current].forEach(e=>e())},[]),function(a,l){if(l){let e=t.current[l];e&&(e(),delete t.current[l])}let{cancel:i,promise:r}=(0,n.A)(a);return l?t.current[l]=i:e.current=[...e.current,i],r}}},555493(e,t,a){a.d(t,{o:()=>d,p:()=>o});var l=a(859471),n=a(767216),i=a(596851),r=a(562615);let{Provider:s,get:o}=(0,n.A)("LastSavedTo");function d({children:e}){let[t,a]=(0,l.useState)();(0,i.jY)("BoardPickerBoardsShortlistResource",e=>{if(!t){let{data:t}=e.response.resource_response;a(t)}});let n=(0,l.useCallback)(e=>{let l=t?t.filter(t=>t.id!==e.id):[];a([e,...l])},[t]),o=(0,l.useMemo)(()=>({lastSavedTo:t,saveToBoard:n}),[t,n]);return(0,r.jsx)(s,{value:o,children:e})}},727485(e,t,a){a.d(t,{A:()=>i});var l=a(979638),n=a(107639);function i({hasPin:e,pinId:t,boardLayout:a,boardUrl:i}){let r=(0,l.zy)(),s=(0,l.g)(),o=(0,l.Zp)();return()=>{e&&(0,n.dM)(r)&&s.id===t&&o("quick_saves"===a||"quick_creates"===a?"/me/":i??"/",{replace:!0})}}},178830(e,t,a){a.d(t,{A:()=>k});var l=a(335831),n=a(859471),i=a(836737),r=a(578576),s=a(194807),o=a(129625),d=a(746743),u=a(42608),c=a(396901),p=a(70565),g=a(538346),h=a(410899),m=a(376195),y=a(119795),f=a(208762),x=a(562615);function _({index:e,length:t,showBadge:a}){return(0,n.useEffect)(()=>{(0,l.A)("CarouselBadge","/app/www/common/Carousel/CarouselBadge.tsx")},[]),(0,x.jsx)(i.az,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{opacity:80*!!a,transition:"opacity .3s"}},display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:200,width:35,zIndex:new i.rk(1),children:(0,x.jsx)(i.KJ,{color:"inverse",children:`${(e??0)+1}/${t}`})})}var b=a(21182),v=a(863153),S=a(972354);let j=`
  .horizontal-scroll-container {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  ::-webkit-scrollbar {
    display: none;
  }`;function k(e){let t;(0,n.useEffect)(()=>{(0,l.A)("Carousel","/app/www/common/Carousel/Carousel.tsx")},[]);let{backgroundColor:a="transparent",children:k,componentType:w,containerRef:I,contextLogData:A,disableTransition:F,gap:T=0,height:R,id:z,impressionType:P,index:K,responsiveSizing:C=!1,shouldBeDragCarousel:D,showCarouselBadge:M,styleOverrides:E,innerCarouselWidthRef:L,slideWidth:B,surface:O,paddingX:W,view:H,viewParameter:U,widthRatio:V=1,setSlideIndex:N,sliderRef:$,showCarouselOverflow:J,isHorizontalScrollable:X}=e,{showBadge:q}=(({index:e})=>{let[t,a]=(0,n.useState)(!0),l=(0,n.useRef)(void 0),i=(0,n.useRef)(void 0);return(0,n.useEffect)(()=>(l.current=setTimeout(()=>{a(!1)},3e3),()=>{clearTimeout(l.current)}),[]),(0,n.useEffect)(()=>{if(!i.current){i.current=e;return}clearTimeout(l.current),a(!0)},[e]),{showBadge:t}})({index:K}),{logContextEvent:G}=(0,o.o)(),Y=(0,v.HR)()(z),Q=(0,c.A)(),{isRTL:Z}=(0,m._8)(),ee=(0,n.useRef)(void 0),et=(0,n.useRef)(null),ea=(0,n.useRef)(0),el=(0,n.useRef)(void 0),en=(0,S.A)(),{peekCloseupEnabled:ei,viewportSize:er}=(0,f._G)();if((0,y.A)(()=>{let e=et.current;if(!e)return;$&&e&&($.current=e);let t=()=>{let e=ea.current;if(X){let t=new IntersectionObserver(([a])=>{let l=-(a.boundingClientRect.x??0),i=n.Children.toArray(k),r=$?(0,b.jV)($.current,l+en,B,V,T,i.length):0;N?.(r),Math.abs(e-l)>=10&&G({aux_data:{...A},component:w,event_type:"right"==(e<l?"right":"left")?9315:9316,view_type:H,view_parameter:U}),ea.current=l,el.current&&t.unobserve(el.current)});el.current&&t.observe(el.current)}else{let t=-(el.current?.getBoundingClientRect().x??0);Math.abs(e-t)>=10&&G({aux_data:{...A},component:w,event_type:"right"==(e<t?"right":"left")?9315:9316,view_type:H,view_parameter:U}),ea.current=t}};return D&&(X&&e?.addEventListener("scroll",t),e?.addEventListener("touchend",t)),()=>{D&&(X&&e?.removeEventListener("scroll",t),e?.removeEventListener("touchend",t))}}),V>1||V<0)throw Error("widthRatio should be between 0 and 1 inclusive");let es=Math.floor(B*V),eo=n.Children.toArray(k),ed=eo.length*es,eu=I?.clientWidth||ed,{maxHeight:ec,fiftyPercentHeight:ep,fiftyPercentWidth:eg}=(0,r.Vc)(),eh=ei&&"lg"===er&&"ShoppingGridSmallCarousel"===O;ei&&(t="sm"===er?ep:ec);let em=E?.justifyContent??(eu>ed?"center":"start"),ey=e=>void 0!==e?`${e}px`:D?"8px":void 0,ef=ey(E?.horizontalScrollContainerPaddingLeft),ex=ey(E?.horizontalScrollContainerPaddingRight);L&&(L.current="center"===em?et.current:null);let e_=C||D?void 0:(0,b.oz)({slotWidth:es,gap:T,numberOfSlides:eo.length,index:K,containerWidth:eu,paddingX:W});return(0,x.jsxs)("div",{className:"BoardMoreIdeasRep"===P?"moreIdeasBoardRepCarousel":"",style:C?{height:"inherit"}:{},children:[(0,x.jsxs)(i.az,{alignItems:"center","data-test-id":"carousel-pin",display:"flex",height:C?"inherit":void 0,justifyContent:em,overflow:eh||J?void 0:"hidden",children:[M&&(0,x.jsx)(_,{index:K,length:eo.length,showBadge:q}),"BoardMoreIdeasRep"!==P&&(0,x.jsx)(s.P,{pinKey:null!=Y?{type:"Legacy",data:Y}:null,children:e=>(0,x.jsx)(u.A,{carouselData:{...e,type:"canonical"},contextLogData:A,height:R??ee.current?.clientHeight??1,id:z,impressionType:"Pin",index:K,slideWidth:B,view:H??1,viewParameter:U??72},`carousel-impression-key-${K}`)}),D&&(0,x.jsx)(g.A,{unsafeCSS:j}),(0,x.jsx)("div",{ref:et,className:"horizontal-scroll-container","data-test-id":"carousel-container",style:{backgroundColor:a,overflowX:D?"scroll":"visible",paddingLeft:ef,paddingRight:ex,display:"flex",flexDirection:E?.flexDirection??"row",height:C?"inherit":void 0,marginLeft:W?`${W}px`:void 0,marginRight:W?`${W}px`:void 0,position:"relative",scrollbarWidth:0,transition:D||F?void 0:Z?"right .5s":"left .5s",right:Z?e_:void 0,left:Z?void 0:e_,width:C?"100%":void 0},children:eo.map((e,a)=>{let l=a===eo.length-1,n=Math.ceil(T/4),s=0;n>=-12&&n<=12&&(s=n);let o=(0,x.jsx)(i.az,{ref:e=>{ee.current=e,0===a&&(el.current=e)},"aria-label":(0,h.$)(Q._('Slide {{ currentSlide }} of {{ totalSlides }}', 'CloseupCarousel.Carousel.labelSlide', 'Accessibility label that defines a carousel slide. currentSlide: current slide number. totalSlides: total number of slides in carousel.'),{currentSlide:`${a+1}`,totalSlides:`${eo.length}`}),"data-carousel-indicator":"carousel-card","data-test-id":`carousel-img-${a}`,display:a!==K&&C?"none":"block",height:C?"100%":R??void 0,marginEnd:l?0:s,maxHeight:t,maxWidth:eh?`calc(${r.aP}px - ${r.T3}px * 2)`:eg,role:"group",width:C?"100%":es,children:e},`carousel-slot-${z}-${a}`);if("BoardMoreIdeasRep"===P){let t=e.props,l={total_object_count:t?.story.objects.length,storyType:t?.story.story_type,boardIdStr:t?.item.board_id,slotIndex:t?.slotIndex,story_id:t?.story.id};return(0,x.jsx)(p.g$,{componentType:w,contextLogData:l,impressionAuxFields:l,impressionType:"BoardMoreIdeasRep",loggingId:z,slotIndex:a,viewParameter:U??72,viewType:H??1,children:({impressionTrackerRef:e})=>(0,x.jsx)(i.az,{ref:e,children:o})},`carousel-slot-${z}-${a}`)}return o})})]}),14114===w&&(0,x.jsx)(d.En,{anchor:el.current,experienceIds:[506684],idealDirection:"down",placementId:11,positionRelativeToAnchor:!0,showCaret:!0,textWeight:"normal",useMasonryFlyout:!0})]})}},973296(e,t,a){a.d(t,{A:()=>o});var l=a(335831),n=a(859471),i=a(836737),r=a(396901),s=a(562615);let o=({iconType:e,showFab:t,moduleHovered:a,opacity:o=80})=>{(0,n.useEffect)(()=>{(0,l.A)("NavigationFab","/app/www/common/Carousel/NavigationFab.tsx")},[]);let d=(0,r.A)(),[u,c]=(0,n.useState)(!1),p=a??u;return(0,s.jsx)(i.az,{"data-test-id":"navigation-fab-container",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),opacity:p?100:p===a?0:o,children:(0,s.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s linear"}},opacity:100*!!t,children:(0,s.jsx)(i.K0,{accessibilityLabel:"forward"===e?d._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image'):d._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),bgColor:"default",dataTestId:"navigation-fab",icon:"forward"===e?"chevron-right":"chevron-left",size:"md"})})})}},21182(e,t,a){a.d(t,{JF:()=>s,Jf:()=>i,KJ:()=>r,UV:()=>c,WD:()=>d,jV:()=>u,oz:()=>n,tS:()=>o});let l=({containerWidth:e,contentWidth:t,index:a,slotAndGapWidth:n})=>{let i=a-1,r=i*n;return t-r>=e?r:l({index:i,slotAndGapWidth:n,containerWidth:e,contentWidth:t})},n=({containerWidth:e,gap:t,index:a,numberOfSlides:n,slotWidth:i,paddingX:r})=>{let s=i+t,o=s*n,d=r?e-r:e;if(o<=d)return 0;let u=d/s,c=(({index:e,numberOfSlides:t,slidesShownPerPosition:a})=>t-e-Math.floor(a)<1)({index:a,numberOfSlides:n,slidesShownPerPosition:u})?(({containerWidth:e,contentWidth:t,gap:a,index:n,slidesShownPerPosition:i,slotAndGapWidth:r,paddingX:s=0})=>l({containerWidth:e,contentWidth:t,index:n,slotAndGapWidth:r})+(({slidesShownPerPosition:e,slotAndGapWidth:t})=>t-(e-parseInt(e,10))*t)({slidesShownPerPosition:i,slotAndGapWidth:r})-a+s)({containerWidth:d,contentWidth:o,gap:t,index:a,slidesShownPerPosition:u,slotAndGapWidth:s,paddingX:r}):a*s;return c?Math.round(-c):0},i=({containerWidth:e,gap:t,index:a,numberOfSlides:l,slotWidth:i,isHorizontalScrollable:r,paddingX:s,rows:o=1})=>{let d=l/o*i+t*(l-1),u=s?e-s:e;return 0!==e&&(d<=u||(r?d<=u:Math.abs(n({containerWidth:e,gap:t,index:a,numberOfSlides:l,slotWidth:i,paddingX:s}))+t>=d-u))},r=({containerWidth:e,currentIndex:t,gap:a,index:l,numberOfSlides:i,slotWidth:r,paddingX:s})=>{let o=r+a,d=s?e-s:e;if(o*i<=d||0===e)return!0;let u=n({containerWidth:e,gap:a,index:t,numberOfSlides:i,slotWidth:r,paddingX:s}),c=s?d+o+s:e+o;return u+o*l<c},s=(e,t,a)=>e||`${t._('carousel image', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed')} ${a}`;function o({highResOnly:e,slot:t}){let{images:a}=t;return e?`${a?.["564x"]?.url??""} 1x`:[a?.["474x"]&&`${a["474x"].url??""} 2x`,a?.["736x"]&&`${a["736x"].url??""} 3x`,a?.orig&&`${a.orig.url??""} 4x`].filter(Boolean).join(", ")}let d=(e,t,a,l,n=0,i)=>{let r=i?a-i:a;if(r===t)return-(l*t*1)+(i||0);let s=Math.floor(r-t),o=t+n;return l===e-1?-1*l*o+s+(i||0):-1*l*o+(i||0)},u=(e,t,a,l,n,i,r)=>{if(!e||t<=0)return 0;let s=Math.floor(a*l),o=e?.clientWidth||i*s;return Math.round(((r?t-r:t)+(r?o-r:o)-s/2)/(s+n))-1},c=(e,t,a,l,n,i)=>{e.current&&t&&e.current.scrollBy({left:(a-l)*(n+i),behavior:"smooth"})}},161927(e,t,a){a.d(t,{A:()=>K});var l,n=a(335831),i=a(859471),r=a(106386);a(825193);var s=a(979638),o=a(321571),d=a(268989),u=a(972955),c=a(746743),p=a(47998),g=a(900565),h=a(740685),m=a(396901),y=a(410899),f=a(727483),x=a(855025),_=a(727485),b=a(555493),v=a(352469),S=a(157210),j=a(120379),k=a(310206),w=a(110431),I=a(890850),A=a(831064),F=a(688404),T=a(562615);function R(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let z=(void 0!==l||(l=a(661793)).hash&&"540254f242b57ec111d9f2340a59f648"!==l.hash&&console.error("The definition of 'OneTapSavePinWrapperQuery_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);class P extends i.PureComponent{constructor(...e){super(...e),R(this,"state",{step:"unsaved",newPin:null}),R(this,"deletePin",e=>o.A.create("PinResource",{id:e,client_tracking_params:this.props.clientTrackingParams}).callDelete()),R(this,"repin",()=>{let{boardSessionId:e,clientTrackingParams:t,eventContext:a,pin:l,target:n}=this.props,{board:i,boardSection:r}=n||{},s=!l.entityId&&l.imageUrl?(0,f.A)(l.imageUrl??"",l.link):"",d=r&&r.id,u={board_id:i?.id||"",board_session_id:e,clientTrackingParams:t,description:l.description||"",image_base64:l.imageBase64??"",link:l.link,image_url:s,is_buyable_pin:!1,is_removable:!!l.promotedIsRemovable,media_upload_id:l.mediaUploadId??"",pin_id:l.entityId||"",section:d,title:l.title||"",eventContext:a};return o.A.create("RepinResource",u).callCreate({showError:!1})}),R(this,"handleSave",()=>{let{makeCancelablePromise:e,mountAfterActionPlacement:t,onSave:a,requireAuth:l}=this.props,{step:n}=this.state;l?l():"unsaving"===n?this.setState({step:"saving"}):(this.setState({step:"saving"}),e(this.repin().then(({resource_response:{data:e}})=>{this.shouldCompleteSave(e),t("Save",{pin_id:this.props.pin.entityId,is_promoted:this.props.pin.isPromoted})})).then(a).catch(({isCanceled:e})=>{let{target:t}=this.props,{board:a,boardSection:l}=t||{};!e&&a&&u.A.showError(l?(0,y.vQ)(this.props.i18n._('Failed to save the Pin to {{sectionName}}', 'Error message when failed to save to a section within a board', 'Error message when failed to save to a section within a board'),{sectionName:l.title}).join(""):(0,y.vQ)(this.props.i18n._('Failed to save the Pin to {{boardName}}', 'Error message when failed to save to a board', 'Error message when failed to save to a board'),{boardName:a.name}).join(""))}))}),R(this,"shouldCompleteSave",e=>{let{saveToBoard:t,pin:a,dispatch:l,target:n}=this.props,{board:i,boardSection:r}=n||{},{board:s}=e,{step:o}=this.state,d=r&&r.id,u=i||s,c={pinId:a.entityId,boardId:d,title:a.title||""};if("saving"===o&&u){this.props.onPinCreate&&this.props.onPinCreate({boardId:e.board.id,pinId:e.id}),t(u),"BoardShoppingModule"!==this.props.surface&&(l((0,k.ZT)({feedId:d||u.id,feedType:d?A.A.BOARD_SECTION_PINS:A.A.BOARDFEED,itemIds:[a.entityId],itemType:"pin"})),l((0,S.zY)({boardId:u.id,sectionId:r?r.id:void 0,increment:1})));let{imageUrl:n,images_236x:i}=a,s=n||i&&i.url||"";return(r||!u.image_cover_url)&&(u.image_cover_url=s,l((0,S.NQ)(u))),l((0,w.UN)({...c,localPinId:e.id,nodeId:a.__id})),l((0,I.LR)({userId:e.pinner.id,increment:1})),this.setState({step:"saved",newPin:e}),e}"unsaving"===o&&this.handleUnsave(e.id)}),R(this,"handleUnsave",e=>{let{step:t}=this.state,{savedInfo:a}=this.props.pin;if("unsaved"===t)return;if("saving"===t)return void this.setState({step:"unsaving"});let l=a&&a.localPinId||e;l&&(this.setState({step:"unsaving"}),this.deletePin(l).then(()=>this.shouldCompleteUnsave()))}),R(this,"shouldCompleteUnsave",()=>{let{pin:e,target:t,dispatch:a,onDelete:l,viewerId:n}=this.props,{board:i,boardSection:r}=t||{},{step:s}=this.state;if("unsaving"===s){if(e.savedInfo&&i){let t=r?.id;a((0,w.jI)({pinId:e.entityId,nodeId:e.__id})),"BoardShoppingModule"!==this.props.surface&&a((0,S.zY)({boardId:i.id,sectionId:t,increment:-1})),a((0,I.LR)({userId:n,increment:-1})),a((0,S.KB)(i.id)),a((0,k.J6)({feedId:t||i.id,feedType:t?A.A.BOARD_SECTION_PINS:A.A.BOARDFEED,itemIds:[e.entityId],itemType:"pin"})),t&&a((0,j.A)(t)),l&&l()}this.setState({step:"unsaved"})}"saving"===s&&this.handleSave()})}render(){let{children:e}=this.props,{step:t,newPin:a}=this.state,{savedInfo:l}=this.props.pin;return e({save:this.handleSave,saved:"saved"===t||"saving"===t||!!(l&&l.localPinId),savedInfo:{...l,boardId:a?.board?.id,url:a?.board?.url,title:a?.board?.name},unsave:this.handleUnsave,type:"persistentOneClickSave"})}}function K({pinKey:e,...t}){(0,i.useEffect)(()=>{(0,n.A)("OneTapSavePinWrapper","/app/www/save/OneTapSavePinWrapper/OneTapSavePinWrapper.tsx")},[]);let{previous:a}=(0,h.qD)(),{saveToBoard:l}=(0,b.p)(),o=(0,r.wA)(),u=(0,v.y)()?.onPinCreate,y=(0,m.A)(),f=(0,x.A)(),S=(0,s.zy)(),j=(0,d.A)(),k=(0,p.A)(),w=(0,F.X)(),I=(0,g.A)(z,e),A=(0,_.A)({hasPin:!!I,pinId:I.entityId,boardLayout:I.board?.layout,boardUrl:I.board?.url}),R=(0,c.Ts)();return(0,T.jsx)(P,{...t,boardSessionId:w,clientTrackingParams:I?.trackingParams,dispatch:o,i18n:y,location:S,makeCancelablePromise:f,mountAfterActionPlacement:R,onDelete:()=>{A(),t.onDelete?.()},onPinCreate:u,pin:I,previousHistory:a,requireAuth:j,saveToBoard:l,viewerId:k.isAuth?k.id:""})}},688404(e,t,a){a.d(t,{X:()=>g,o:()=>h});var l=a(859471),n=a(979638),i=a(679902),r=a(360447),s=a(767216),o=a(740685),d=a(60341),u=a(503023),c=a(562615);let{Provider:p,getMaybe:g}=(0,s.A)("BoardSessionIdcontext");function h({children:e}){let{previous:t,current:a,forward:s}=(0,o.qD)(),g=(0,l.useRef)(!1),h=(0,n.zy)(),m=a?.matchedPath||"",y=s.length>0&&s[s.length-1]?.matchedPath||"",[,f,x]=h.state?.from?.pathname.split("/")||[],[,,_,b]=h.pathname.split("/"),v=y?.includes("/:username/:slug")||"/pin/:id"===y,S=!t.length,j=!(!b&&("/pin/:id"===m||m?.includes("/:username/:slug/_tools"))||S||v||x===_||!f)||!("_saved"!==_&&_),k=(0,l.useMemo)(()=>{let e,t="u">typeof window;if(t){let t=(0,d.V2)().getItem(r.I$);e=t?.boardSessionId}if((0,u.A)(r.I$)&&(j||!e)&&!g.current){g.current=!0;let e=(0,i.A)();return t&&(0,d.V2)().setItem(r.I$,{boardSessionId:e}),e}return e},[j]);return(0,l.useEffect)(()=>()=>{"u">typeof window&&j&&(0,d.V2)().removeItem(r.I$)},[j]),(0,c.jsx)(p,{value:k,children:e})}},255543(e,t,a){a.d(t,{A:()=>d});var l=a(335831),n=a(859471),i=a(836737),r=a(70565),s=a(562615);function o({children:e,viewParameter:t,viewType:a,contextLogData:l,id:o,url:d,width:u,onTap:c}){let[p,g]=(0,n.useState)(!1),[h,m]=(0,n.useState)(!1),y=(0,r.bi)({contextLogData:l,impressionType:"Article",loggingId:o,slotIndex:2,viewParameter:t,viewType:a});return(0,s.jsx)(i.$A,{fullWidth:!0,href:d,onBlur:()=>g(!1),onFocus:()=>g(!0),onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),onTap:e=>{m(!0),c?.(e)},rounding:400,children:(0,s.jsx)(i.az,{ref:y,rounding:400,width:u?u+8:"100%",children:(0,s.jsx)(i.n1,{rounding:400,children:(0,s.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:h?"rgba(205, 205, 188, 1)":p?"rgba(222, 222, 211, 1)":"rgba(240, 240, 235, 1)",paddingBottom:void 0}},padding:1,children:e})})})})}function d({contextLogData:e,height:t,id:a,images:r,title:d,onTap:u,url:c,viewParameter:p,viewType:g,width:h,lineClamp:m,testId:y}){(0,n.useEffect)(()=>{(0,l.A)("RowRelatedIdeaRep","/app/www/unauth/unified/RowRelatedIdeaRep.tsx")},[]);let f=r&&r[0]&&(r[0]["236x"]?.url||r[0]["474x"]?.url)||"",x=(0,s.jsx)(i.n1,{height:t,rounding:300,wash:!0,width:t,children:(0,s.jsx)(i._V,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:f})});return(0,s.jsx)(i.az,{"data-test-id":y,children:(0,s.jsx)(o,{contextLogData:e,id:a,onTap:u,url:c,viewParameter:p,viewType:g,width:h,children:(0,s.jsxs)(i.so,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[(0,s.jsx)(i.az,{alignItems:"center","data-test-id":"search-suggestion-image-container",display:"flex",children:x}),(0,s.jsx)(i.az,{alignItems:"center",display:"flex",maxHeight:t,padding:4,children:(0,s.jsx)(i.KJ,{lineClamp:m,children:(0,s.jsx)("span",{style:{fontWeight:500,fontSize:"16px",height:void 0,lineHeight:"19px",display:"block"},children:d})})})]})})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/54446-5f0f1ecd31b810ad.mjs.map