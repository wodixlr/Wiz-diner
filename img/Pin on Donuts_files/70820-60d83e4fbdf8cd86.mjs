(self.modernJsonp=self.modernJsonp||[]).push([["70820"],{761604(e,l,o){var s,n,i,t,a;o.r(l),o.d(l,{default:()=>c});let r={fragment:{argumentDefinitions:s=[{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"FollowersControllerQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"user",variableName:"userId"}],concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:s,kind:"Operation",name:"FollowersControllerQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[t,a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}]},params:{id:"134b0b580aa92245148296845cace9afb35dc06c14786cdd346a49001d84a14b",metadata:{},name:"FollowersControllerQuery",operationKind:"query",text:null}};r.hash="a23b0f7439754a2c42bb445168b9e510";let c=r},279416(e,l,o){o.d(l,{M5:()=>u,QZ:()=>a,xL:()=>_});var s=o(859471),n=o(767216),i=o(169250),t=o(562615);let a=i.d1+1,r={educationId:null,paddingRight:0,zIndex:a};function c(e,l){switch(l.type){case"FOOTER_SET_EDUCATION_ID":let{educationId:o}=l.payload;return{...e,educationId:o};case"FOOTER_SET_PADDING_RIGHT":let{paddingRight:s}=l.payload;return{...e,paddingRight:s};case"FOOTER_SET_Z_INDEX":let{zIndex:n}=l.payload;return{...e,zIndex:n};default:return e}}let{Provider:d,get:_}=(0,n.A)("footerContext");function u({children:e}){let[l,o]=(0,s.useReducer)(c,r),n=(0,s.useCallback)(e=>o({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),[]),i=(0,s.useCallback)(e=>o({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),[]),a=(0,s.useCallback)(e=>o({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}}),[]),_=(0,s.useMemo)(()=>({...l,setEducationId:i,setPaddingRight:n,setZIndex:a}),[l,i,n,a]);return(0,t.jsx)(d,{value:_,children:e})}},749777(e,l,o){o.d(l,{A:()=>_});var s=o(335831),n=o(859471),i=o(836737),t=o(47998),a=o(396901),r=o(863812),c=o(410899),d=o(562615);function _({count:e,onClick:l,variant:o,size:_="300"}){(0,n.useEffect)(()=>{(0,s.A)("FollowersDisplay","/app/www/followersAuthDesktop/FollowersDisplay.tsx")},[]);let u=(0,a.A)(),{isAuth:p}=(0,t.A)(),h=e<=0,g={followers:(0,c.vQ)(u.ngettext('{{count}} follower', '{{count}} followers', e, 'label for n followers', 'label for n followers'),{count:(0,d.jsx)(r.A,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"following-count")}),following:(0,c.vQ)(u.ngettext('{{count}} following', '{{count}} following', e, 'label for n following users', 'label for n following users'),{count:(0,d.jsx)(r.A,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"follower-count")})};return p?(0,d.jsx)(i.az,{"data-test-id":`profile-${o}-count`,display:"inlineBlock",children:(0,d.jsx)(i.Rp,{disabled:h,onTap:({event:e})=>l(o,e),children:(0,d.jsx)(i.KJ,{inline:!0,overflow:"noWrap",size:_,weight:h?"normal":"bold",children:g[o]})})}):(0,d.jsx)(i.KJ,{inline:!0,children:g[o]})}},226907(e,l,o){o.d(l,{A:()=>a});var s=o(335831),n=o(859471),i=o(836737),t=o(562615);function a({accessibilityLabel:e,color:l="default",icon:o,info:a}){return(0,n.useEffect)(()=>{(0,s.A)("AboutDrawerInfoRow","/app/www/profile/ProfileHeader/AboutDrawerInfoRow.tsx")},[]),(0,t.jsxs)(i.so,{gap:{row:7,column:0},children:[(0,t.jsx)(i.In,{accessibilityLabel:e,color:l,icon:o,size:20}),a]})}},689184(e,l,o){o.d(l,{A:()=>_});var s=o(335831),n=o(859471),i=o(836737),t=o(923957),a=o(396901),r=o(782126),c=o(241408),d=o(562615);let _=({onTouch:e,size:l="xl",user:o,viewer:_,ref:u})=>{(0,n.useEffect)(()=>{(0,s.A)("AvatarWithPincode","/app/www/profile/ProfileHeader/AvatarWithPincode.tsx")},[]);let p=(0,a.A)(),{image_xlarge_url:h,username:g,avatar_color_index:f}=o??{},m=(0,c.A)(o),w=(0,r.A)({viewer:_,user:o})||_.isAuth&&_.isEmployee,x=(0,d.jsx)(t.eu,{color:f,name:g||"",outline:m,size:l,src:h??void 0});return w?(0,d.jsx)(i.Rp,{ref:u,accessibilityLabel:p._('Click to open pincode and share profile', 'AvatarWithPincode.pincodeEnabled.accessibilityLabel', 'Accessibility label for clicking on profile picture to open pincode for sharing'),fullWidth:!1,onTap:e,rounding:"circle",children:x}):x}},25129(e,l,o){o.d(l,{A:()=>I});var s,n=o(335831),i=o(859471),t=o(825193),a=o(836737),r=o(650359),c=o(731634),d=o(47998),_=o(396901),u=o(508765),p=o(220527),h=o(129625),g=o(376195),f=o(572187),m=o(491149),w=o(749777),x=o(226907),b=o(241408),A=o(602952),y=o(795822),j=o(562615);let z=(0,y.A)(()=>o.e("36129").then(o.bind(o,505680)),void 0,e=>505680,"app-www-followersAuthDesktop-FollowersModalContainer",e=>["36129"]),v=(0,y.A)(()=>Promise.all([o.e("91796"),o.e("16288"),o.e("71100")]).then(o.bind(o,109861)),void 0,e=>109861,"app-www-ProfileFollowers-ProfileFollowersModalGraphQL",e=>["91796","16288","71100"]);function P({followersTotalCount:e,followingResource:l,followingTotalCount:o,isAboutDrawerVariant:s,isViewingOwnProfile:t,size:r="300",user:c}){(0,i.useEffect)(()=>{(0,n.A)("FollowerCountsGraphQL","/app/www/followersAuthDesktop/FollowerCountsGraphQL.tsx")},[]);let d=(0,_.A)(),u=new URL(window.location.href),p=(()=>{let{isAuthenticated:e}=(0,g._8)(),l=(0,m.qJ)();return e&&l})(),{logContextEvent:y}=(0,h.o)(),P=/_(followers|following)\/$/,C=u.pathname.match(P),k=p&&C?.[1]||null,[I,S]=(0,i.useState)(k),B=()=>{S(null),k&&window.history.pushState({},"",u.pathname.replace(P,""))},F=e=>{S(e),t&&y({event_type:101,view_type:4,view_parameter:3106,component:13056,element:"followers"===e?42:41})},D=(0,b.A)(c);return(0,j.jsxs)(i.Fragment,{children:[s?(0,j.jsxs)(a.so,{direction:"column",gap:{row:0,column:6},children:[!!e&&e>=0&&(0,j.jsx)(x.A,{accessibilityLabel:d._('Followers icon', 'profileHeader.followersIcon', 'Icon next to user\'s follower count'),icon:"person-plus",info:(0,j.jsx)(f.A,{items:[(0,j.jsx)(w.A,{count:e,onClick:()=>F("followers"),size:r,variant:"followers"},"followersDisplay"),D?(0,j.jsx)(A.default,{user:c}):null]})}),o>=0&&(0,j.jsx)(x.A,{accessibilityLabel:d._('Following icon', 'profileHeader.followingIcon', 'Icon next to user\'s following count'),icon:"people",info:(0,j.jsx)(w.A,{count:o,onClick:()=>F("following"),size:r,variant:"following"})})]}):(0,j.jsx)(f.A,{items:[e&&e>=0?(0,j.jsx)(w.A,{count:e,onClick:()=>F("followers"),size:r,variant:"followers"}):null,o>=0?(0,j.jsx)(w.A,{count:o,onClick:()=>F("following"),size:r,variant:"following"}):null]}),"followers"===I&&(0,j.jsx)(v,{onDismiss:B,totalFollowersCount:e}),"following"===I&&(0,j.jsx)(z,{followersResource:l,onDismiss:B,totalFollowersCount:o,user:c,variant:I})]})}var C=o(782126);function k({isAboutDrawerVariant:e=!1,size:l="300",user:n}){let i=(0,d.A)(),{id:a}=n,c=(void 0!==s||(s=o(761604)).hash&&"a23b0f7439754a2c42bb445168b9e510"!==s.hash&&console.error("The definition of 'FollowersControllerQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),_=(0,t.useLazyLoadQuery)(c,{userId:a}),{following_count:p=0,interest_following_count:h=0}=n,g=_.v3GetUserHandlerQuery?.__typename==="V3GetUserHandler"?_.v3GetUserHandlerQuery.data:null,{followerCount:f,username:m}=g||{},w=(0,C.A)({user:n,viewer:i}),x=(0,u.A)({name:"UserFollowingResource",options:{exclude_not_explictly_followed:!!w||void 0,page_size:r.A.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE,explicit_following:w,username:m}});return g?(0,j.jsx)(P,{followersTotalCount:f,followingResource:x,followingTotalCount:p-(h??0),isAboutDrawerVariant:e,isViewingOwnProfile:w,size:l,user:n}):null}function I(e){(0,i.useEffect)(()=>{(0,n.A)("FollowersController","/app/www/profile/ProfileHeader/FollowersController.tsx")},[]);let l=(0,_.A)(),{compactLoader:o=!1,size:s}=e,t=l._('Loading follower counts', 'profile.header.followerController', 'accessibility label for follower counts spinner');return(0,j.jsx)(c.A,{name:"SafeSuspense_ProfileHeader_FollowersController",children:(0,j.jsx)(p.A,{fallback:o?(0,j.jsx)(a.KJ,{size:s,children:t}):(0,j.jsx)(a.az,{padding:5,children:(0,j.jsx)(a.y$,{accessibilityLabel:t,show:!0})}),children:(0,j.jsx)(k,{...e})})})}},619742(e,l,o){o.d(l,{A:()=>z});var s=o(335831),n=o(859471),i=o(836737),t=o(321571),a=o(310770),r=o(129625),c=o(396901),d=o(437750),_=o(410899),u=o(279416),p=o(169250),h=o(892804),g=o(562615);let f=new i.K5([new i.rk(u.QZ),new i.rk(p.d1)]),m="/settings/account-settings/",w=({text:e})=>{let l=(0,n.useRef)(null),[o,s]=(0,n.useState)(!1);return o&&(0,h.GV)("client.profile.inspirational_badge_controls.info_tool_tip.rendered",{sampleRate:1}),(0,g.jsxs)(n.Fragment,{children:[o&&(0,g.jsx)(i.AM,{_deprecatedShowCaret:!0,anchor:l.current,color:"deprecatedBlue",idealDirection:"up",onDismiss:()=>s(!1),positionRelativeToAnchor:!1,size:"sm",children:(0,g.jsx)(i.az,{padding:3,children:(0,g.jsx)(i.KJ,{align:"center",color:"inverse",size:"200",children:e})})}),(0,g.jsx)(i.az,{height:32,width:32,children:(0,g.jsx)(i.Rp,{ref:l,fullHeight:!0,fullWidth:!0,onFocus:()=>s(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:(0,g.jsx)(i.K0,{accessibilityLabel:e,icon:"circle-information",iconColor:"subtle",size:"sm"})})})]})},x=({badgeLabel:e,disabled:l,eligible:o,isChecked:s,setSelectedBadge:n})=>{let t=(0,g.jsx)(i.az,{display:"inlineBlock",children:(0,g.jsx)(i.JU,{htmlFor:`inspirational-badge-${e.id}`,children:(0,g.jsx)(i.KJ,{overflow:"noWrap",children:(0,g.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:a.ji["0"],color:o?"black":"gray"}},display:"inlineBlock",marginEnd:1,marginStart:1,paddingX:2,paddingY:1,rounding:100,children:e.label})})})});return(0,g.jsxs)(i.so,{alignItems:"start",direction:"row",children:[(0,g.jsx)(i.az,{display:"inlineBlock",marginBottom:2,marginEnd:2,children:(0,g.jsx)(i.Sc,{checked:s,disabled:l,id:`inspirational-badge-${e.id}`,name:"badges",onChange:({checked:l})=>n(e.id,l)},e.id)}),e.controlsTooltip?(0,g.jsx)(i.m_,{idealDirection:"right",text:e.controlsTooltip,children:t}):t]},e.id)};function b({inspirationalSignal:e,onDismiss:l,onSubmit:o}){(0,n.useEffect)(()=>{(0,s.A)("InspirationalBadgeControls","/app/www/profile/ProfileHeader/InspirationalBadgeControls.tsx")},[]);let{logContextEvent:t}=(0,r.o)(),u=(0,c.A)(),p=u._('Learn more', 'InspoBadges.learnMore', 'Link to article to learn more'),b=u._('Contact us', 'InspoBadgeControls.contactUs', 'Contact us link'),A=u._('Brand values', 'InspoBadgeControls.brandValuesLegend', 'Legend text used to describe brand values'),y=u._('Your brand\'s website indicates that your business is aligned with the values listed below', 'InspoBadges.brandValuesTooltip', 'Tooltip describing brand values'),j=u._('Communities', 'InspoBadgeControls.communitiesLegend', 'Legend text used to describe communities'),z=u._('Your brand\'s owner self-identified as a member of these groups. This information is only associated with your business account and isn\'t used to target ads. ', 'InspoBadges.communityTooltip', 'Tooltip describing communities'),v=u._('default color', 'InspoBadgeControls.defaultColor', 'Annotation describing the selected color as the default color'),P=(0,a.GL)(e),C=(0,a._D)(e),k=(0,a.MV)(u,P,e.badge_details),I=(0,a.MV)(u,C,e.badge_details),S=k.filter(e=>a.Sz.includes(e.id)),B=k.filter(e=>a.Rs.includes(e.id)),F=k.map(e=>e.id),D=I.map(e=>e.id),L=e.inspirational_badge_selection?.badgeColor||a.ji["0"],[T,E]=(0,n.useState)(D),[M,R]=(0,n.useState)(!1),[H,K]=(0,n.useState)(L),J=(0,n.useRef)(null),$=!!(0,d.E2)(H),U=$?H.toUpperCase():a.ji["0"],O=U===a.ji["0"]?`${U} (${v})`:U,Q=F.filter(e=>!T.includes(e)),G=D.length!==T.length||!T.every(e=>D.includes(e))||H!==L,V=(e,l)=>{E(l?[...T,e]:T.filter(l=>l!==e)),t({event_type:l?9675:9676,component:13911})};return(0,h.GV)("client.profile.inspirational_badge_controls.rendered",{sampleRate:1}),(0,g.jsx)(i.Wd,{zIndex:f,children:(0,g.jsx)(i.jK,{accessibilityDismissButtonLabel:u._('Close Inspirational Badges sheet', 'InspoBadgeControls.accessibilityDismissButtonLabel', 'Accessibility text for dismissing inspirational badges sheet'),accessibilityLabel:u._('Inspirational Badges customization for business profile', 'InspoBadgeControls.accessibilitySheetLabel', 'Accessibility text for opening inspirational badges sheet'),footer:({onDismissStart:e})=>(0,g.jsxs)(i.so,{direction:"row",justifyContent:"between",children:[(0,g.jsxs)(i.az,{children:[(0,g.jsx)(i.KJ,{color:"subtle",inline:!0,size:"200",children:u._('Have questions about brand values?', 'InspoBadgeControls.haveQuestions', 'Question preceding a contact us link')}),(0,g.jsx)("br",{}),(0,g.jsx)(i.KJ,{color:"subtle",inline:!0,size:"200",weight:"bold",children:(0,g.jsx)(i.N_,{accessibilityLabel:b,display:"inlineBlock",href:"https://help.pinterest.com/en/contact",target:"blank",underline:"hover",children:b})})]}),(0,g.jsx)(i.az,{children:(0,g.jsxs)(i.e2,{children:[(0,g.jsx)(i.$n,{color:"secondary",onClick:e,text:u._('Cancel', 'InspoBadgeControls.cancel', 'Cancel editing Inspirational badges')}),(0,g.jsx)(i.$n,{color:"primary",disabled:!G,onClick:()=>o({badgeColor:H,badgeOptOut:Q}),text:u._('Save', 'InspoBadgeControls.save', 'Save Inspirational badges')})]})})]}),heading:u._('Edit merchant details', 'InspoBadgeControls.title', 'Title for Inspirational Badges customization sheet'),onDismiss:l,size:"sm",children:(0,g.jsx)(i.so,{direction:"column",gap:{row:0,column:12},children:(0,g.jsxs)(i.so,{direction:"column",gap:{row:0,column:4},children:[(0,g.jsxs)(i.az,{children:[(0,g.jsxs)(i.KJ,{inline:!0,children:[u._('Pinterest is committed to connecting shoppers and merchants with compatible values.', 'InspoBadgeControls.description', 'Description text for Inspirational Badges customization sheet'),(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),u._('Feature up to three brand values and/or communities on your profile to let people on Pinterest know what your business represents.', 'InspoBadgeControls.description2', 'Description text for Inspirational Badges customization sheet')]}),"Â ",(0,g.jsx)(i.KJ,{inline:!0,weight:"bold",children:(0,g.jsx)(i.N_,{accessibilityLabel:p,display:"inlineBlock",href:a.gU,onClick:()=>{t({event_type:9677,component:13911})},target:"blank",underline:"hover",children:p})})]}),(0,g.jsxs)(i.so,{direction:"column",children:[(0,g.jsxs)(i.so,{alignItems:"center",children:[(0,g.jsx)(i.KJ,{inline:!0,overflow:"noWrap",size:"200",children:A}),(0,g.jsx)(w,{text:y})]}),(0,g.jsx)(i.az,{paddingY:1,children:(0,g.jsx)(i.LB,{legend:A,legendDisplay:"hidden",children:(0,g.jsx)(i.so,{direction:"column",gap:{row:0,column:3},children:S.map(e=>{let l=T.includes(e.id),o=T.length>=a.cC&&!l;return(0,g.jsx)(x,{badgeLabel:e,disabled:o,eligible:!0,isChecked:l,setSelectedBadge:V},e.id)})})})})]}),B.length>0&&(0,g.jsxs)(i.so,{direction:"column",children:[(0,g.jsxs)(i.so,{alignItems:"center",children:[(0,g.jsx)(i.KJ,{inline:!0,overflow:"noWrap",size:"200",children:j}),(0,g.jsx)(w,{text:z})]}),(0,g.jsx)(i.az,{paddingY:1,children:(0,g.jsx)(i.LB,{legend:j,legendDisplay:"hidden",children:(0,g.jsx)(i.so,{direction:"column",gap:{row:0,column:3},children:B.map(e=>{let l=T.includes(e.id),o=T.length>=a.cC&&!l;return(0,g.jsx)(x,{badgeLabel:e,disabled:o,eligible:!0,isChecked:l,setSelectedBadge:V},e.id)})})})}),(0,g.jsx)(i.KJ,{color:"subtle",inline:!0,size:"200",children:(0,_.vQ)(u._('To change communities info, visit {{ accountSettingsLink }}', 'InspoBadgeControls.changeCommunities', 'Tell users when they can reapply'),{accountSettingsLink:(0,g.jsx)(i.N_,{display:"inlineBlock",href:m,underline:"hover",children:(0,g.jsx)(i.KJ,{color:"subtle",inline:!0,size:"200",weight:"bold",children:u._('account settings', 'InspoBadgeControls.accountSettingsLink', 'Link to account settings')})},m)})})]}),(0,g.jsxs)(i.so,{direction:"column",children:[(0,g.jsxs)(i.az,{children:[(0,g.jsx)(i.az,{marginBottom:4,marginTop:4,children:(0,g.jsx)(i.JU,{htmlFor:"color-menu",children:(0,g.jsx)(i.KJ,{size:"200",children:u._('Choose your label color', 'InspoBadgeControls.labelColor', 'Label color title')})})}),(0,g.jsx)(i.$n,{accessibilityControls:"color-menu",accessibilityExpanded:M,accessibilityHaspopup:!0,iconEnd:"chevron-down",onClick:()=>{t({event_type:9674,component:13911}),R(!0)},selected:M,size:"lg",text:O})]}),(0,g.jsx)(i.az,{ref:J}),M&&(0,g.jsx)(i.Wd,{children:(0,g.jsx)(i.AM,{anchor:J.current,idealDirection:"down",onDismiss:()=>R(!1),positionRelativeToAnchor:!1,role:"listbox",shouldFocus:!0,size:"flexible",children:(0,g.jsxs)(i.az,{elevation:"shadowFloating",id:"color-menu",padding:4,rounding:200,width:"100%",children:[(0,g.jsx)(i.so,{alignItems:"start",gap:{row:4,column:0},children:a.ji.map(e=>(0,g.jsx)(i.az,{borderColor:"decorative",borderWidth:"lg",dangerouslySetInlineStyle:{__style:{borderColor:H===e?"black":e,backgroundColor:e}},height:48,marginBottom:4,rounding:"circle",width:48,children:(0,g.jsx)(i.Rp,{fullHeight:!0,fullWidth:!0,onTap:()=>K(e),rounding:400})},e))}),(0,g.jsxs)(i.so,{alignItems:"start",gap:{row:4,column:0},children:[(0,g.jsx)(i.az,{borderColor:"decorative",borderWidth:"lg",dangerouslySetInlineStyle:{__style:{borderColor:$&&!a.ji.includes(H.toUpperCase())?"black":void 0,backgroundColor:U}},height:48,rounding:"circle",width:48}),(0,g.jsx)(i.A_,{id:"selected-color",onChange:({value:e})=>K(e.slice(0,7)),size:"lg",value:H})]})]})})})]})]})})})})}var A=o(508765),y=o(469111);let j=new i.rk(10);function z(e){let l,o;(0,n.useEffect)(()=>{(0,s.A)("InspirationalBadgesAuthDesktop","/app/www/profile/ProfileHeader/InspirationalBadgesAuthDesktop.tsx")},[]);let{isOwnProfile:d,marginEnd:_=1,marginStart:u=1,userId:p,rounding:f=100,size:m="200"}=e,{logContextEvent:w}=(0,r.o)(),x=(0,c.A)(),z=x._('Learn more', 'InspoBadges.learnMore', 'Link to article to learn more'),v=x._('New!', 'InspoBadges.newText', 'New! descriptor calling out a New feature'),P=x._('Show shoppers your brand values and which communities you\'re a part of', 'InspoBadges.editTooltipText', 'Edit your badges callout'),C=x._('Add merchant details', 'InspoBadges.toggleEditBadges', 'CTA to add merchant details if a merchant does not have any'),k=(l=(0,y.A)(),o=l.data?.id,(0,A.A)({name:"VerifiedMerchantResource",options:{userId:o}})),I=k.data,S=(0,a.UJ)({verifiedMerchant:I}),B=(0,n.useRef)(null),[F,D]=(0,n.useState)(a.$N),[L,T]=(0,n.useState)(!1),[E,M]=(0,n.useState)(!0),R=S?(0,a._D)(F):[],H=(0,a.MV)(x,R,F.badge_details),K=F.inspirational_badge_selection?.badgeColor||a.ji["0"];(0,n.useEffect)(()=>{D(I?.inspirational_signal||a.$N)},[I?.inspirational_signal]),(0,n.useEffect)(()=>{R&&R.length&&w({event_type:9667,view_type:4,component:13910})});let J=()=>{T(!0),M(!1),w({event_type:9671,component:13911})},$=()=>{w({event_type:9668,component:13910})},U=()=>{w({event_type:9670,component:13910})};return S&&(0,h.GV)("client.profile.inspirational_badges.rendered",{sampleRate:1,tags:{is_own_profile:d,num_badges:H.length,badge_color:K,user_id:I?.id}}),S?(0,g.jsxs)(n.Fragment,{children:[(0,g.jsxs)(i.so,{alignItems:"center",children:[H.map(e=>(0,g.jsx)(i.m_,{link:(0,g.jsx)(i.az,{"data-test-id":"inspirational-badge-tooltip-learn-more",children:(0,g.jsx)(i.N_,{accessibilityLabel:z,href:a.j$,onClick:U,target:"blank",children:(0,g.jsx)(i.KJ,{color:"inverse",size:"100",weight:"bold",children:z})})}),text:e.description,zIndex:j,children:(0,g.jsx)(i.KJ,{overflow:"noWrap",size:m,children:(0,g.jsx)(i.Rp,{onMouseEnter:$,children:(0,g.jsx)(i.az,{dangerouslySetInlineStyle:{__style:(0,a.n2)(K)},"data-test-id":"inspirational-badge",display:"inlineBlock",marginEnd:_,marginStart:u,paddingX:2,paddingY:1,rounding:f,children:e.label})})})},e.label)),d&&(0,g.jsxs)(n.Fragment,{children:[E&&(0,g.jsx)(i.Wd,{zIndex:j,children:(0,g.jsx)(i.AM,{_deprecatedShowCaret:!0,anchor:B.current,color:"deprecatedBlue",idealDirection:"up",onDismiss:()=>{M(!1),w({event_type:9673,component:13911})},positionRelativeToAnchor:!1,size:"xs",children:(0,g.jsx)(i.az,{padding:3,children:(0,g.jsxs)(i.KJ,{align:"center",color:"inverse",inline:!0,size:"200",children:[(0,g.jsx)(i.KJ,{inline:!0,weight:"bold",children:v})," ",P]})})})}),0===H.length&&(0,g.jsx)(i.az,{display:"inlineBlock",children:(0,g.jsx)(i.Rp,{fullWidth:!0,onTap:J,children:(0,g.jsx)(i.KJ,{color:"subtle",children:C})})}),(0,g.jsx)(i.K0,{ref:B,accessibilityLabel:C,icon:"pencil",iconColor:"subtle",onClick:J,size:"sm"})]})]}),L&&(0,g.jsx)(b,{inspirationalSignal:F,onDismiss:()=>T(!1),onSubmit:({badgeColor:e,badgeOptOut:l})=>{T(!1),t.A.create("VerifiedMerchantResource",{userId:p,inspirational_badge_selection:{badgeColor:e,badgeOptOut:l}}).callUpdate().then(()=>k.refresh()),D({...F,inspirational_badge_selection:{badgeColor:e,badgeOptOut:l}}),w({event_type:9672,component:13911})}})]}):(0,g.jsx)(n.Fragment,{})}},926848(e,l,o){o.d(l,{A:()=>j});var s=o(335831),n=o(859471),i=o(731634),t=o(47998),a=o(836737),r=o(129625),c=o(445797),d=o(396901),_=o(410899),u=o(865295),p=o(321571),h=o(613817),g=o(351383),f=o(562615);function m({children:e,flyoutDirection:l,setShowMessageFlyout:o,showMessageFlyout:i,userId:t}){(0,n.useEffect)(()=>{(0,s.A)("ProfileMessageController","/app/www/profile/ProfileHeader/ProfileMessageController.tsx")},[]);let{logContextEvent:c}=(0,r.o)(),[d,_]=(0,n.useState)(""),u=(0,n.useRef)(null),{conversationCreate:m,conversationOpen:w}=(0,h.A)(),x=async()=>{_(""),o(!1),c({event_type:101,element:103,component:13946,view_type:4,view_parameter:3107});let e=p.A.create("ConversationsResource",{user_ids:[t],text:d}),l=await e.callCreate(),s=l?.resource_response.data;m(s),w(s.id)};return(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(a.az,{ref:u,children:e({toggleSendMessageFlyout:()=>{o(!i)}})}),i&&(0,f.jsx)(g.A,{anchor:u.current,idealDirection:l,message:d,onDismiss:()=>o(!1),onMessageChange:_,onMessageSubmit:x})]})}var w=o(959138);function x({isOwnProfile:e,setShowMessageFlyout:l,size:i="lg",showMessageFlyout:t,user:p}){(0,n.useEffect)(()=>{(0,s.A)("ContactMenuButton","/app/www/profile/ProfileHeader/ContactMenuButton.tsx")},[]);let{logContextEvent:h}=(0,r.o)(),g=(0,d.A)(),x=(0,n.useRef)(null),[b,A]=(0,n.useState)(!1),[y,j]=(0,n.useState)(),z=(0,u.J)(e,p?.partner?.profile_place||{},g._('Address copied', 'profileHeader.contactButton.toastText', 'Text on toast to show that an address has been copied')),v=()=>{A(!1)},{id:P,partner:C}=p,{contact_email:k="",contact_phone:I="",contact_phone_country:S="",enable_profile_address:B,enable_profile_message:F,profile_place:D={}}=C??{},L=I?y?.(I,{defaultCallingCode:S&&"0"!==S.phone_code?S.phone_code:void 0}):null;(0,c.r)({component:13673,element:11953,object_id_str:P,view_type:4,view_parameter:3107});let T=async()=>{if(A(e=>!e),I&&!y){let e=await o.e("48108").then(o.bind(o,608007));j(()=>e.parsePhoneNumberFromString)}h({event_type:101,component:13673,element:11953,object_id_str:P,view_type:4,view_parameter:3107})},E=e=>{h({event_type:101,component:13674,element:e,object_id_str:P,view_type:48,view_parameter:3107})},M=k||I,R={contact:g._('Contact', 'profileHeader.contactButton', 'Button on a business profile to contact that business'),sectionTitle:g._('Contact options', 'profileHeader.contactButton.contactOptions', 'Button on a business profile to contact that business'),message:g._('Message', 'profileHeader.contactMenu.message', 'Menu option to message the user'),email:(0,_.vQ)(g._('Email {{ contactEmail }}', 'profileHeader.contactMenu.email', 'contactEmail: Menu option to send an email to the user'),{contactEmail:k}),call:g._('Call', 'profileHeader.contactMenu.phoneNumber', 'Menu option to call the user')};if(!M&&!F)return null;let H=(0,u.M)(D||{});return(0,f.jsx)(m,{flyoutDirection:"up",setShowMessageFlyout:l,showMessageFlyout:t,userId:P,children:({toggleSendMessageFlyout:e})=>(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(a.az,{ref:x,children:(0,f.jsx)(a.$n,{onClick:()=>{M?T():e()},selected:b,size:i,text:R.contact})}),b&&(0,f.jsxs)(a.ms,{anchor:x.current,disableMobileUI:!0,id:"profileHeader_contactMenu",idealDirection:"up",onDismiss:v,zIndex:new a.K5([w.JE]),children:[(0,f.jsxs)(a.ms.Section,{label:R.sectionTitle,children:[F?(0,f.jsx)(a.ms.Item,{onSelect:()=>{e(),E(11956),v()},option:{label:R.message,value:R.message}}):null,k?(0,f.jsx)(a.ms.Link,{href:`mailto:${k}`,iconEnd:"external-link",onClick:()=>{E(11954),v()},option:{label:R.email.join(""),value:R.email.join("")}}):null,L||I?(0,f.jsx)(a.ms.Link,{href:`tel:${L?L.getURI():I}`,iconEnd:"external-link",onClick:({dangerouslyDisableOnNavigation:e})=>{E(11955),e(),v()},option:{label:R.call,value:R.call}}):null]}),B&&(0,f.jsx)(a.ms.Section,{label:g._('Address', 'profileHeader.contactButton.address', 'Address category for contact options drawer'),children:(0,f.jsx)(a.ms.Item,{onSelect:z,option:{label:H,value:H}})})]})]})})}var b=o(787402),A=o(782126),y=o(241408);function j(e){(0,n.useEffect)(()=>{(0,s.A)("ProfileHeaderContactButton","/app/www/profile/ProfileHeader/ProfileHeaderContactButton.tsx")},[]);let{setShowMessageFlyout:l,size:o,showMessageFlyout:a,user:r}=e,c=(0,t.A)(),d=(0,y.A)(r),_=(0,A.A)({user:r,viewer:c}),{blocked_by_me:u,id:p,partner:h={},should_show_messaging:g}=r,{contact_email:w="",contact_phone:j="",enable_profile_message:z}=h||{},v=!u&&!!g&&!!(c.isAuth&&c.should_show_messaging);return v&&(w||j)?(0,f.jsx)(i.A,{name:"ContactMenuButton",children:(0,f.jsx)(x,{isOwnProfile:_,setShowMessageFlyout:l,showMessageFlyout:a,size:o,user:r})}):v&&(z||!d)?(0,f.jsx)(m,{flyoutDirection:"up",setShowMessageFlyout:l,showMessageFlyout:a,userId:p,children:({toggleSendMessageFlyout:e})=>(0,f.jsx)(b.A,{onClick:e,size:o,userId:p})}):null}},602952(e,l,o){o.r(l),o.d(l,{default:()=>p});var s=o(335831),n=o(859471),i=o(836737),t=o(746743),a=o(47998),r=o(396901),c=o(863812),d=o(410899),_=o(782126),u=o(562615);function p({color:e="default",user:l,inline:o=!1,size:p}){(0,n.useEffect)(()=>{(0,s.A)("ViewerCount","/app/www/profile/ProfileHeader/ViewerCount.tsx")},[]);let h=(0,r.A)(),g=(0,n.useRef)(null),f=(0,a.A)(),m=new i.rk(2);if(l?.profile_views===-1)return null;let w=l?.profile_views??0,x=w>=1e7?h._('10m+ monthly views', 'viewerCount.overTenMillion', 'Shortform string indicating that a partner profile has over 10,000,000 monthly views'):(0,d.vQ)(h._('{{ count }} {{ label }}', 'viewerCount.templateString', 'Template string for a count of the monthly viewers of a partner profile'),{count:(0,u.jsx)(c.A,{shortform:!0,shortformMaximumFractionDigits:1,value:w||0},"pretty_number"),label:h._('monthly views', 'viewerCount.monthlyViewsLabel', 'Label for count of monthly views of a partner profile')});return(0,u.jsx)(i.az,{ref:g,children:(0,u.jsxs)(i.KJ,{color:e,inline:o,size:p,weight:"normal",children:[x,(0,_.A)({user:l,viewer:f})&&(0,u.jsx)(t.En,{anchor:g.current,customWrapper:({children:e})=>(0,u.jsx)(i.az,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:m,children:e}),experienceIds:[502925],flyoutSize:"md",idealDirection:"down",onClickComplete:()=>window.open("https://www.pinterest.com/_/_/help/business/article/review-new-and-updated-reporting-metrics#section-15861","_blank"),placementId:19,showCaret:!0,textAlign:"center"})]})})}},865295(e,l,o){o.d(l,{J:()=>r,M:()=>a});var s=o(129625),n=o(388364),i=o(906494),t=o(562615);function a(e){let{street:l,extra_street:o,locality:s,region:n,postal_code:i,country:t}=e,a=l||"",r=o||"",c=s||"";return`${a}${r}${(a||r)&&","} ${c}${c&&","} ${n||""} ${i||""} ${t||""}`.trim()}function r(e,l,o){let{logContextEvent:r}=(0,s.o)(),{showToast:c}=(0,i.CG)();return()=>{r({event_type:101,element:12799,view_type:548,view_parameter:e?3106:3107}),navigator.clipboard.writeText(a(l)),c(({hideToast:e})=>(0,t.jsx)(n.A,{onHide:e,text:o}))}}},952150(e,l,o){o.d(l,{A:()=>h});var s=o(335831),n=o(859471),i=o(836737),t=o(233944),a=o(47998),r=o(396901),c=o(129994),d=o(613817),_=o(782126),u=o(237505),p=o(562615);function h(e){(0,n.useEffect)(()=>{(0,s.A)("SendProfileButton","/app/www/sending/SendProfileButton.tsx")},[]);let{bgColor:l,dataTestId:o="share-profile-auth",iconColor:h,updateSharesheetOpenRef:g,labelVariant:f="share",size:m="lg",useGestaltButton:w,user:x}=e,b=(0,r.A)(),[A,y]=(0,n.useState)(!1),j=(0,a.A)(),z=(0,_.A)({user:x,viewer:j}),v=(0,t.A)(),P=j.isAuth&&z&&j.isPrivateProfile,{conversations:{showConversationsDropdown:C},dropdownOpen:k,setObjectAttachment:I}=(0,d.A)(),S=b._('Send Profile', 'Accessible label for button to send this profile', 'Accessible label to send this profile button'),B="shareProfile"===f||"iconShareProfile"===f?b._('Share profile', 'sendProfileButton.button.shareProfile', 'Button to share user profile'):b._('Share', 'sendProfileButton.button', 'Button to share user profile');return(0,p.jsx)(u.A,{flyoutDisplayOptions:{shownWithinProfileHeader:!0},isFlyoutOpen:A,loggingOptions:{component:13675,element:12631,viewType:4,sendShareSurface:1},onFlyoutDismiss:()=>{y(!1),g&&g(!1)},onToggleFlyout:()=>{v({event_type:101,component:13675,element:1079,object_id_str:x?.id,view_type:4,view_parameter:z?3106:3107}),P?!C&&x?.id&&(I({type:"follow_invite",id:x.id}),k()):(y(!A),g&&g(!A))},sendObject:{type:"user",description:"",name:x?.full_name,imageUrl:x?.image_large_url??"",url:`/${x?.username??""}/`,id:x?.id??""},children:({handleSendShareFlyoutButtonClick:e})=>(0,p.jsx)(i.az,{"data-test-id":o,children:w?(0,p.jsx)(i.$n,{accessibilityLabel:S,iconStart:"iconShareProfile"===f?"share":void 0,onClick:({event:l})=>{l.preventDefault(),l.stopPropagation(),e()},selected:A,size:m,text:B}):(0,p.jsx)(c.A,{accessibilityLabel:S,bgColor:l,icon:"share",iconColor:h,onClick:()=>e(),selected:A})})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/70820-60d83e4fbdf8cd86.mjs.map