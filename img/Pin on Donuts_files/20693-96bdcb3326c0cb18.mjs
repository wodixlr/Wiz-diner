(self.modernJsonp=self.modernJsonp||[]).push([["20693"],{443198(e,a,l){var n,t;l.r(a),l.d(a,{default:()=>i});let r={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"collab_AcceptInvite_Mutation",selections:t=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_AcceptInvite_Mutation",selections:t},params:{id:"781c41132fefa007ebde7bcd8c49840ce1768ed6f6781fd72e3904bd35fb576f",metadata:{},name:"collab_AcceptInvite_Mutation",operationKind:"mutation",text:null}};r.hash="7005ce437a6a6ff33741ab44aa02cf61";let i=r},721295(e,a,l){var n,t;l.r(a),l.d(a,{default:()=>i});let r={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_ApproveInvite_Mutation",selections:t=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_ApproveInvite_Mutation",selections:t},params:{id:"472a584df4a467181ed32ec33d235ef2f2e6d53fdb4c7a43d11156b6d51dcd50",metadata:{},name:"collab_ApproveInvite_Mutation",operationKind:"mutation",text:null}};r.hash="40ae8061007ba5f53a4570e43e4ca864";let i=r},215966(e,a,l){var n,t,r,i;l.r(a),l.d(a,{default:()=>s});let o={fragment:{argumentDefinitions:[n={defaultValue:null,kind:"LocalArgument",name:"ban"},t={defaultValue:null,kind:"LocalArgument",name:"boardId"},r={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:i=[{alias:null,args:[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,r,n],kind:"Operation",name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:i},params:{id:"ff3059743c1d13d4f1c2ef07e10d2b29925c7b330db4103e55e9e65c380c0ce5",metadata:{},name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};o.hash="c62e5df78917dd238b70f366f358d487";let s=o},158438(e,a,l){var n,t,r,i,o,s,d,u;l.r(a),l.d(a,{default:()=>m});let c={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:t=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},d={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[o,s,u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},u],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},d],storageKey:null}]},params:{id:"83dd1206102cffdd460f8c072df0ca515d27c8fcf3798423f1657afabdf467ac",metadata:{},name:"collab_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};c.hash="2c3e1508650962adfff1171e950fa419";let m=c},623439(e,a,l){var n,t,r,i,o,s,d,u,c,m;l.r(a),l.d(a,{default:()=>g});let p=(n=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"message"}],t=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],s={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},c={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},m=[i,u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:o,storageKey:null},s,d,u,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:o,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},c],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:m,storageKey:null},s,d,u,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:m,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},c],storageKey:null}]},params:{id:"ff45f353c3246c417487b54a02f0669dbc6c45761df9567395537bf1f7875a9f",metadata:{},name:"collab_RequestToJoin_Mutation",operationKind:"mutation",text:null}});p.hash="9aa22a7713214239538142ad2c957cc3";let g=p},104770(e,a,l){var n,t;l.r(a),l.d(a,{default:()=>i});let r={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_emails_Mutation",selections:t=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutationv2",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_emails_Mutation",selections:t},params:{id:"b71dbcb22ec2462fa0cde080403e4f9001df6f822511fd94b0fb3eae0c6b3fd4",metadata:{},name:"collab_emails_Mutation",operationKind:"mutation",text:null}};r.hash="de392a939a95d05f7ee889fe77a9e52d";let i=r},514655(e,a,l){var n,t,r,i;l.r(a),l.d(a,{default:()=>s});let o={fragment:{argumentDefinitions:[n={defaultValue:null,kind:"LocalArgument",name:"boardId"},t={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},r={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_users_Mutation",selections:i=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,n,r],kind:"Operation",name:"collab_users_Mutation",selections:i},params:{id:"42ceaa3423a096a27613e5738f83aaadcee449c55d4dd03624d2f08a6b6dca04",metadata:{},name:"collab_users_Mutation",operationKind:"mutation",text:null}};o.hash="850c5de9834cac0edfdd5652a78bffbf";let s=o},544684(e,a,l){l.d(a,{A:()=>r});var n=l(859471),t=l(173270);function r({allowSearchOnMount:e,children:a,onTypeaheadSuggestionsChange:l,resourceName:r,resourceOptions:i,value:o}){let s=(0,t.A)({allowSearchOnMount:e,resourceName:r,resourceOptions:i,value:o});return(0,n.useEffect)(()=>{s?.length&&l(s)},[s]),a||null}},173270(e,a,l){l.d(a,{A:()=>o});var n=l(859471);function t(e,a,l){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var n=l.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:n+"")in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}let r=class{constructor(e){t(this,"_uidToData",{}),t(this,"_numItems",0),t(this,"_firstData",null),t(this,"_lastData",null),this._maxNumItems=e??10}set(e,a){let l=this._uidToData[e];l||(l={uid:e,item:a,next:null,prev:null},this._uidToData[e]=l,this._numItems+=1),this._moveToFront(l),this._numItems>this._maxNumItems&&this._evict()}get(e){let a=this._uidToData[e];return a?(this._moveToFront(a),a.item):null}remove(e){let a=this._uidToData[e];a&&(delete this._uidToData[e],this._firstData===a&&(this._firstData=a.next),this._lastData===a&&(this._lastData=a.prev),a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),this._numItems-=1)}_moveToFront(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))}_evict(){this._lastData&&(delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData&&(this._lastData.next=null)),this._numItems-=1)}};var i=l(596851);function o({allowSearchOnMount:e=!1,resourceName:a,resourceOptions:l={},value:t}){let o=(0,n.useRef)(!1),s=(0,n.useRef)({}),[d,u]=(0,n.useState)([]),c=function({resourceName:e,resourceOptions:a}){let l=(0,i.Kw)(),t=(0,n.useRef)(void 0);return t.current||(t.current=function({resourceCreator:e,resourceName:a,resourceOptions:l}){let n=e(a,{...l,count:"count"in l?l.count:5}),t=new r,i=()=>{n.abort()},o=async(e,a)=>{if(n.isCalling()){let l=n.options?.term,t=n.options?.pin_scope;if(e===l&&a===t)return;i()}let{bookmarks:l,...r}=n.options||{};n.options={...r,term:e,pin_scope:a};let{data:o}=(await n.callGet({showError:!1})).resource_response,s=o?.items,d=o?.hint||{};return t.set(`${a}-${e}`,{hint:d,items:s}),{term:e,items:s,hint:d}};return async function(e,a){let l=t.get(`${a}-${e}`);if(l){let{items:a}=l;if(a&&a.length){i();let{hint:n}=l;return{hint:n,items:a,term:e}}}return e.length>=0?o(e,a):{hint:{},items:[],term:e}}}({resourceCreator:l,resourceName:e,resourceOptions:a})),t.current}({resourceName:a,resourceOptions:l}),m=l.pin_scope||"pins",p=`${m}-${t}`;return(0,n.useEffect)(()=>{(async()=>{if(null!=t&&""!==t&&(e||o.current))if(p in s.current)u(s.current[p]);else try{let e=await c(t,m);if(e){let{items:a}=e;s.current[p]=a,u(a)}}catch(e){if("Resource call aborted"===e)return;throw e}o.current||(o.current=!0)})()},[t,m,p]),d}},922641(e,a,l){l.d(a,{A:()=>t});let n=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,t=e=>n.test(e)},829122(e,a,l){l.d(a,{A:()=>c});var n=l(335831),t=l(859471),r=l(836737),i=l(923957),o=l(47998),s=l(396901),d=l(562615);function u({collaborator:e,isSelected:a,onToggle:l}){(0,t.useEffect)(()=>{(0,n.A)("CollaboratorItem","/app/www/BoardCreate/AddCollaborators/CollaboratorItem.tsx")},[]);let u=(0,s.A)(),c=(0,o.A)(),m=c.isAuth?c?.avatar_color_index:void 0;return(0,d.jsxs)(r.so,{children:[(0,d.jsxs)(r.so,{flex:"grow",children:["email"===e.type||"email_share_suggestion"===e.type?(0,d.jsx)(r.az,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",marginEnd:3,rounding:"circle",width:48,children:(0,d.jsx)(r.In,{accessibilityLabel:u._('Email icon', 'Email icon on board create modal', 'boardCreate.emailIcon'),color:"default",icon:"envelope",size:24})}):(0,d.jsx)(r.az,{display:"flex",flex:"none",height:48,marginEnd:3,width:48,children:(0,d.jsx)(i.eu,{color:m,name:e.full_name||"",size:"fit",src:e.image_medium_url||e.image_large_url})}),"email"===e.type||"email_share_suggestion"===e.type?(0,d.jsx)(r.so,{alignItems:"center",children:(0,d.jsx)(r.az,{children:(0,d.jsx)(r.KJ,{size:"300",children:e.id})})}):(0,d.jsxs)(r.so,{direction:"column",justifyContent:"center",children:[(0,d.jsx)(r.az,{marginBottom:1,tabIndex:0,children:(0,d.jsx)(r.KJ,{lineClamp:1,size:"300",children:e.full_name})}),(0,d.jsx)(r.az,{tabIndex:0,children:(0,d.jsx)(r.KJ,{size:"200",children:`@${e.username||""}`})})]})]}),(0,d.jsx)(r.so,{flex:"none",children:(0,d.jsx)(r.$n,{onClick:()=>l(e),selected:a,size:"lg",text:a?u._('Added', 'Text that lets the user know they have added the contact', 'boardCreate.addedContactButton'):u._('Add', 'Text that lets the user know they can add that contact', 'boardCreate.addContactButton')})})]})}function c({contacts:e,selectedContactIds:a,onCollaboratorToggle:l,itemPadding:i=2}){return(0,t.useEffect)(()=>{(0,n.A)("CollaboratorList","/app/www/BoardCreate/AddCollaborators/CollaboratorList.tsx")},[]),(0,d.jsx)(t.Fragment,{children:e.map(e=>(0,d.jsx)(r.az,{paddingY:i,children:(0,d.jsx)(u,{collaborator:e,isSelected:a.includes(e.id),onToggle:l})},e.id))})}},881302(e,a,l){l.d(a,{A:()=>c});var n=l(335831),t=l(859471),r=l(836737),i=l(233944),o=l(105321),s=l(396901),d=l(544684),u=l(562615);function c({searchValue:e,onSearchChange:a,onTypeaheadSuggestionsChange:l}){(0,t.useEffect)(()=>{(0,n.A)("CollaboratorSearch","/app/www/BoardCreate/AddCollaborators/CollaboratorSearch.tsx")},[]);let c=(0,s.A)(),m=(0,i.A)(),p=(0,t.useMemo)(()=>(0,o.A)(e=>{0!==e.length&&m({event_type:7383,view_type:5,view_parameter:3059,component:43,aux_data:{entered_query:e}})},3e3),[m]);return(0,u.jsx)(d.A,{onTypeaheadSuggestionsChange:l,resourceName:"ShareSuggestionsTypeaheadResource",value:e,children:(0,u.jsx)(r.Lw,{accessibilityLabel:c._('Search for collaborators by name or email', 'users can search for other people and add them as collaborators to a board', 'boardCreate.searchBar.accessibilityLabel'),id:"CollaboratorInviteSearchField",onChange:({value:e})=>{a({value:e}),p(e)},placeholder:c._('Search by name or email', 'text in search field to indicate that users could search for other users here', 'boadCreate.searchBar.placeHolder'),size:"lg",value:e})})}},506699(e,a,l){l.d(a,{A:()=>i});var n=l(859471),t=l(508765),r=l(922641);function i({selectedContacts:e,onSelectedContactsChange:a}){let{data:l}=(0,t.A)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}),[i,o]=(0,n.useState)([]),[s,d]=(0,n.useState)("");(0,n.useEffect)(()=>{l&&o(l.map(e=>"email_share_suggestion"===e.type?{...e,id:e.email||""}:e))},[l]);let u=e.map(e=>e.id),c=[...e,(0,r.A)(s)&&!u.includes(s)?{id:s,type:"email"}:null,...i.filter(e=>!u.includes(e.id))].filter(Boolean);return{searchValue:s,allContacts:c,handleTextFieldChange:({value:e})=>{d(e)},handleTypeaheadSuggestionsChange:e=>{o(e)},handleCollaboratorClick:l=>{u.includes(l.id)?a?.((e||[]).filter(e=>e.id!==l.id)):a?.([...e,l])}}}},992774(e,a,l){l.d(a,{A:()=>o});var n=l(859471),t=l(746743),r=l(55465),i=l(686151);function o(e,a){let{completeExperience:l,dismissExperience:o,mountPlacement:s,unmountPlacement:d,viewExperience:u}=(0,i.Ay)(),{experienceForPlacement:c}=(0,r.A)(e),m=(0,n.useRef)(!1);(0,n.useEffect)(()=>(a&&s(e),()=>{d(e)}),[e,a,s,d]);let p=(0,t.V6)(c)?c.display_data?.suggested_board_name:void 0,g=(0,n.useEffectEvent)(()=>{u(e,c.experience_id)});return(0,n.useEffect)(()=>{p&&g()},[p]),{suggestedBoardName:p,completeExperience(){p&&!m.current&&(l(e,c.experience_id),m.current=!0)},dismissExperience(){p&&!m.current&&(o(e,c.experience_id),m.current=!0)}}}},902494(e,a,l){l.d(a,{D:()=>s,_:()=>o});var n=l(650359),t=l(616275),r=l(874748);let i=(e,a)=>(0,r.RU)({max:e,maxErrorString:(0,t.A)(a._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a string is too long', 'Validation error when a string is too long'),{maxLength:e})}),o=e=>[i(n.A.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)],s=e=>[(0,r.mg)({message:e._('Don\'t forget to name your board!', ' - ', ' -- ')}),i(n.A.MAX_CHARS_FOR_BOARD_TITLE,e)]},472262(e,a,l){l.d(a,{Cv:()=>T,Im:()=>y,JQ:()=>C,XK:()=>f,ik:()=>h,lt:()=>_,mV:()=>b,s5:()=>k,sw:()=>I,tR:()=>x,y9:()=>v,z$:()=>A,z1:()=>F});var n,t,r,i,o,s,d,u=l(106386),c=l(825193),m=l(321571),p=l(129625),g=l(301704);let _=()=>{let e=(void 0!==n||(n=l(514655)).hash&&"850c5de9834cac0edfdd5652a78bffbf"!==n.hash&&console.error("The definition of 'collab_users_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),[a]=(0,c.useMutation)(e),{logContextEvent:t}=(0,p.o)();return async(e,l,n)=>{let r={boardId:e,collaboratorIds:l,message:n||""};return await new Promise((l,n)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&n(r[0]),t({event_type:28,object_id_str:e}),l()},onError:e=>n(e)})})}},b=()=>{let e=(void 0!==t||(t=l(104770)).hash&&"de392a939a95d05f7ee889fe77a9e52d"!==t.hash&&console.error("The definition of 'collab_emails_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),[a]=(0,c.useMutation)(e),{logContextEvent:n}=(0,p.o)();return async(e,l,t)=>{let r={boardId:e,emails:l,message:t||""};return await new Promise((l,t)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&t(r[0]),n({event_type:28,object_id_str:e}),l()},onError:e=>t(e)})})}},f=()=>{let e=(void 0!==r||(r=l(721295)).hash&&"40ae8061007ba5f53a4570e43e4ca864"!==r.hash&&console.error("The definition of 'collab_ApproveInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),[a]=(0,c.useMutation)(e),{logContextEvent:n}=(0,p.o)();return async(e,l)=>{let t={boardId:e,userId:l};return await new Promise((l,r)=>{a({variables:{...t},onCompleted:(a,t)=>{t&&r(t[0]),n({event_type:32,object_id_str:e}),l(a)},onError:e=>r(e)})})}};function h(e,a){return async l=>{await (0,g.A)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"POST",data:{collaborator:a}}),l({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:a}})}}function y(e,a){return async l=>{await (0,g.A)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"DELETE",data:{collaborator:a}}),l({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}})}}let k=(e,a)=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e,collaboratingUser:a}}),v=()=>{let e=(void 0!==i||(i=l(443198)).hash&&"7005ce437a6a6ff33741ab44aa02cf61"!==i.hash&&console.error("The definition of 'collab_AcceptInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),[a]=(0,c.useMutation)(e),{logContextEvent:n}=(0,p.o)();return async e=>{let l={boardId:e};return await new Promise((t,r)=>{a({variables:{...l},onCompleted:(a,l)=>{l&&r(l[0]),n({event_type:32,object_id_str:e}),t(a)},onError:e=>r(e)})})}},I=(e,a,l)=>async n=>{n(k(e,a)),(await m.A.create("BoardInviteResource",{board_id:e,invited_user_id:a.id}).callUpdate()).resource_response.error||l({event_type:32,object_id_str:e})};function K(e,a){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:a}}}let F=()=>{let e=(void 0!==o||(o=l(623439)).hash&&"9aa22a7713214239538142ad2c957cc3"!==o.hash&&console.error("The definition of 'collab_RequestToJoin_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),[a]=(0,c.useMutation)(e),n=(0,u.wA)();return async e=>{let l={boardId:e};return await new Promise((t,r)=>{a({variables:{...l},onCompleted:(a,l)=>{l&&(n(K(e,!1)),r(l[0])),n(K(e,!0)),t(a)},onError:a=>{n(K(e,!1)),r(a)}})})}};function A(e,a){return l=>{(0,g.A)({url:"/v3/boards/{board}/collaborators/invite/{user}/",urlParams:{board:e,user:a},method:"DELETE"}).catch(()=>{l(K(e,!0))}),l(K(e,!1))}}let C=()=>{let e=(void 0!==s||(s=l(215966)).hash&&"c62e5df78917dd238b70f366f358d487"!==s.hash&&console.error("The definition of 'collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),[a]=(0,c.useMutation)(e),{logContextEvent:n}=(0,p.o)();return async(e,l,t)=>{let r={boardId:e,userId:l,ban:t||!1};return await new Promise((l,t)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&t(r[0]),n({event_type:29,object_id_str:e}),l(a)},onError:e=>t(e)})})}},T=()=>{let e=(void 0!==d||(d=l(158438)).hash&&"2c3e1508650962adfff1171e950fa419"!==d.hash&&console.error("The definition of 'collab_RemoveBoardCollaborators_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d),[a]=(0,c.useMutation)(e),{logContextEvent:n}=(0,p.o)();return async(e,l)=>{let t={board:e,collaboratorIds:[l]};return await new Promise((l,r)=>{a({variables:{...t},onCompleted:(a,t)=>{t&&r(t[0]),n({event_type:29,object_id_str:e}),l(a)},onError:e=>r(e)})})}},x=()=>{let e=C(),a=T();return(l,n,t)=>async()=>{let{invited_user:n,status:r,board:{id:i}}=l;n&&("accepted"===r?await a(i,n.id):await e(i,n.id,t))}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/20693-96bdcb3326c0cb18.mjs.map