(self.modernJsonp=self.modernJsonp||[]).push([["931"],{606731(e,t,a){a.r(t),a.d(t,{default:()=>r});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardButton_board"}],type:"Board",abstractKey:null};o.hash="0e2c441822700a6145ea7cd142c0425b";let r=o},720339(e,t,a){a.r(t),a.d(t,{default:()=>r});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_coverPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],type:"CoverPin",abstractKey:null};o.hash="35b139c2e951baaa6624b30e45f913ce";let r=o},694602(e,t,a){a.r(t),a.d(t,{default:()=>r});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardButton_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardFlyout_board"}],type:"Board",abstractKey:null};o.hash="8d95294efe15498023c69669c6a41e71";let r=o},230733(e,t,a){a.r(t),a.d(t,{default:()=>r});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardFlyout_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};o.hash="f459445ee8d1ea0db022e490ef5a2e80";let r=o},279891(e,t,a){a.r(t),a.d(t,{default:()=>r});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRep_parentPin",selections:[{args:null,kind:"FragmentSpread",name:"PinRep_parentPin"}],type:"Pin",abstractKey:null};o.hash="9c0000d5884ff2a1347c1278f1d95042";let r=o},740507(e,t,a){var o;a.r(t),a.d(t,{default:()=>i});let r={argumentDefinitions:[{kind:"RootArgument",name:"isCloseupRelatedModulesFeedQuery"},{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:o=[{args:null,kind:"FragmentSpread",name:"PinRepInner_board"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:o,storageKey:null}]},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};r.hash="51989dcefa62862d9443ed3d243ffdbf";let i=r},879889(e,t,a){a.d(t,{A:()=>T});var o=a(335831),r=a(859471),i=a(836737);let n="select_pins",l="board_picker",s="create_board";var d=a(331195),c=a(129625),u=a(389598),h=a(396901),_=a(809796),p=a(106386),f=a(979638),b=a(14143),g=a(388364),m=a(410899),y=a(528989),A=a(508765),x=a(906494),P=a(846515),v=a(886583),w=a(562615);function B({isFirstBoardCreation:e,isResUserFirstBoardCreation:t=!1,isOnSelectStep:a,onClickBackButton:n,onDismiss:l,selectedPinCount:s}){(0,r.useEffect)(()=>{(0,o.A)("BoardlessPinsModalHeading","/app/www/profile/ProfileBoards/BoardlessPins/BoardlessPinsModalHeading.tsx")},[]);let d=(0,h.A)(),c=d._('Organize into a board', 'boardlessPins.modalHeading.organizeHeading', 'Heading for modal to add unorganized Pins to board'),u=s>0?(0,m.vQ)(d.ngettext('{{ pinCount }} selected', '{{ pinCount }} selected', s, 'boardlessPins.modalHeading.PinCountHeading', 'number of Pins selected'),{pinCount:s}):c,_=d._('Create board', 'boardlessPins.modalHeading.createBoardHeading', 'Heading for modal to create new board with unorganized Pins');return(0,w.jsxs)(i.az,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:4,paddingY:8,position:"relative",children:[e||a||t?(0,w.jsx)(i.az,{height:40,width:40}):(0,w.jsx)(i.K0,{accessibilityLabel:d._('Go back to previous modal', 'boardlessPins.modalHeading.arrowBackIconButton', 'Accessibility label for back button'),disabled:a,icon:"chevron-left",iconColor:a?"inverse":"default",onClick:n,size:"md"}),(0,w.jsx)(i.az,{maxWidth:486,children:(0,w.jsx)(i._Y,{align:"center",size:"600",children:a?u:_})}),(0,w.jsx)(i.K0,{accessibilityLabel:d._('Cancel changes', 'boardlessPins.modalHeading.cancelIconButton', 'Accessibility label for close modal button'),icon:"close",iconColor:"default",onClick:l,size:"md"})]})}var j=a(764861),I=a(310206),S=a(895850),z=a(831064),C=a(913931);function k({boardlessPinsBoardId:e,currentStep:t,hasBoards:a,isOnSelectStep:d,onDismiss:c,selectedPins:_,updateCurrentStep:k,userId:E,isFirstBoardCreation:T=!1,isResUserFirstBoardCreation:R=!1,showRepinAnimation:F,onComplete:D}){(0,r.useEffect)(()=>{(0,o.A)("BoardlessPinsBoardPicker","/app/www/profile/ProfileBoards/BoardlessPins/BoardlessPinsBoardPicker.tsx")},[]);let O=(0,h.A)(),N=(0,C.A)(),[K,H]=(0,r.useState)(!1),[L,U]=(0,r.useState)(""),[M,W]=(0,r.useState)(""),{checkExperiment:V}=(0,y.A)(),J=(0,A.A)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker"}}),G=(0,p.wA)(),$=(0,f.Zp)(),q=(0,x.CG)(),Q=_[0],Y=_.map(e=>e.image).filter(e=>!!e),X=(t,a)=>{let o=_.map(e=>e.id);G((0,S.A)({selectedPinIds:o,source:{boardId:e,sectionId:null},target:{boardId:t,sectionId:a||null}},O)),G((0,I.J6)({feedId:E,feedType:z.A.BOARDLESS_PINS,itemIds:o,itemType:"pin"}))},Z=async()=>{try{let e=await N({boardCreateOptions:{name:M,privacy:K?"secret":"public",aux_data:{source:"organize_pins"}}});if(X(e.id),c(),T&&V("ap_dweb_first_board_creation",{dangerouslySkipActivation:!0}).group.includes("genie")){q.showToast(({hideToast:t})=>(0,w.jsx)(g.A,{duration:3e3,imageUrl:_[0]?.image?.url??"",onHide:t,text:(0,w.jsx)(i.KJ,{overflow:"normal",size:"200",children:(0,m.$w)({text:O._('Saved to <a id="1">{{ boardName }}</a>', 'BoardlessPinsBoardPicker.SavedToBoardToast.Message', 'Saved to label for better save. boardName: url to saved board'),markers:{boardName:e.name??""},jsxReplacements:{1:({innerHtmlStrings:t})=>(0,w.jsx)(i.N_,{display:"block",href:e.url??"",children:(0,w.jsx)(i.KJ,{lineClamp:1,size:"200",weight:"bold",children:t},"PostSavedPinToastBoardName")})}})}),thumbnail:{icon:(0,w.jsx)(i.In,{accessibilityLabel:O._('Saved to profile thumbnail', 'BoardlessPinsBoardPicker.thumbnail.accessibilityLabel', 'Thumbnail for saved to profile.'),color:"default",icon:"clock-history",size:24})}}));let t=_.map(e=>e.id);F?.(t[0]??""),D?.()}else q.showToast(({hideToast:e})=>(0,w.jsx)(g.A,{onHide:e,text:O._('Board created!', 'BoardlessPinsBoardPicker.boardCreated.toast', 'Confirmation that a board was created')})),D?.(),e.url&&$(e.url,{replace:!0})}catch(t){let e=O._('Uh oh! Something went wrong.', 'BoardlessPinsBoardPicker.boardCreate.submitErrorDefault', 'Default submit error text when board create fails');if("string"==typeof t)e=t;else{let a=(0,b.A)(t,"message");if(a){let o=(0,b.A)(t,"message_detail");e=o?`${a} ${o}`:a}}U(e)}},ee=(0,w.jsxs)(i.az,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:4,paddingY:5,position:"relative",children:[(0,w.jsx)(i.K0,{accessibilityLabel:O._('Go back', 'BoardlessPinsBoardPicker.modalHeading.arrowBackIconButton', 'Accessibility label for back button'),disabled:d,icon:"chevron-left",iconColor:d?"inverse":"default",onClick:()=>k(n),size:"md"}),(0,w.jsx)(i._Y,{align:"center",size:"600",children:O._('Move to a board', 'BoardlessPinsBoardPicker.save.modalTitle', 'Title of modal for moving pins to a board')}),(0,w.jsx)(i.K0,{accessibilityLabel:O._('Cancel changes', 'BoardlessPinsBoardPicker.modalHeading.cancelIconButton', 'Accessibility label for close modal button'),icon:"close",iconColor:"default",onClick:()=>c(l),size:"md"})]});return a&&t!==s?(0,w.jsx)(u.Ay,{accessibilityModalLabel:O._('Move to a board', 'BoardlessPinsBoardPicker.chooseExistingBoardsModal.accessibilityLabel', 'Accessibility Label for modal to move unorganized Pins to another board'),heading:ee,onDismiss:()=>c(l),size:"md",children:(0,w.jsx)(i.az,{padding:1,children:(0,w.jsx)(v.K$,{boardResource:J,changeBoardModal:!0,onBoardCreate:({title:e=""}={})=>{W(e),k(s)},onItemChosen:e=>{X(e.boardId,e.sectionId),q.showToast(({hideToast:t})=>(0,w.jsx)(g.A,{onHide:t,text:(0,m.vQ)(O._('Moved to {{boardName}}', 'BoardlessPinsBoardPicker.onItemChosen.toast', 'Toast for successfully moving pin to a different board'),{boardName:e.title}).join("")})),c()},paneHeight:644,paneWidth:720,pinId:Q.id,surface:P.A.ORGANIZE_PINS})})}):(0,w.jsx)(u.Ay,{accessibilityModalLabel:O._('Create board', 'BoardlessPinsBoardPicker.createBoard.accessibilityLabel', 'Accessibility Label for modal to create a board'),footer:(0,w.jsx)(i.so,{justifyContent:"end",children:(0,w.jsx)(i.$n,{color:"primary",disabled:0===M.trim().length,onClick:Z,size:"lg",text:O._('Create', 'BoardlessPinsBoardPicker.boardCreate.createButton', 'Button to create new board to move Pins to')})}),heading:(0,w.jsx)(B,{isOnSelectStep:!1,isResUserFirstBoardCreation:R,onClickBackButton:()=>{k(a?l:n)},onDismiss:()=>c(s),selectedPinCount:_.length}),onDismiss:()=>c(s),size:"md",children:(0,w.jsx)(i.az,{height:644,children:(0,w.jsx)(j.A,{boardThumbs:Y,isSecret:K,name:M,onNameChange:({value:e})=>{e.trim()?U(""):U(O._('Don\'t forget to name your board!', ' - ', ' -- ')),W(e)},onVisibilityChange:({checked:e})=>H(e),submitError:L})})})}var E=a(863153);function T({boardlessPinsNormalized:e,fetchMore:t,hasBoards:a,isFirstBoardCreation:p=!1,isResUserFirstBoardCreation:f=!1,onDismiss:b,userId:g,showRepinAnimation:m,onComplete:y,lastSavedPin:A}){(0,r.useEffect)(()=>{(0,o.A)("BoardlessPinsOrganizeModal","/app/common/react/components/profile/ProfileBoards/BoardlessPins/BoardlessPinsOrganizeModal.tsx")},[]);let x=(0,h.A)(),P=(0,r.useRef)(null),[v,j]=(0,r.useState)([]),[I,S]=(0,r.useState)(f?s:n),{logContextEvent:z}=(0,c.o)(),C=(0,E.zy)(),T=(0,r.useMemo)(()=>e&&C?e.reduce((e,t)=>{let a=C[t.id];return e.push(a),e},[]):[],[e,C]);(0,r.useEffect)(()=>{p&&T.length?j(T.reduce((e,t)=>(t&&e.push({id:t.id,image:p?t.images?.["236x"]??null:t.images?.["170x"]??null}),e),[])):f&&A&&j([A])},[T,p,f,A]);let R=T[0]?.board?.id??"",F=(e,t)=>{let a,o=[...v];t?(p?z({event_type:101,view_type:740,view_parameter:4166,element:18124,object_id_str:e.id,aux_data:{selected:!0}}):z({event_type:7301,view_type:631,view_parameter:3906,object_id_str:e.id,aux_data:{selected:!0,pin_id:e.id}}),a=o.concat({id:e.id,image:p?e.images?.["236x"]:e.images?.["170x"]})):(p?z({event_type:101,view_type:740,view_parameter:4166,element:18124,object_id_str:e.id,aux_data:{selected:!1}}):z({event_type:14667,view_type:631,view_parameter:3906,object_id_str:e.id,aux_data:{selected:!1,pin_id:e.id}}),a=o.filter(t=>t.id!==e.id)),j(a)};(0,r.useEffect)(()=>{let e;I===n?e=p?4166:3906:I===l?e=p?4167:3133:I===s&&(e=3992),(I===n||I===l||I===s)&&z({event_type:13,view_type:p?740:631,view_parameter:e})},[I,p,z]);let D=I===n;return(0,w.jsx)(r.Fragment,{children:D?(0,w.jsx)(u.Ay,{accessibilityModalLabel:x._('Organize into a board', 'boardlessPins.organizeModal.accessibilityLabel', 'Accessibility Label for modal to move unorganized Pins to a board'),footer:(0,w.jsx)(i.so,{justifyContent:"end",children:(0,w.jsx)(i.$n,{color:"primary",disabled:0===v.length,onClick:()=>{z({event_type:101,view_type:p?740:631,view_parameter:p?4166:3906,element:p?96:14187}),S(l)},size:"lg",text:x._('Next', 'boardlessPins.organizeModal.nextButton', 'Button to go from selecting Pins step to board creation step')})}),heading:(0,w.jsx)(B,{isFirstBoardCreation:p,isOnSelectStep:D,onClickBackButton:()=>S(n),onDismiss:()=>b(I),selectedPinCount:v.length}),onDismiss:()=>b(I),size:"md",children:(0,w.jsx)(i.az,{ref:P,height:428,children:T&&P&&(0,w.jsx)(_.n,{children:(0,w.jsx)(i.a,{columnWidth:152,gutterWidth:16,items:T,loadItems:t,renderItem:({data:e,itemIdx:t})=>(0,w.jsx)(d.A,{handleTogglePinSelection:F,index:t,isSelected:!!v.filter(t=>t.id===e.id).length,pin:e,surface:"SelectableBoardlessPin",unselectedState:"no-selection"}),scrollContainer:()=>P.current})})})}):(0,w.jsx)(k,{boardlessPinsBoardId:R,currentStep:I,hasBoards:a,isFirstBoardCreation:p,isOnSelectStep:D,isResUserFirstBoardCreation:f,onComplete:y,onDismiss:b,selectedPins:v,showRepinAnimation:m,updateCurrentStep:e=>S(e),userId:g})})}},331195(e,t,a){a.d(t,{A:()=>d});var o=a(335831),r=a(859471),i=a(836737),n=a(453100),l=a(863153),s=a(562615);function d({handleTogglePinSelection:e,index:t,isSelected:a,isDisabled:d,pin:c,surface:u,unselectedState:h="deselected-image-only",disableHover:_}){(0,r.useEffect)(()=>{(0,o.A)("SelectablePin","/app/common/react/components/profile/ProfileBoards/BoardlessPins/SelectablePin.tsx")},[]);let p=(0,l.HR)()(c.id);return(0,s.jsx)(i.Rp,{disabled:d,onTap:()=>{e(c,!a)},rounding:400,children:(0,s.jsx)(n.A,{attributionOption:"hide",blockClickEvents:!0,disableHover:_,parentPinKey:null,pinImageCrop:"none",pinKey:{type:"Legacy",data:p??c},saveButtonOptions:{type:"none"},selectionState:a?"selected-image-only":h,slotIndex:t,surface:u,viewType:3})})}},107573(e,t,a){a.d(t,{A:()=>o});let o=e=>({isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e,isPlanningHub:12===e})},740685(e,t,a){a.d(t,{V:()=>h,Xv:()=>_,qD:()=>d});var o=a(859471),r=a(979638),i=a(767216),n=a(63217),l=a(562615);let{Provider:s,get:d}=(0,i.A)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function u(e,t){let a={action:t.action,location:t.location,matchedPath:t.matchedPath};if(t.location===e.current?.location)return e;switch(t.action){case"POP":if(e.forward.length>0&&c(e.forward[0].location)===c(a.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.action},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,matchedPath:e.current.matchedPath}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,matchedPath:e.current.matchedPath},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.action},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:a,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,matchedPath:e.current.matchedPath}]:e.previous};case"REPLACE":return{...e,current:a};default:return e}}function h(){let{current:e,previous:t}=d();return(0,o.useMemo)(()=>e?t.concat(e):t,[e,t])}function _({children:e}){let t=(0,r.wQ)(),a=(0,r.zy)(),i=(0,n.A)(),[d,c]=(0,o.useReducer)(u,{forward:[],current:{action:t,location:a,matchedPath:i},previous:[]}),h=(0,o.useRef)(a),_=(0,o.useRef)(i);return(h.current!==a||_.current!==i)&&(c({action:t,location:a,matchedPath:i}),h.current=a,_.current=i),(0,l.jsx)(s,{value:d,children:e})}},745732(e,t,a){a.d(t,{A:()=>i});var o=a(491149),r=a(316669);function i(){return function({deviceType:e,site:t}){switch(t){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"commerce-app-latest":case"pintergration":return 10;case"creators":case"create":return 11;case"newsroom":return 13;case"about":return 14;case"pinnacle-internal":return 17;default:return+("phone"===e||"tablet"===e)}}({deviceType:(0,o.Ay)(),site:(0,r.gx)()})}},500569(e,t,a){a.d(t,{A:()=>c,k:()=>d});var o=a(859471),r=a(107573),i=a(376195),n=a(745732),l=a(822400),s=a(32712);let d=(0,o.createContext)(void 0),c=function(){let{advertiser:e}=(0,i._8)(),t=function(){let{isSterlingSite:e}=(0,r.A)((0,n.A)());return(0,o.use)(d)??e}(),a=(0,s.A)(),c=((0,l.K)()?.profiles||[]).find(t=>t?.id===e?.owner_user_id);return t&&c||a}},731455(e,t,a){a.d(t,{A:()=>i,d:()=>o});let{Provider:o,get:r}=(0,a(767216).A)("Header"),i=r},453100(e,t,a){a.d(t,{A:()=>b});var o,r,i=a(335831),n=a(859471);a(825193);var l=a(731634),s=a(657804),d=a(900565),c=a(561720),u=a(321791),h=a(863153),_=a(562615);let p=(void 0!==o||(o=a(740507)).hash&&"51989dcefa62862d9443ed3d243ffdbf"!==o.hash&&console.error("The definition of 'UnifiedPinRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),f=(void 0!==r||(r=a(279891)).hash&&"9c0000d5884ff2a1347c1278f1d95042"!==r.hash&&console.error("The definition of 'UnifiedPinRep_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function b({pinKey:e,parentPinKey:t,...a}){var o,r,b;(0,n.useEffect)(()=>{(0,i.A)("UnifiedPinRep","/app/www/PinRep/UnifiedPinRep.tsx")},[]);let g=(0,d.A)(p,e),m=(0,d.A)(f,t),y=g&&"GraphQL"===(0,s.z)(g),A=(0,h.HR)()(g?.entityId||""),x=(0,u.oW)();return g&&(0,_.jsx)(l.A,{name:"DefaultPinRep",type:"critical",children:(0,_.jsx)(n.Suspense,{children:(0,_.jsx)(c.A,{...a,boardKey:(o=!!y,r=g?.pinnedToBoard||g?.board||null,b=x(A?.pinned_to_board?.id||A?.board?.id||""),o?r??null:b?{type:"Legacy",data:b}:null),parentPinKey:m,pinKey:g})})})}},810593(e,t,a){a.d(t,{A:()=>u});var o=a(335831),r=a(859471),i=a(836737),n=a(562615);function l(e){return`${Math.min(100*e,100)}%`}function s({customCover:e,imgPos:t,imgUrl:a}){let[o,i]=(0,r.useState)({height:0,loaded:!1,width:0}),{height:n,loaded:s,width:d}=o;if((0,r.useEffect)(()=>{let e=new Image;e.onload=()=>{i({height:e.naturalHeight,loaded:!0,width:e.naturalWidth})},e.src=a},[a]),!e||!t||!n||!d)return{loaded:s,position:"center center"};let c=d-t.width,u=n-t.height,h=c>0?l(t.x/c):"center",_=u>0?l(t.y/u):"center";return{loaded:s,position:`${h} ${_}`}}function d(e){let{loaded:t,position:a}=s(e),{imgUrl:o}=e,r={backgroundImage:`url(${o})`,backgroundPosition:a,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,n.jsx)(i.az,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:t&&(0,n.jsx)(i.az,{dangerouslySetInlineStyle:{__style:r},"data-test-id":"cover-image",children:(0,n.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function c(e){let{loaded:t,position:a}=s(e),{alt:o,color:r,imgUrl:l}=e;return(0,n.jsx)(i.n1,{height:"100%",width:"100%",children:t&&(0,n.jsx)("img",{alt:o||"",src:l,style:{backgroundColor:r||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:a,width:"100%"}})})}function u(e){(0,r.useEffect)(()=>{(0,o.A)("CoverImage","/app/www/board/CoverImage.tsx")},[]);let{renderAsImage:t}=e;return t?(0,n.jsx)(c,{...e}):(0,n.jsx)(d,{...e})}},211024(e,t,a){a.d(t,{A:()=>v});var o,r,i=a(335831),n=a(859471);a(669897);var l=a(836737),s=a(900565),d=a(396901),c=a(616635),u=a(528989),h=a(376195),_=a(491149),p=a(849115),f=a(810593),b=a(562615);function g({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:a,privacy:o,size:r=20}){(0,n.useEffect)(()=>{(0,i.A)("PrivacyIcon","/app/www/board/duplo/PrivacyIcon.tsx")},[]);let s=(0,d.A)();return(0,b.jsx)(l.az,{alignItems:"center",color:e,direction:"column",display:"flex",height:r,justifyContent:"center",rounding:"circle",width:r,children:(0,b.jsx)(l.In,{accessibilityLabel:s._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"secret"===o?"lock":"shield",size:a??r/2})})}var m=a(982463),y=a(647846);let A=(void 0!==o||(o=a(606731)).hash&&"0e2c441822700a6145ea7cd142c0425b"!==o.hash&&console.error("The definition of 'DrawerImageGroup_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),x=(void 0!==r||(r=a(720339)).hash&&"35b139c2e951baaa6624b30e45f913ce"!==r.hash&&console.error("The definition of 'DrawerImageGroup_coverPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),P="100%";function v(e){(0,n.useEffect)(()=>{(0,i.A)("DrawerImageGroup","/app/www/board/DrawerImageGroup.tsx")},[]);let t=(0,d.A)(),{boardKey:a,canEdit:o,containerBackgroundColor:r="white",coverPhoto:v,coverPinKey:w,fullSize:B,hideSecretBoardIcon:j,images:I,isActive:S,isHomePageBoards:z,isProtected:C,isSecret:k,layout:E,onEditClick:T,renderAsImage:R,showSensitivityScreen:F}=e,D=(0,_.qJ)(),{isRTL:O,isAuthenticated:N}=(0,h._8)(),K=(0,s.A)(A,a),H=(0,s.A)(x,w),L=(0,n.useRef)(null),U=D&&N,{checkExperiment:M}=(0,u.A)(),[W,V]=(0,n.useState)(!1);(0,n.useEffect)(()=>{S&&U&&K&&!k&&!W&&V(M("ce_dweb_board_preview_share_button").anyEnabled)},[S,U,K,k,W,M]);let J=(0,n.useRef)(void 0);(0,n.useEffect)(()=>{S?J.current&&(clearTimeout(J.current),J.current=void 0):J.current||(J.current=window.setTimeout(()=>{J.current=void 0,S||V(!1)},200))},[S]),(0,n.useEffect)(()=>()=>{J.current&&clearTimeout(J.current)},[]);let G=I[0],$=!v&&I[0]?.name||t._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),q=[,,].fill(0),Q=new l.rk(1),Y=G?.url?(0,b.jsx)(l._V,{alt:$,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:G.url}):(0,b.jsx)(l.az,{color:"secondary",height:"100%",width:"100%"}),X=F?{filter:"blur(20px)"}:{};return(0,b.jsxs)(l.n1,{height:B?"100%":void 0,rounding:400,width:"100%",children:[(0,b.jsxs)(l.so,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,b.jsx)(l.VP,{span:8,children:(0,b.jsx)(l.az,{dangerouslySetInlineStyle:{__style:X},height:B?"100%":void 0,position:"relative",children:(0,b.jsx)(l.az,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:P}},overflow:"hidden",width:"100%",children:(0,b.jsxs)(l.az,{ref:L,bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:z?"#FFDFE9":r,borderStyle:"solid",borderWidth:"1px 0 1px 1px",borderRadius:"16px 0 0 16px"}},"data-test-id":"drawer-image-group-first-image-container",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(C||k)&&!j&&(0,b.jsx)(l.az,{left:!O,margin:2,position:"absolute",right:O,top:!0,zIndex:Q,children:(0,b.jsx)(g,{backgroundColor:"default",iconColor:"default",privacy:k?"secret":"protected",size:U?32:24})}),v?.url?(0,b.jsx)(l.n1,{height:"100%",wash:!0,width:"100%",children:(0,b.jsx)(f.A,{customCover:v.isCustom,height:"square"===E?157:213,imgPos:H?function(e){let{crop:t,size:a}=e||{};if(Array.isArray(t)&&Array.isArray(a))return{x:t[0]||0,y:t[1]||0,width:a[0]||0,height:a[1]||0}}(H):v.position||{width:0,height:0,x:0,y:0},imgUrl:H?.imageUrl??(v.url||""),renderAsImage:R,width:Math.floor(("square"===E?236:320)/3*2)})}):Y]})})})}),(0,b.jsx)(l.VP,{span:4,children:(0,b.jsxs)(l.az,{dangerouslySetInlineStyle:{__style:X},height:"100%",children:[(o||W)&&(0,b.jsxs)(l.az,{bottom:!0,display:W?"flex":void 0,left:O,margin:2,opacity:100*!!S,position:"absolute",right:!O,zIndex:Q,children:[W&&(0,b.jsx)(l.Rp,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation()},children:(0,b.jsx)(l.az,{marginEnd:1,children:(0,b.jsx)(y.A,{boardKey:K,handleCreatePincode:()=>{},iconColor:"default",size:"sm"})})}),o&&(0,b.jsx)(l.Rp,{onTap:({event:e})=>T?.(e),children:(0,b.jsx)(l.K0,{accessibilityLabel:t._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"default",icon:"pencil",iconColor:"default",size:"sm",tabIndex:-1})})]}),q.map((e,t)=>{let a=v?I[t]:I[t+1];return(0,b.jsx)(l.az,{height:B?"50%":void 0,position:"relative",children:(0,b.jsx)(l.az,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:P}},overflow:"hidden",width:"100%",children:(0,b.jsx)(l.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:z?"#FFDFE9":r,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px",borderRadius:0===t?"0 16px 0 0":"0 0 16px 0"}},left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:a?.url?(0,b.jsx)(l.n1,{height:"100%",wash:!0,width:"100%",children:(0,b.jsx)(l._V,{alt:"",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:a.url})}):(0,b.jsx)(l.az,{color:"secondary",height:"100%",width:"100%"})})})},t)})]})}),F&&(0,b.jsx)(l.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,b.jsx)(l._Y,{align:"center",color:"light",size:"400",children:t._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]}),(0,b.jsx)(p.A,{visibility:S?"visible":"none",children:(0,b.jsx)(m.A,{additionalStyles:{backgroundColor:c.E.LEGO_WASH}})})]})}},796070(e,t,a){a.d(t,{A:()=>s});var o=a(335831),r=a(859471),i=a(836737),n=a(396901),l=a(562615);function s(){(0,r.useEffect)(()=>{(0,o.A)("SecretBoardIcon","/app/www/board/SecretBoardIcon.tsx")},[]);let e=(0,n.A)();return(0,l.jsx)(i.In,{accessibilityLabel:e._('Secret board', 'Accessibility label for icon indicating a secret board', 'Accessibility label for icon indicating a secret board'),color:"default",icon:"lock",inline:!0})}},809796(e,t,a){a.d(t,{d:()=>s,n:()=>d});var o=a(859471),r=a(767216),i=a(528989),n=a(562615);let{Provider:l,get:s}=(0,r.A)("HomeFeedTuner");function d({children:e}){let[t,a]=(0,o.useState)(!1),[r,s]=(0,o.useState)(!1),[d,c]=(0,o.useState)(!1),{checkExperiment:u}=(0,i.A)(),h=(0,o.useMemo)(()=>u("mweb_ap_res_user_in_grid_feedback",{dangerouslySkipActivation:!0}).anyEnabled,[u]),_=(0,o.useCallback)(()=>{h&&a(!0)},[h]),p=(0,o.useCallback)(()=>{a(!1)},[]),f=(0,o.useCallback)(()=>{h&&s(!0)},[h]),b=(0,o.useCallback)(()=>{s(!1)},[]),g=(0,o.useCallback)(()=>{c(!0)},[]),m=(0,o.useCallback)(()=>{c(!1)},[]),y=(0,o.useMemo)(()=>({shouldRefreshHomefeed:t,markForRefresh:_,clearRefreshFlag:p,cameFromRefineButton:r,markCameFromRefineButton:f,clearCameFromRefineButton:b,cameFromRefineRecommendationsLink:d,markCameFromRefineRecommendationsLink:g,clearCameFromRefineRecommendationsLink:m}),[t,r,d,_,p,f,b,g,m]);return(0,n.jsx)(l,{value:y,children:e})}},767484(e,t,a){a.d(t,{A:()=>f});var o=a(335831),r=a(859471),i=a(836737),n=a(445797),l=a(396901),s=a(376195),d=a(796070),c=a(810593),u=a(562615);function h({cover:e,height:t,image:a,width:n}){return((0,r.useEffect)(()=>{(0,o.A)("BoardCollageCoverImage","/app/www/profile/ProfileBoardCard/BoardCollageCoverImage.tsx")},[]),e)?(0,u.jsx)(c.A,{customCover:e.isCustom,height:t,imgPos:e.position||{width:0,height:0,x:0,y:0},imgUrl:e.url??"",width:n}):a&&a.url?(0,u.jsx)(i.n1,{height:t,wash:!0,width:n,children:(0,u.jsx)(i._V,{alt:"Board collage cover image",color:"#EFEFEF",fit:"cover",naturalHeight:a.height??1,naturalWidth:a.width??1,src:a.url})}):(0,u.jsx)(i.az,{color:"secondary",height:t,width:n})}function _({image:e,width:t,height:a}){return(0,r.useEffect)(()=>{(0,o.A)("BoardCollageImage","/app/www/profile/ProfileBoardCard/BoardCollageImage.tsx")},[]),e&&e.url?(0,u.jsx)(i.n1,{height:a,wash:!0,width:t,children:(0,u.jsx)(i._V,{alt:"Board collage image",color:"#EFEFEF",fit:"cover",naturalHeight:e.height||1,naturalWidth:e.width||1,src:e.url})}):(0,u.jsx)(i.az,{color:"secondary",height:a,width:t})}var p=a(572234);function f({boardThumbs:e=[],cover:t,editButton:a,isActive:c,isSecret:f,layout:b,sensitivityScreenAuxData:g,showSensitivityScreen:m=!1}){(0,r.useEffect)(()=>{(0,o.A)("BoardCollage","/app/www/profile/ProfileBoardCard/BoardCollage.tsx")},[]);let y=(0,l.A)();(0,n.r)(m?{component:13861,view_type:215,aux_data:g}:null);let{isRTL:A}=(0,s._8)(),{height:x,width:P}=(0,p.P)(b),v=Math.floor(x/2),w=Math.floor(P/3),B=t?void 0:e[0],j=e.slice(+!t);return(0,u.jsxs)(i.n1,{height:x,rounding:400,wash:c,width:P,children:[(0,u.jsx)(i.az,{"aria-label":"Board",color:"default",dangerouslySetInlineStyle:{__style:m?{filter:"blur(20px)"}:{}},display:"flex",height:"100%",justifyContent:"between",width:"100%",children:(0,u.jsxs)(i.az,{"aria-hidden":"true",dangerouslySetInlineStyle:{__style:{gap:"1px"}},display:"flex",height:"100%",justifyContent:"between",width:"100%",children:[(0,u.jsx)(h,{cover:t,height:x,image:B,width:Math.floor(P/3*2)}),(0,u.jsxs)(i.so,{alignItems:"stretch",direction:"column",flex:"none",height:"100%",justifyContent:"between",children:[(0,u.jsx)(_,{height:v,image:j[0],width:w}),(0,u.jsx)(_,{height:v,image:j[1],width:w})]})]})}),f&&(0,u.jsx)(i.az,{alignItems:"center",color:"default",display:"flex",height:32,justifyContent:"center",left:!A,marginStart:2,marginTop:2,position:"absolute",right:A,rounding:"circle",top:!0,width:32,children:(0,u.jsx)(d.A,{})}),c&&a&&(0,u.jsx)(i.az,{alignItems:"center",bottom:!0,color:"default",display:"flex",height:32,justifyContent:"center",left:A,marginBottom:2,marginEnd:2,position:"absolute",right:!A,rounding:"circle",width:32,children:a}),m&&(0,u.jsx)(i.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,u.jsx)(i._Y,{align:"center",color:"light",size:"400",children:y._('This board may contain sensitive content', 'profileBoardCard.boardCollage.heading', 'Warning text on board that may have sensitive content')})})]})}},572234(e,t,a){a.d(t,{P:()=>r,Q:()=>i});let o={square:{width:236,height:157},wide:{width:320,height:213}};function r(e){return o["square"===e?"square":"wide"]}function i(e){return r(e).width+16}},764861(e,t,a){a.d(t,{A:()=>d});var o=a(335831),r=a(859471),i=a(836737),n=a(396901),l=a(767484),s=a(562615);function d({boardThumbs:e,isChangeBoardModal:t,isSecret:a,name:d,onNameChange:c,onVisibilityChange:u,submitError:h}){(0,r.useEffect)(()=>{(0,o.A)("CreateBoard","/app/www/profile/ProfileBoards/BoardlessPins/CreateBoard.tsx")},[]);let _=(0,n.A)();return(0,s.jsx)(i.az,{paddingX:8,children:(0,s.jsxs)(i.so,{direction:"column",gap:{row:0,column:4},children:[e&&!t&&(0,s.jsx)(l.A,{boardThumbs:e,editButton:null,isActive:!1,isSecret:!1,layout:"square"}),(0,s.jsxs)(i.so,{direction:"column",gap:{row:0,column:2},children:[(0,s.jsx)(i.KJ,{size:"100",children:_._('Name', 'boardlessPins.createBoard.boardNameText', 'Title of text field where user inputs name of board')}),(0,s.jsx)(i.A_,{id:"boardName",name:"boardName",onChange:c,placeholder:_._('Add a title, like \u201CDIY\u201D or \u201CRecipes\u201D', 'boardlessPins.createBoard.boardNameTextPlaceholder', 'Placeholder of text field where user inputs name of board'),size:"lg",value:d})]}),(0,s.jsxs)(i.so,{direction:"column",gap:{row:0,column:2},children:[(0,s.jsx)(i.KJ,{size:"100",children:_._('Visibility', 'boardlessPins.createBoard.visibilityTitle', 'Title of visibility checkbox')}),(0,s.jsxs)(i.so,{gap:{row:4,column:0},children:[(0,s.jsx)(i.Sc,{checked:a,id:"boardVisibility",name:"boardVisibility",onChange:u}),(0,s.jsxs)(i.so,{direction:"column",gap:{row:0,column:1},children:[(0,s.jsx)(i.KJ,{children:_._('Keep this board secret', 'boardlessPins.createBoard.visibilityCheckbox', 'Caption for board settings checkbox to set visibility')}),(0,s.jsx)(i.KJ,{color:"subtle",children:_._('So only you and collaborators can see it.', 'boardlessPins.createBoard.visibilityCheckboxInfo', 'Description of secret setting on board')})]})]})]}),h&&(0,s.jsx)(i.KJ,{color:"error",children:h})]})})}},120379(e,t,a){a.d(t,{A:()=>r});var o=a(748530);function r(e,t){return a=>a((0,o.J)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}},464623(e,t,a){a.d(t,{A:()=>r});var o=a(748530);function r(e,t,a){return(0,o.J)("BoardResource",{options:{board_id:e,field_set_key:t,...a?{orbac_subject_id:a}:{}}})}},895850(e,t,a){a.d(t,{A:()=>p,B:()=>_});var o=a(321571),r=a(464623),i=a(120379),n=a(310206),l=a(110431),s=a(831064),d=a(972955);let c=e=>t=>{d.A.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))},u=e=>(0,n.eO)(e.sectionId?s.A.BOARD_SECTION_PINS:s.A.BOARDFEED,e.sectionId||e.boardId);function h(e,t){let{source:a,target:o}=e;o.boardId!==a.boardId?(t((0,r.A)(a.boardId,"pin_count")),t((0,r.A)(o.boardId,"pin_count"))):a.sectionId&&o.sectionId||t((0,r.A)(o.boardId,"pin_count")),a.sectionId&&t((0,i.A)(a.sectionId)),o.sectionId&&t((0,i.A)(o.sectionId))}function _(e){return t=>{let{selectedPinIds:a,source:o,target:r}=e;t((0,n.J6)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?s.A.BOARD_SECTION_PINS:s.A.BOARDFEED,itemIds:a,itemType:"pin"})),t((0,n.ZT)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?s.A.BOARD_SECTION_PINS:s.A.BOARDFEED,itemIds:a,itemType:"pin"})),a.forEach(e=>{t((0,l.PD)({pinId:e,boardId:r.boardId,sectionId:r.sectionId||void 0,title:r.name||""}))}),h(e,t)}}function p(e,t){return a=>{let{selectedPinIds:r,target:i}=e;return r.forEach(e=>{a((0,l.PD)({pinId:e,boardId:i.boardId,sectionId:i.sectionId||void 0,title:i.name||""}))}),(function(e,t,a){let{inverseSelection:r,selectedPinIds:i,source:l,target:d,orbacSubjectId:h}=e;if(l.boardId===d.boardId&&(l.sectionId||null)===(d.sectionId||null))return Promise.reject();if(r){let e={board_id:l.boardId,new_board_id:d.boardId,old_section_id:l.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:i,orbac_subject_id:h};return o.A.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(u(l)),t(u(d))])).catch(c(a))}{let e=(e,a)=>{t((0,n.J6)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?s.A.BOARD_SECTION_PINS:s.A.BOARDFEED,itemIds:i,itemType:"pin"})),t((0,n.ZT)({feedId:a.sectionId||a.boardId,feedType:a.sectionId?s.A.BOARD_SECTION_PINS:s.A.BOARDFEED,itemIds:i,itemType:"pin"}))};if(e(l,d),d.boardId===l.boardId)if(d.sectionId){let t={section_id:d.sectionId,pins:i,orbac_subject_id:h};return o.A.create("BoardSectionEditResource",t).callUpdate({showError:!1}).catch(t=>{e(d,l),c(a)(t)})}else{let t={section_id:l.sectionId,pins:i,orbac_subject_id:h};return o.A.create("BoardSectionPinsResource",t).callDelete({showError:!1}).catch(t=>{e(d,l),c(a)(t)})}{let t={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:i,orbac_subject_id:h};return o.A.create("BulkEditResource",t).callUpdate({showError:!1}).catch(t=>{e(d,l),c(a)(t)})}}})(e,a,t).then(()=>h(e,a))}}},110431(e,t,a){function o(e){return{type:"PIN_BETTER_SAVE",payload:e}}function r(e){return{type:"PIN_BETTER_SAVE_CUTOUT",payload:e}}function i(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function n(e){return{type:"PIN_BETTER_UNSAVE_CUTOUT",payload:e}}function l(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function s(e){return{type:"PIN_BETTER_SELECT_BOARD_CUTOUT",payload:e}}function d(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}a.d(t,{PD:()=>l,UN:()=>o,aC:()=>d,dD:()=>s,jI:()=>i,ne:()=>n,uW:()=>r})},580496(e,t,a){a.d(t,{A:()=>f});var o,r=a(335831),i=a(859471);a(825193);var n=a(836737),l=a(268989),s=a(900565),d=a(396901),c=a(89401),u=a(792534),h=a(562615);let _=(void 0!==o||(o=a(230733)).hash&&"f459445ee8d1ea0db022e490ef5a2e80"!==o.hash&&console.error("The definition of 'SendBoardFlyout_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);class p extends i.Component{constructor(...e){var t,a,o;super(...e),a={flyoutOpen:!1},(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?o:o+"")in this?Object.defineProperty(this,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[t]=a}render(){let{board:e,bgColor:t="default",children:a,iconColor:o="subtle",onCreatePincode:r,showTooltip:l,size:s="lg"}=this.props,{flyoutOpen:d}=this.state,_={description:e?.description,id:e?.entityId??"",imageUrl:e?.imageCoverUrl,name:e?.name??void 0,type:"board",url:e?.url??void 0},p=e=>{let{requireAuth:t}=this.props;if(t){e&&e.preventDefault(),t();return}this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))},f=a&&a({active:d,onClick:()=>p()})||(0,h.jsx)(n.K0,{ref:this.props.sendBoardButtonRef,accessibilityLabel:this.props.i18n._('Send Board', 'Accessible label for button to send board', 'Accessible label for button to send board'),bgColor:t,dataTestId:"send-board-button-icon",icon:"share",iconColor:o,onClick:({event:e})=>p(e),selected:d,size:s,tooltip:l?{text:this.props.i18n._('Share board', 'sendBoardFlyout.button.tooltip', 'Tooltip for button to share board')}:void 0});return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(n.az,{ref:e=>{this.anchor=e},children:f}),this.state.flyoutOpen&&(0,h.jsx)(n.Wd,{zIndex:u.u$,children:(0,h.jsx)(n.AM,{anchor:this.anchor,idealDirection:"down",onDismiss:()=>p(),positionRelativeToAnchor:!1,size:"flexible",children:(0,h.jsx)(c.A,{component:13216,onCreatePincodeClick:r?()=>{p(),r()}:void 0,onHide:()=>p(),sendShareSurface:5,sendType:"board",sharedObject:_,viewType:5})})})]})}componentDidMount(){(0,r.A)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")}}let f=e=>{(0,i.useEffect)(()=>{(0,r.A)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")},[]);let t=(0,d.A)(),a=(0,l.A)(),o=(0,s.A)(_,e.boardKey);return(0,h.jsx)(p,{...e,board:o,i18n:t,requireAuth:a,sendBoardButtonRef:e.sendBoardButtonRef})}},647846(e,t,a){a.d(t,{A:()=>g});var o,r=a(335831),i=a(859471);a(669897);var n=a(836737),l=a(129625),s=a(268989),d=a(746743),c=a(900565),u=a(396901),h=a(376195),_=a(580496),p=a(154537),f=a(562615);let b=(void 0!==o||(o=a(694602)).hash&&"8d95294efe15498023c69669c6a41e71"!==o.hash&&console.error("The definition of 'SendBoardButton_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function g({boardKey:e,color:t,handleCreatePincode:a,iconColor:o,hasBoardToolStyles:g,hasShadow:m,showTooltip:y,size:A="lg"}){(0,i.useEffect)(()=>{(0,r.A)("SendBoardButton","/app/www/save/board/Headers/BoardHeader/SendBoardButton.tsx")},[]);let{logContextEvent:x}=(0,l.o)(),P=(0,u.A)(),v=(0,s.A)(),{userAgent:{platform:w}}=(0,h._8)(),B="android"===w,j=(0,i.useRef)(null),I=(0,c.A)(b,e),[S,z]=(0,i.useState)(!1),C=S?void 0:t,k=S?{__style:{backgroundColor:"#e2e2e2"}}:void 0;return(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(_.A,{boardKey:I,iconColor:o,onCreatePincode:a,onOpen:()=>{v?v():(0,p.A)(x)},sendBoardButtonRef:j,showTooltip:y,size:A,children:g?({active:e,onClick:t})=>(0,f.jsx)(n.Rp,{dataTestId:"share-board-button",onTap:t,rounding:500,children:(0,f.jsxs)(n.az,{alignItems:"center",color:e?"selected":C,dangerouslySetInlineStyle:k,display:"flex",elevation:m?"shadowFloating":void 0,height:64,justifyContent:"center",onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1),paddingX:4,rounding:500,children:[(0,f.jsx)(n.az,{marginEnd:2,children:(0,f.jsx)(n.In,{accessibilityLabel:P._('Share', 'Board.ShareButton', 'Accessible label for button to share a board'),color:e?"light":"default",icon:B?"share-android":"share",size:20})}),(0,f.jsx)(n.Wu,{color:e?"inverse":"default",children:P._('Share', 'Board.ShareButton', 'Label for button to share a board')})]})}):void 0}),(0,f.jsx)(d.X$,{anchors:{3018:j.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}},154537(e,t,a){a.d(t,{A:()=>o});function o(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}},913931(e,t,a){a.d(t,{A:()=>c});var o=a(106386),r=a(581296),i=a(321571),n=a(19873),l=a(405840),s=a(748530),d=a(13324);function c(){let e=(0,o.wA)(),t=(0,o.d4)(e=>e.resources);return async function({boardCreateOptions:a,deprecatedSchemaForNormalization:o}){let c=await i.A.create("BoardResource",a).callCreate(),u=c.resource_response.data,h=o?(0,r.S8)(u,o):void 0;e((0,d.md)("BoardResource",a,c,h)),e((0,n.$O)({event_type:20})),u.owner?.id&&e((0,s.O)("UserResource",{options:{user_id:u.owner.id,field_set_key:"save_behavior"}}));let _=t.BoardsResource||{},p=t.BoardsFeedResource||{};return Object.keys(_).forEach(t=>{(0,l.J)(t).username===u.owner?.username&&e((0,d.Q5)("BoardsResource",t))}),Object.keys(p).forEach(t=>{(0,l.J)(t).username===u.owner?.username&&e((0,d.Q5)("BoardsFeedResource",t))}),u}}},63217(e,t,a){a.d(t,{A:()=>r});var o=a(979638);function r(){let e=(0,o.g)(),t=(0,o.zy)(),a=Object.entries(e).reduce((e,[t,a])=>(a&&(e[a]=t),e),{});return t.pathname.split("/").map(e=>a[e]?`:${a[e]}`:e).join("/")}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/931-a371cfb3214c1840.mjs.map