(self.modernJsonp=self.modernJsonp||[]).push([["69800"],{282624(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AnimatedVisualSearchButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useDuploGetStelaUrlWithLargestStelaObject_pin"},{args:null,kind:"FragmentSpread",name:"ButtonWithAnimationWrapper_pin"}],type:"Pin",abstractKey:null};l.hash="cf81c765c2918cf13091a1ef301f4499";let i=l},307528(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ButtonWithAnimationWrapper_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};l.hash="a36cbee90f76e1bfd0e6c4b9b0c5ecd3";let i=l},448253(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionMediaAttribution_pin",selections:[{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="91cf1b742f42f2f57e9e89991ad2eebd";let i=l},744309(e,n,a){var l;a.r(n),a.d(n,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionPhotoAttribution_pin",selections:[{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="5dff28be2de95106e382c42d78ad1833";let t=i},229648(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionTextContent_pin",selections:[{args:null,kind:"FragmentSpread",name:"CollapsibleDescription_pin"}],type:"Pin",abstractKey:null};l.hash="f37e1b73e206db5c55cd60f9da135e1e";let i=l},980455(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionText_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupDescriptionTextContent_pin"}],type:"Pin",abstractKey:null};l.hash="b4f48330d3cfef3a6198d0d824c5d6d5";let i=l},672412(e,n,a){var l,i;a.r(n),a.d(n,{default:()=>r});let t={argumentDefinitions:[{kind:"RootArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupDescription_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null}],storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinAdditionalNote",storageKey:null},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"PinTranslations",kind:"LinkedField",name:"translations",plural:!1,selections:[l],storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"unauthOnPageDescription",storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionPhotoAttribution_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionMediaAttribution_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionText_pin"}],type:"Pin",abstractKey:null};t.hash="27b9d263a6be0490f4e228b3a3144e28";let r=t},986353(e,n,a){var l;a.r(n),a.d(n,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetailsBasicsLayout_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:l=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="66ce59eb9fa2a37bf75972a3f30769af";let t=i},971302(e,n,a){var l;a.r(n),a.d(n,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetailsSourceUser_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:l,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:l,storageKey:null}],type:"Pin",abstractKey:null};i.hash="3208f75a293572ec8af155f2a06cd2ef";let t=i},146904(e,n,a){var l,i,t,r,s,o,d,u;a.r(n),a.d(n,{default:()=>p});let c=(l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},t=[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],r=[l],{argumentDefinitions:[{kind:"RootArgument",name:"isAuth"},{kind:"RootArgument",name:"isDesktop"},{defaultValue:null,kind:"LocalArgument",name:"isUnauth"}],kind:"Fragment",metadata:null,name:"CloseupDetails_pin",selections:[l,{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateDisclosure",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipsToUserCountry",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[s={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPricingBaseUnits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPricingUnitType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:t,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[s,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[u,o,d],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupUnifiedAttribution",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttribution_pin"},{args:null,kind:"FragmentSpread",name:"VaseFullBleedModal_pin"},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProductDescriptionDropdown_pin"}]},{args:null,kind:"FragmentSpread",name:"DuploShoppingModule_pin"},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"},{args:null,kind:"FragmentSpread",name:"SavedInfo_pin"},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"isUnauth"}],kind:"FragmentSpread",name:"SeeMoreButton_pin"},{args:null,kind:"FragmentSpread",name:"useIsGroupBoard_pin"},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CommentThreadContainer_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"PinFeedbackButton_pin"},{args:null,kind:"FragmentSpread",name:"UnifiedCommentModule_pin"}]},{args:null,kind:"FragmentSpread",name:"CloseupDescription_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDetailsBasicsLayout_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipeRating_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipe_pin"},{condition:"isAuth",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"ProductDetails_pin"}]},{args:null,kind:"FragmentSpread",name:"PinActionBarVisitButton_pin"},{args:null,kind:"FragmentSpread",name:"UserRep_pin"},{args:null,kind:"FragmentSpread",name:"useReactionCountsFragment_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDetailsSourceUser_pin"},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"},{args:null,kind:"FragmentSpread",name:"ReactionAggregation_pin"},{args:null,kind:"FragmentSpread",name:"CloseupPinLinkCredits_pin"},{args:null,kind:"FragmentSpread",name:"UnauthAmazonModule_pin"},{args:null,kind:"FragmentSpread",name:"UnauthIndexExchangeContainer_pin"}],type:"Pin",abstractKey:null});c.hash="d9cbb483f05a7aee13df60d7ab0a18d2";let p=c},96842(e,n,a){var l;a.r(n),a.d(n,{default:()=>t});let i={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isUnauth"}],kind:"Fragment",metadata:null,name:"CloseupFullDetail_pin",selections:[{args:null,kind:"FragmentSpread",name:"ImageViewer_pin"},{args:l=[{kind:"Variable",name:"isUnauth",variableName:"isUnauth"}],kind:"FragmentSpread",name:"PinActionBar_pin"},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"isUnauth"}],kind:"FragmentSpread",name:"PinContextMenuButton_pin"},{args:null,kind:"FragmentSpread",name:"CloseupModals_pin"},{args:l,kind:"FragmentSpread",name:"CloseupPinActionBar_pin"},{args:l,kind:"FragmentSpread",name:"UnauthCloseupRelatedPinsFeed_main_pin"},{args:null,kind:"FragmentSpread",name:"UnauthCloseupRelatedPinsWithLazyLoad_pin"},{args:null,kind:"FragmentSpread",name:"UnauthCloseupRelatedPinsShell_pin"},{args:null,kind:"FragmentSpread",name:"IdeaPinV1DeprecationModal_pin"}],type:"Pin",abstractKey:null};i.hash="899448dfe19b40f60f5bb50efe5d0aef";let t=i},616638(e,n,a){var l,i,t,r,s,o,d;a.r(n),a.d(n,{default:()=>c});let u=(i=[l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[{kind:"RootArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupInner_pin",selections:[l,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:i,storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isInstagramApi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isV1IdeaPin",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t],storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[r,d={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:o=[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"websiteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDirectToSiteAllowed",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[l,t],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainVerified",storageKey:null},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[s,{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:o,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:o,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thirdPartyPinOwner",plural:!1,selections:o,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"topInterest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[t],storageKey:'images(spec:"236x")'},{args:null,kind:"FragmentSpread",name:"CloseupMainPin_pin"},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"useGetFeedbackType_pin"},{args:null,kind:"FragmentSpread",name:"ImageViewer_pin"},{args:null,kind:"FragmentSpread",name:"UnauthMainPinLearningUpsell_pin"},{args:null,kind:"FragmentSpread",name:"BreadcrumbsWithSearch_pin"},{args:null,kind:"FragmentSpread",name:"useCommerceData_pin"},{args:null,kind:"FragmentSpread",name:"CloseupPageViewAndTimeSpent_pin"},{args:null,kind:"FragmentSpread",name:"CloseupPageContainer_pin"},{args:null,kind:"FragmentSpread",name:"useClientTrackingParams_pin"},{args:null,kind:"FragmentSpread",name:"ReturnToSurfaceButton_pin"},{args:null,kind:"FragmentSpread",name:"CloseupRelatedModulesFeed_pin"},{kind:"ClientExtension",selections:[{alias:"nodeId",args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null});u.hash="d24acb4e7206929119cac70bbcaacdad";let c=u},280255(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainIframe_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:"images_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"736x")'}],type:"Pin",abstractKey:null};l.hash="4c04fc9afb579bae0b83adb0bc6d3959";let i=l},809395(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[{kind:"RootArgument",name:"isAuth"},{defaultValue:null,kind:"LocalArgument",name:"isUnauth"}],kind:"Fragment",metadata:null,name:"CloseupMainPinDetail_pin",selections:[{args:null,kind:"FragmentSpread",name:"ProductCarousel_pin"},{args:null,kind:"FragmentSpread",name:"CloseupMainIframe_pin"},{args:[{kind:"Variable",name:"isUnauth",variableName:"isUnauth"}],kind:"FragmentSpread",name:"CloseupDetails_pin"},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"LeafSnippet_pin"}]}],type:"Pin",abstractKey:null};l.hash="6eb3aa6fbf1cc1f0828a3a00fad8d439";let i=l},485175(e,n,a){var l,i,t;a.r(n),a.d(n,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPinImage_pin",selections:[l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"connectionType",storageKey:null}],storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"images_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{alias:null,args:null,concreteType:"Shuffle",kind:"LinkedField",name:"shuffle",plural:!1,selections:[l,i],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"UnauthCloseupCarousel_pin"},{args:null,kind:"FragmentSpread",name:"MobileStickyFooter_pin"},{args:null,kind:"FragmentSpread",name:"UnauthPinRightClickMenu_pin"}],type:"Pin",abstractKey:null};r.hash="4d851656dcda7ef595b8aeeb9700c6fe";let s=r},76819(e,n,a){var l;a.r(n),a.d(n,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPinImpression_pin",selections:[l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[l],storageKey:null}],type:"Pin",abstractKey:null};i.hash="ef89ffee0f6092e6cf575f4fe7263737";let t=i},815262(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupMainPinStoryPin_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupStoryPinBlock_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinCloseup_pin"},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinCloseupBodyOnMobile_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinCloseupBodyOnDesktop_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinCloseupDetailsOnDesktop_pin"}]},{args:null,kind:"FragmentSpread",name:"CloseupMainPinImpression_pin"},{args:null,kind:"FragmentSpread",name:"SeoDebugModulePin_pin"}],type:"Pin",abstractKey:null};l.hash="7f55d29866a7f8059aae87f5e59a6f91";let i=l},13874(e,n,a){var l,i;a.r(n),a.d(n,{default:()=>r});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPin_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"additionalImageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupMainPinImage_pin"},{args:null,kind:"FragmentSpread",name:"CloseupVideo_pin"},{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"},{args:null,kind:"FragmentSpread",name:"SeoDebugModulePin_pin"},{args:null,kind:"FragmentSpread",name:"CloseupMainPinImpression_pin"}],type:"Pin",abstractKey:null};t.hash="b41932bdb5a1b44615723cf185b74487";let r=t},686352(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupPageContainer_pin",selections:[{args:null,kind:"FragmentSpread",name:"UnauthContextMenuController_pin"}],type:"Pin",abstractKey:null};l.hash="fe3ae48c7e040b2bea5919c1aeefabdf";let i=l},405228(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupPageViewAndTimeSpent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],type:"Pin",abstractKey:null};l.hash="1bd2dcd45fc7cf6e52340049a7e62320";let i=l},927229(e,n,a){var l,i;a.r(n),a.d(n,{default:()=>r});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupPage_pin",selections:[{alias:null,args:null,concreteType:"AdData",kind:"LinkedField",name:"adData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"excludeFromGridRepTests",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"videoUrls",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"Closeup_pin"}],type:"Pin",abstractKey:null};t.hash="2294633b98297dea114693854730f751";let r=t},463292(e,n,a){var l;a.r(n),a.d(n,{default:()=>t});let i={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isUnauth"}],kind:"Fragment",metadata:null,name:"CloseupPinActionBar_pin",selections:[l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},l],storageKey:null},{args:null,kind:"FragmentSpread",name:"SaveButtonContainer_pin"},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"isUnauth"}],kind:"FragmentSpread",name:"PinContextMenuButton_pin"},{args:null,kind:"FragmentSpread",name:"AnimatedSendButton_pin"},{args:null,kind:"FragmentSpread",name:"CommentThreadModalEntryPoint_pin"},{args:null,kind:"FragmentSpread",name:"ReactionPicker_pin"}],type:"Pin",abstractKey:null};i.hash="d62177bf0dd7de8626743c5eec7e2b49";let t=i},500125(e,n,a){var l;a.r(n),a.d(n,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupPinLinkCredits_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:l=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:l,storageKey:null}],type:"Pin",abstractKey:null};i.hash="b6ff0bacc7b201a7809b5103754b885e";let t=i},260418(e,n,a){var l,i,t;a.r(n),a.d(n,{default:()=>s});let r=(l={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},t=[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],{argumentDefinitions:[{kind:"RootArgument",name:"isCloseupRelatedModulesFeedQuery"}],kind:"Fragment",metadata:null,name:"CloseupPreview_pin",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null}],storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null});r.hash="b6897cfdabbc156688a485e1ccdf8c7e";let s=r},870410(e,n,a){var l,i,t,r,s,o,d,u,c,p,g,m,h,_,y,f,k,S,b,x,P,A,v,w,T,I,E,F,C,j,K,R,L,D,z,O,B,N,M,U,V,G,H,W,Y,$,J,X,q,Q,Z,ee,en,ea,el,ei,et,er,es,eo,ed,eu,ec,ep,eg,em,eh,e_,ey,ef,ek,eS,eb,ex;a.r(n),a.d(n,{default:()=>eA});let eP=(l={defaultValue:null,kind:"LocalArgument",name:"isAuth"},i={defaultValue:!1,kind:"LocalArgument",name:"isCloseupRelatedModulesFeedQuery"},t={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},r={defaultValue:null,kind:"LocalArgument",name:"pinId"},s=[{kind:"Variable",name:"pin",variableName:"pinId"}],o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},f=[d={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},m={alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[u={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"xCoord",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"yCoord",storageKey:null}],storageKey:null},h,{alias:null,args:null,concreteType:"TextStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},{alias:null,args:null,concreteType:"Font",kind:"LinkedField",name:"font",plural:!1,selections:[_,{alias:null,args:null,kind:"ScalarField",name:"defaultSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"letterSpacing",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lineHeight",storageKey:null},y],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fontSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hexColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"highlightColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verticalAlignment",storageKey:null}],storageKey:null}],b={alias:"images_750x",args:k=[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:S=[u,y,c],storageKey:'images(spec:"750x")'},P={alias:"images_orig",args:x=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:S,storageKey:'images(spec:"orig")'},A=[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],I=[v={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},u,w={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},y,c,T={alias:null,args:null,kind:"ScalarField",name:"captionsUrls",storageKey:null}],E=[w,y,c,u,v,T],F={alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[u,c,p,g,{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},M={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},H={alias:"images_236x",args:V=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:G=[y],storageKey:'images(spec:"236x")'},Y={kind:"InlineFragment",selections:W=[h,d],type:"TextBlock",abstractKey:null},$={alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},J=[o,z],q={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},Q=[{kind:"Literal",name:"spec",value:"1200x"}],Z={alias:null,args:null,kind:"ScalarField",name:"shouldMute",storageKey:null},ee={alias:null,args:null,concreteType:"MusicAttribute",kind:"LinkedField",name:"musicAttributions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isrc",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailImageUrl",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},en={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},el={kind:"InlineFragment",selections:ea=[h],type:"LinkBlock",abstractKey:null},ei={kind:"InlineFragment",selections:ea,type:"StoryPinImageBlock",abstractKey:null},et={kind:"InlineFragment",selections:ea,type:"StoryPinVideoBlock",abstractKey:null},er={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},es={alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},eo={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},ed={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},eu={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},ec={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},ep={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},eg=[O,z],em={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},eh={alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},e_={alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},ey={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},ef={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},ek={alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},eS={alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null},eb={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},ex=[o],{fragment:{argumentDefinitions:[l,i,t,r],kind:"Fragment",metadata:null,name:"CloseupStoryPinQuery",selections:[{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[o,{args:[{kind:"Variable",name:"isDesktop",variableName:"isDesktop"}],kind:"FragmentSpread",name:"CloseupMainPinStoryPin_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,l,t,i],kind:"Operation",name:"CloseupStoryPinQuery",selections:[{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[o,{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"pageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"storyPageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[o,{kind:"InlineFragment",selections:f,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:f,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,m,b,h,P],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,m,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:null,args:A,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:I,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"v_hlsv4_video_list",args:[{kind:"Literal",name:"version",value:"V_HLSV4"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:I,storageKey:null}],storageKey:'videoList(version:"V_HLSV4")'},{alias:null,args:null,kind:"ScalarField",name:"seoViewCount",storageKey:null},{alias:"videoListMobile",args:A,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:E,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"videoListEXP3",args:[{kind:"Literal",name:"version",value:"V_EXP3"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:E,storageKey:null}],storageKey:'videoList(version:"V_EXP3")'},{alias:"videoListEXP4",args:[{kind:"Literal",name:"version",value:"V_EXP4"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:E,storageKey:null}],storageKey:'videoList(version:"V_EXP4")'},{alias:"videoListEXP5",args:[{kind:"Literal",name:"version",value:"V_EXP5"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:E,storageKey:null}],storageKey:'videoList(version:"V_EXP5")'},{alias:"videoListEXP6",args:[{kind:"Literal",name:"version",value:"V_EXP6"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:E,storageKey:null}],storageKey:'videoList(version:"V_EXP6")'},{alias:"videoListEXP7",args:[{kind:"Literal",name:"version",value:"V_EXP7"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:E,storageKey:null}],storageKey:'videoList(version:"V_EXP7")'},{alias:"videoList720P",args:[{kind:"Literal",name:"version",value:"V_720P"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:E,storageKey:null}],storageKey:'videoList(version:"V_720P")'}],storageKey:null},h],type:"StoryPinVideoBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,F,C,j,K,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[R,L,D,z],storageKey:null}],type:"StoryPinMentionStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,{alias:null,args:null,kind:"ScalarField",name:"interactiveStickerType",storageKey:null},F,C,{alias:null,args:null,kind:"ScalarField",name:"errorMessage",storageKey:null},j,{alias:null,args:null,kind:"ScalarField",name:"isValid",storageKey:null},K,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"stickerData",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null}],type:"GenericInteractiveStickerStoryBoardData",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"questionCommentId",storageKey:null}],type:"GenericInteractiveStickerStoryQuestionData",abstractKey:null}],storageKey:null}],type:"StoryPinGenericInteractiveStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,F,C,j,K,{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"pin",plural:!1,selections:[O,B,N,M,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[U,R,L,z],storageKey:null},H,z],storageKey:null}],type:"StoryPinVirtualTryOnMakeupStickerBlock",abstractKey:null},Y,{kind:"InlineFragment",selections:[h,d,{alias:null,args:null,kind:"ScalarField",name:"srcUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canonicalUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"normalizedUrl",storageKey:null}],type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,_,$,{alias:null,args:null,kind:"ScalarField",name:"unit",storageKey:null}],type:"IngredientBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,_,$],type:"SupplyBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:J,storageKey:null},{alias:"musicBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[o,{kind:"InlineFragment",selections:[d,{alias:null,args:null,concreteType:"Audio",kind:"LinkedField",name:"audio",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artistName",storageKey:null},X,z],storageKey:null}],type:"StoryPinMusicBlock",abstractKey:null}],storageKey:null},{alias:"videoBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[o,{kind:"InlineFragment",selections:[d,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:null,args:A,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[v,T],storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},q,{alias:null,args:null,kind:"ScalarField",name:"dominantColorAdjusted",storageKey:null},b,{alias:"images_236x",args:V,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:S,storageKey:'images(spec:"236x")'},{alias:"images_1200x",args:Q,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:S,storageKey:'images(spec:"1200x")'},P,{alias:"imageAdjustedSpec_750x",args:k,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:S,storageKey:'imagesAdjusted(spec:"750x")'},{alias:"imageAdjustedSpec_236x",args:V,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:S,storageKey:'imagesAdjusted(spec:"236x")'},{alias:"imageAdjustedSpec_1200x",args:Q,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:S,storageKey:'imagesAdjusted(spec:"1200x")'},{alias:"imageAdjustedSpec_orig",args:x,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:S,storageKey:'imagesAdjusted(spec:"orig")'},Z,{alias:null,args:null,kind:"ScalarField",name:"imageSignatureAdjusted",storageKey:null},{alias:null,args:null,concreteType:"PageStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[c,u,w,y],storageKey:null}],storageKey:null}],storageKey:null},ee],storageKey:null},z,{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canvasAspectRatio",storageKey:null},{alias:null,args:null,concreteType:"StoryPinRecipeMetadataField",kind:"LinkedField",name:"recipeData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cookingTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prepTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"servingSize",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[o,{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[en,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[o,{kind:"InlineFragment",selections:[en,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[o,{kind:"InlineFragment",selections:ea,type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:ea,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:ea,type:"HeadingBlock",abstractKey:null},el,ei,et],storageKey:null}],type:"StoryPinListBlock",abstractKey:null},Y,{kind:"InlineFragment",selections:W,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:W,type:"ParagraphBlock",abstractKey:null},el,ei,et,{kind:"InlineFragment",selections:[d],type:"IngredientBlock",abstractKey:null}],storageKey:null},d],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},O],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoAltText",storageKey:null},O,{alias:"images_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:G,storageKey:'images(spec:"736x")'},B,N,M,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[U,R,L,z,er,es,O,eo,ed,eu,D,ec,ep],storageKey:null},H,{alias:null,args:null,kind:"ScalarField",name:"affiliateDisclosure",storageKey:null},q,X,{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:eg,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[O,R,L,z],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[er,es,O,eo,R,ed,eu,D,ec,L,ep,z],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},em,eh,{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},e_,{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[eu,z,L],storageKey:null},z],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:J,storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:"images_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:G,storageKey:'images(spec:"60x60")'},{alias:"images_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:G,storageKey:'images(spec:"136x136")'},{alias:"images_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:G,storageKey:'images(spec:"170x")'},{alias:"images_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:G,storageKey:'images(spec:"474x")'},{alias:"images_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:G,storageKey:'images(spec:"564x")'},{alias:"images_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:G,storageKey:'images(spec:"600x315")'},{alias:"images_orig",args:x,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:G,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"descriptionLinks",plural:!0,selections:[ey,ef,em,ek,eS],storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[ey,ef,ek,eS],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupUnifiedAttribution",plural:!1,selections:[O,eu,{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},L,ec,er,z,eb,R,ep],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[L,eu,z],storageKey:null},ee,Z,{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:eg,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"digitalMediaSourceType",storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafeForComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seeMoreUserFeedback",storageKey:null},ed,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:eg,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"canonicalPin",plural:!1,selections:eg,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoCanonicalDomain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoCanonicalUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},z,{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkUtmApplicableAndReplaced",storageKey:null}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:ex,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:"images_750x",args:k,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:ex,storageKey:'images(spec:"750x")'},{alias:"images_236x",args:V,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:ex,storageKey:'images(spec:"236x")'},{alias:"images_1200x",args:Q,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:ex,storageKey:'images(spec:"1200x")'},{alias:"images_orig",args:x,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:ex,storageKey:'images(spec:"orig")'}],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:ex,storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[eb],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[o,_],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:ex,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"serves",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},_,{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[e_,{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[$,_],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:ex,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[O],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUserNote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unauthOnPageTitle",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[O,L,z],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:ex,storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null}]},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"PinTranslations",kind:"LinkedField",name:"translations",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null},eh],storageKey:null}]}]}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"edaf77f9313edbaa93a08427d5980ca7749c22ae27b98de6ebd2a8cb2ea6419f",metadata:{},name:"CloseupStoryPinQuery",operationKind:"query",text:null}});eP.hash="45826fa01d0796145bfe5f51c4675bcd";let eA=eP},141688(e,n,a){var l;a.r(n),a.d(n,{default:()=>t});let i={argumentDefinitions:[{kind:"RootArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupTitle_pin",selections:[l={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[l],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"PinTranslations",kind:"LinkedField",name:"translations",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unauthOnPageTitle",storageKey:null}],type:"Pin",abstractKey:null};i.hash="5a2bf83c3b936ae5d462a5ccf3103923";let t=i},480734(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Closeup_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupInner_pin"}],type:"Pin",abstractKey:null};l.hash="0873afe02adf5c67960113d37a756bcb";let i=l},452611(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CollapsibleDescription_pin",selections:[{args:null,kind:"FragmentSpread",name:"DescriptionBrokenByLineBreaks_pin"}],type:"Pin",abstractKey:null};l.hash="f4db80aa25522dc31fd92c6888dee781";let i=l},627169(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadModalEntryPoint_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};l.hash="3b1611a36d8ea47eb0a01cf95557a10c";let i=l},232619(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};l.hash="daed7871ea3349b195a482d98f047526";let i=l},998703(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MobileStickyFooter_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"digitalMediaSourceType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isViewedByOwnerOrEmployeeOrPartnerOfBusiness",storageKey:null},{args:null,kind:"FragmentSpread",name:"AnimatedVisualSearchButton_pin"},{args:null,kind:"FragmentSpread",name:"FlashlightButton_pin"}],type:"Pin",abstractKey:null};l.hash="a2ad4e53c7de61af48ceeaf2f7ee4647";let i=l},363531(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttributionText_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupUnifiedAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="302280af43fdbc94ba2060410a37e076";let i=l},627416(e,n,a){var l;a.r(n),a.d(n,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttribution_pin",selections:[l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupUnifiedAttribution",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"FollowButton_pin"},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"}],type:"Pin",abstractKey:null};i.hash="90a35c5ea8a0b7c83b6783a5e41eaa0d";let t=i},290890(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBarVisitButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"}],type:"Pin",abstractKey:null};l.hash="2ed8f79733cbeedba9e8a7ed03435228";let i=l},879775(e,n,a){var l,i;a.r(n),a.d(n,{default:()=>r});let t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isUnauth"}],kind:"Fragment",metadata:null,name:"PinActionBar_pin",selections:[l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:i,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalReactionCount",storageKey:null},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"isUnauth"}],kind:"FragmentSpread",name:"PinContextMenuButton_pin"},{args:null,kind:"FragmentSpread",name:"SaveButtonContainer_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopCloseupSendButton_pin"},{args:null,kind:"FragmentSpread",name:"AnimatedSendButton_pin"},{args:null,kind:"FragmentSpread",name:"PinActionBarVisitButton_pin"},{args:null,kind:"FragmentSpread",name:"useDownloadImageUnauth_pin"},{args:null,kind:"FragmentSpread",name:"ReactionPickerContainer_pin"},{args:null,kind:"FragmentSpread",name:"CommentThreadModalEntryPoint_pin"}],type:"Pin",abstractKey:null};t.hash="5be5af8be413208416351c90fe1ce1ad";let r=t},701326(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"MobileStickyFooter_pin"}],type:"Pin",abstractKey:null};l.hash="c680e00cd7b9416b1b23b78e3d6e22db";let i=l},160307(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescriptionDropdown_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null}],type:"Pin",abstractKey:null};l.hash="e4ec29e546b4d84af24bae98169500db";let i=l},396498(e,n,a){var l,i,t,r,s;a.r(n),a.d(n,{default:()=>d});let o=(i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPricingBaseUnits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPricingUnitType",storageKey:null}],storageKey:null},s=[l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetails_pin",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null},i,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[t,r,{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[t,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"affiliateDisclosure",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:s,storageKey:null},{args:null,kind:"FragmentSpread",name:"useStructuredDescription_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionText_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"}],type:"Pin",abstractKey:null});o.hash="2a90bea5b9c3258c85eb6cca2267485a";let d=o},874209(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ReturnToSurfaceButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};l.hash="e23b6f415201e169205bd2d924638562";let i=l},541791(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SaveButtonContainer_pin",selections:[{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{args:null,kind:"FragmentSpread",name:"SaveButtonPinCard_pin"}],type:"Pin",abstractKey:null};l.hash="4d623c22364b81b06b09589bd0dea905";let i=l},946309(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SaveButtonPinCard_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};l.hash="8f09ec57feffa3a1b4f26c669b223c0e";let i=l},511092(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthAmazonModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],type:"Pin",abstractKey:null};l.hash="24328a0181bac8efd06f2d3a98514e10";let i=l},639235(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthCloseupCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"MobileStickyFooter_pin"}],type:"Pin",abstractKey:null};l.hash="cc55e39c42ca4b105ea13e5ab293a9c7";let i=l},448344(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthContextMenuController_pin",selections:[{args:null,kind:"FragmentSpread",name:"UnauthContextMenu_pin"}],type:"Pin",abstractKey:null};l.hash="dd5623c0c7ff2bcd752285dfed3e4aa7";let i=l},382619(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopCloseupSendButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"AnimatedSendButton_pin"}],type:"Pin",abstractKey:null};l.hash="376aac357360558efd8c93bda6841173";let i=l},695776(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthIndexExchangeContainer_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="8357577fd82491ef1bc82e88024f7e01";let i=l},580985(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UserRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"FollowButton_pin"}],type:"Pin",abstractKey:null};l.hash="d07d7e31fad8648e8967b45d3883c0b7";let i=l},203640(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseFullBleedModal_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="2e464db34007ea4c1c0752bf62bbb542";let i=l},251484(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useDuploGetStelaUrlWithLargestStelaObject_pin",selections:[{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="0d094b9035d386e39d655dc504f34018";let i=l},63030(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useDuploGetStelaUrlWithLargestStelaObject_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};l.hash="f351b4770fdbd86402ef323f959c3227";let i=l},342415(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useReactionCountsFragment_pin",selections:[{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="11d828252f89045bc37e6aa5eb3fbea6";let i=l},253223(e,n,a){a.r(n),a.d(n,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useSeoDrawerExperimentUtil_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetCredits_pin"}],type:"Pin",abstractKey:null};l.hash="b0c6b5112691f13c9217bf0ac7b77e04";let i=l},839129(e,n,a){a.d(n,{A:()=>i});var l=a(508765);function i({shuffleId:e,shouldRenderShuffle:n}){let{data:a}=(0,l.A)(e&&n?{name:"ApiResource",options:{url:`/v3/shuffles/${e}/`,data:{fields:["shuffle.{id,items,effect_data}","shuffleitem.{id,shuffle_item_image(),settings,item_type,is_background,text,template_config,bitmap_mask,mask,shuffle_asset,images[236x,750x,750x(heic)]}","shuffleasset.{id,cutout_images[originals],source_images[236x]}"]}}}:null);return a}},165070(e,n,a){a.d(n,{X:()=>l,k:()=>i});let{Provider:l,get:i}=(0,a(767216).A)("legacyServerContext")},229281(e,n,a){a.d(n,{A:()=>i,q:()=>l});let l=(e=0,n="")=>`@keyframes shopButtonSlideInThenOut {
  0% {
    width: 0px;
  }

  15% {
    width: ${e+24}px;
  }

  85% {
    width: ${e+24}px;
  }

  100% {
    width: 0px;
  }
}

@keyframes shopButtonSlideOut {
  0% {
    width: ${e+24}px;
  }
  100% {
    width: 0px;
  }
}

@keyframes stelaSlideOut {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

@keyframes revealShopText {
  from {
    clip-path: inset(0 100% 0 0);
  }
  to {
    clip-path: inset(0 0 0 0);
  }
}

@keyframes stelaSlideInThenOut {
  0% {
    opacity: 0;
  }

  15% {
    opacity: 0;
  }

  25% {
    opacity: 1;
  }

  50% {
    opacity: 1;
  }

  75% {
    opacity: 1;
  }

  85% {
    opacity: 0;
  }

  100% {
    opacity: 0;
  }
}


@keyframes stelaGrowInAndOut {
0% {
  transform: scale(0);
  opacity: 0;
}

10% {
  transform: scale(1);
  opacity: 1;
}

90% {
  transform: scale(1);
  opacity: 1;
}

100% {
  transform: scale(0);
  opacity: 0;
}
}

@keyframes buttonSlideIn${n} {
  0% {
    width: 0px;
  }
  15% {
    width: ${e+24}px;
  }
  100% {
    width: ${e+24}px;
  }
}

@keyframes stelaSlideIn {
  0% {
    opacity: 0;
  }

  15% {
    opacity: 0;
  }

  25% {
    opacity: 1;
  }
  100% {
    opacity: 1;
  }
}
`,i=(e=0)=>`@keyframes shopButtonSlideInThenOut {
  0% {
    width: 0px;
  }

  15% {
    width: ${e+24}px;
  }

  85% {
    width: ${e+24}px;
  }

  100% {
    width: 0px;
  }
}

@keyframes revealShopText {
  from {
    clip-path: inset(0 100% 0 0);
  }
  to {
    clip-path: inset(0 0 0 0);
  }
}

@keyframes stelaSlideInThenOut {
  0% {
    opacity: 0;
  }

  15% {
    opacity: 0;
  }

  25% {
    opacity: 1;
  }

  50% {
    opacity: 1;
  }

  75% {
    opacity: 1;
  }

  85% {
    opacity: 0;
  }

  100% {
    opacity: 0;
  }
}


@keyframes stelaGrowInAndOut {
0% {
  transform: scale(0);
  opacity: 0;
}

10% {
  transform: scale(1);
  opacity: 1;
}

90% {
  transform: scale(1);
  opacity: 1;
}

100% {
  transform: scale(0);
  opacity: 0;
}
}

`},875318(e,n,a){a.d(n,{A:()=>i,c:()=>l});let l=e=>"phone"===e?55:80;function i(e,n){return n?0:l(e)}},945725(e,n,a){a.d(n,{A:()=>g});var l=a(335831),i=a(859471),t=a(836737),r=a(254762),s=a(233944),o=a(154395),d=a(396901),u=a(562615);let c=(0,i.lazy)(()=>a.e("97220").then(a.bind(a,306474))),p={sm:12,md:16,lg:20,xl:24};function g({isVerifiedMerchant:e,size:n,showText:a,showVerifiedIdentity:g,inspirationalBadges:m,inspirationalBadgesColor:h}){(0,i.useEffect)(()=>{(0,l.A)("VerifiedBadge","/app/packages/VerifiedBadge.tsx")},[]);let _=(0,d.A)(),[y,f]=(0,i.useState)(!1),{dangerousInlineStyle:k,iconColor:S}=(0,o.A)(!!e),b=(0,s.A)(),{mWebCloseupRedesignEnabled:x}=(0,r.A)(),P=x&&e?"info":S,A=x?{__style:{color:P}}:k;return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(t.Rp,{onTap:()=>{b({component:13534,element:11717,event_type:102}),f(!0)},rounding:"circle",children:(0,u.jsxs)(t.az,{alignItems:"center",dangerouslySetInlineStyle:A,"data-test-id":"verified-badge-icon","data-unadopted-gestalt":"Badge",display:"flex",children:[(0,u.jsx)(t.In,{accessibilityLabel:e?_._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):_._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:P,icon:x?"circle-check-fill":"workflow-status-ok",inline:!0,size:p[n]}),a&&!g&&(0,u.jsx)(t.az,{marginStart:2,children:(0,u.jsx)(t.KJ,{color:"default",inline:!0,weight:"bold",children:(0,u.jsx)(t.az,{dangerouslySetInlineStyle:A,children:_._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(e||a&&!g)&&y&&(0,u.jsx)(i.Suspense,{children:(0,u.jsx)(c,{inspirationalBadges:m,inspirationalBadgesColor:h,setShowModal:f,showModal:y})})]})}},396275(e,n,a){a.d(n,{Gj:()=>u,Gk:()=>o,Sk:()=>d,VD:()=>r,b:()=>t,ii:()=>s,lt:()=>c});var l=a(836737),i=a(639706);let t=new l.K5([i.A]),r={attributionLabel:"unauth_hybrid_banner",source:"login",container:"bottom.right.upsell.email",reason:"CLICK_LOGIN_OR_SIGNUP"},s=350,o=286,d=5e3,u=new l.rk(10001),c=320},15176(e,n,a){a.d(n,{A:()=>f});var l=a(859471),i=a(979638),t=a(221718),r=a(360447),s=a(385279),o=a(107639),d=a(536059),u=a(528989),c=a(424120),p=a(60341),g=a(27112),m=a(41366),h=a(218781),_=a(491149),y=a(282395);function f({pageUniqueKey:e,containerPage:n}){let a=(0,s.C)(),f=(0,_.qJ)(),k=(0,i.zy)(),{checkExperiment:S}=(0,u.A)(),{isPaid:b,isSocial:x,isDirect:P,isSEO:A}=(0,d.A)(),v=(0,y.ik)(),w=v?.data?.inviter,T=(0,p.V2)(),I=(0,c.y1)(),E=JSON.parse(T.getItem(r.$y)??"[]"),F=f&&S("dweb_navigational_on_land").anyEnabled,C=f&&"enabled_paid"===S("dweb_navigational_on_land").group,j=f&&"enabled_social"===S("dweb_navigational_on_land").group,K=f&&"enabled_seo_direct"===S("dweb_navigational_on_land").group,R=f&&(S("migration_upsell_manager_redux").anyEnabled||S("migration_upsell_manager_redux_dweb").anyEnabled||S("migration_upsell_manager_redux_dweb_global").anyEnabled),L=(0,g.A)(),D=f&&a&&!T.getItem(r.RR)&&E.length+1>=0&&!E.includes(e)&&x&&(0,o.mg)(k),z=f&&"31"===(0,h.A)(k?.search).utm_source&&(0,o.iK)(k)&&S("dweb_email_referred_board_page_upsell_experiment").anyEnabled;(0,l.useEffect)(()=>{if(R)L((0,m.op)(e,n));else if(a&&!T.getItem(r.RR)){let l=C&&b||j&&x||K&&(P||A)||z;(E.length+1>=4||l&&E.length+1>=0)&&!E.includes(e)?(a.showDesktopSignupModal({signupFlow:{type:"login"},attributionLabel:`navigation_${n}`,container:n,reason:"UPSELL_LOGIN_OR_SIGNUP",isWashBlocking:!!z}),T.setItem(r.RR,"true"),T.removeItem(r.$y),I.setItem(t.jB,0)):D||T.setItem(r.$y,JSON.stringify([...new Set([...E,e])]))}},[e,n,4,a,T,I,L,R,F,P,A,b,x,C,j,K,E,z,D,S]),(0,l.useEffect)(()=>{if(!D||!w)return;R&&L((0,m.cM)(w,n));let e=[];if(S("ce_dweb_unauth_splp_blocking_no_delay").anyEnabled)if(R)L((0,m.is)(n));else{let{showDesktopSignupModal:e}=a;e({signupFlow:{type:"signup"},attributionLabel:`delay_${n}`,container:n,reason:"UPSELL_LOGIN_OR_SIGNUP"}),T.setItem(r.RR,"true")}else if(S("ce_dweb_unauth_splp_blocking_3s").anyEnabled){let l=setTimeout(()=>{if(R)L((0,m.is)(n));else{let{showDesktopSignupModal:e}=a;e({signupFlow:{type:"signup"},attributionLabel:`delay_${n}`,container:n,reason:"UPSELL_LOGIN_OR_SIGNUP"}),T.setItem(r.RR,"true")}},3e3);e.push(l)}else if(S("ce_dweb_unauth_splp_blocking").anyEnabled){let l=setTimeout(()=>{if(R)L((0,m.is)(n));else{let{showDesktopSignupModal:e}=a;e({signupFlow:{type:"signup"},attributionLabel:`delay_${n}`,container:n,reason:"UPSELL_LOGIN_OR_SIGNUP"}),T.setItem(r.RR,"true")}},6e3);e.push(l)}return()=>{e.forEach(e=>clearTimeout(e))}},[w,D,R,L,n]),(0,l.useEffect)(()=>{if(!D||!w)return;let e=!1,l=()=>{e||(requestAnimationFrame(()=>{(()=>{let{scrollY:e}=window;if(e>1){if(R)L((0,m.Y0)(n));else if(S("ce_dweb_unauth_splp_blocking").anyEnabled||S("ce_dweb_unauth_splp_blocking_no_delay").anyEnabled||S("ce_dweb_unauth_splp_blocking_3s").anyEnabled){let{showDesktopSignupModal:e}=a;e({signupFlow:{type:"signup"},attributionLabel:`scroll_${n}`,container:n,reason:"UPSELL_LOGIN_OR_SIGNUP"}),T.setItem(r.RR,"true")}}})(),e=!1}),e=!0)};return window.addEventListener("scroll",l,{passive:!0}),()=>{window.removeEventListener("scroll",l)}},[w,D,R,L,n])}},154395(e,n,a){a.d(n,{A:()=>l});let l=e=>{let n=e?"default":"error";return{iconColor:n,dangerousInlineStyle:{__style:{color:n}}}}},503378(e,n,a){a.d(n,{XC:()=>t,Z9:()=>i,a0:()=>l});let l=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,i=e=>window.innerHeight>=748&&l(e),t=()=>!("u"<typeof window)&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700)},33396(e,n,a){a.d(n,{A:()=>g});var l=a(335831),i=a(859471),t=a(836737),r=a(254762),s=a(625277),o=a(259628);let d="0px 0px 8px rgba(0, 0, 0, 0.1)";var u=a(376195),c=a(297178),p=a(562615);function g({children:e,footerConfig:n,headerConfig:a,height:g,hideOnScroll:m,hideOnScrollState:{isHidden:h,updateHiddenState:_},isFooterHidden:y,noPadding:f,paddingX:k,paddingY:S=3,type:b,zIndex:x,isStoryPin:P}){let A,v;(0,i.useEffect)(()=>{(0,l.A)("FixedContent","/app/packages/layout/FixedContent.tsx")},[]);let{headerLimitedOverflow:w,ignoreObstructions:T,zIndexForGestaltBug:I}=a||{},{appUpsellFooterConfig:E,footerInLego:F,navFooterConfig:C}=n||{},j=!!E,K="header"===b?"top":"bottom",{isDarkMode:R}=(0,s.D2)(),{isRTL:L}=(0,u._8)(),{mWebCloseupRedesignEnabled:D}=(0,r.A)(),z=(0,i.useRef)(null),O=(0,i.useRef)(null);(0,i.useEffect)(()=>{try{if(!T){let e=z.current;O.current=w&&e&&Array.isArray(e.children)?e.children[0]:e,O.current instanceof HTMLElement&&o.A.addObstruction(K,O.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!T&&O.current instanceof HTMLElement&&o.A.removeObstruction(K,O.current)}},[T,w,K,R]);let B="top"===K?"relative":"fixed",N=f?0:S,M=(g??64)+(a?.overrideTop||0),U=m||C?{transition:F||D?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...h||y?{transform:`translateY(${"top"===K?-M:M}px)`,opacity:F||D?0:1}:Object.freeze({})}:{},V=2*!("relative"!==B||a?.noGutter),G=V?-V:0,H=R?s.ee:"rgba(255,255,255,.95)";R&&("header"===b?A=-1:v=-1);let W=F?j?void 0:g??64:"100%",Y=a?.isTranslucent&&H||R?H:"var(--sema-color-background-default)",$=a?.isTransparentBackground&&1?"var(--sema-color-background-transparent)":Y,J=(0,i.useMemo)(()=>({height:"footer"===b&&D?`calc(${W} + env(safe-area-inset-bottom))`:W,...D&&"footer"===b?{paddingBottom:`calc(env(safe-area-inset-bottom) + ${4*(N||0)}px)`}:Object.freeze({})}),[D,W,b,N]),X=(0,c.A)({skipExpActivation:!0});return(0,p.jsx)(t.az,{ref:z,bottom:"footer"===b,dangerouslySetInlineStyle:{__style:{top:A,bottomStyle:v,...!x||I?{zIndex:I||1}:Object.freeze({}),...w?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...a?.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...n?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...U}},"data-test-id":b,display:j?"flex":void 0,height:g&&!F?g:void 0,left:!0,marginEnd:F?"auto":G,marginStart:F?"auto":G,onTransitionEnd:()=>{(m||C)&&O.current&&(h||y?o.A.removeObstruction(K,O.current):o.A.addObstruction(K,O.current))},position:B,right:!0,top:"header"===b,width:F||"fixed"!==B?void 0:"100%",zIndex:I?void 0:x,children:(0,p.jsx)(t.az,{alignItems:n?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:$,paddingLeft:L||!X||P?void 0:"8px",paddingRight:L&&X&&!P?"8px":void 0,...J,boxShadow:D&&"footer"===b?`0 10px 0 0 ${$}, ${d}`:F?d:void 0,marginBottom:F&&!C?.docked?16:void 0,...w?{pointerEvents:"auto"}:Object.freeze({}),...a?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:F||n?.alignCenter?"flex":void 0,marginEnd:F?"auto":void 0,marginStart:F?"auto":void 0,paddingX:k||4*("footer"===b&&!f)+V,paddingY:N,position:"relative",rounding:F&&!C?.docked?"pill":void 0,width:C?C.footerWidth:j?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:_}):e})})}},70994(e,n,a){a.d(n,{A:()=>o});var l=a(335831),i=a(859471),t=a(33396),r=a(447341),s=a(562615);function o({alignCenter:e,appUpsellFooterConfig:n,footerInLego:a,hasTopShadow:o,navFooterConfig:d,...u}){return(0,i.useEffect)(()=>{(0,l.A)("FixedFooter","/app/packages/layout/FixedFooter.tsx")},[]),(0,s.jsx)(r.A,{appUpsellFooterConfig:n,hideOnScroll:u.hideOnScroll,navFooterConfig:d?.scrollConfig,children:l=>(0,s.jsx)(t.A,{...u,footerConfig:{alignCenter:e,appUpsellFooterConfig:n,footerInLego:a,hasTopShadow:o,navFooterConfig:d},hideOnScrollState:l,type:"footer"})})}},97816(e,n,a){a.r(n),a.d(n,{default:()=>d});var l=a(335831),i=a(859471),t=a(836737),r=a(33396),s=a(447341),o=a(562615);function d({hasBorder:e,headerLimitedOverflow:n,ignoreObstructions:a,isTranslucent:d,isTransparentBackground:u,noGutter:c,overrideTop:p,useRoundedCorners:g,zIndexForGestaltBug:m,isStoryPin:h,..._}){(0,i.useEffect)(()=>{(0,l.A)("FixedHeader","/app/packages/layout/FixedHeader.tsx")},[]);let{noPadding:y,paddingY:f=3,zIndex:k}=_;return(0,o.jsx)(t.ib,{height:n?44+2*(y?0:f)*4:void 0,top:p||0,zIndex:k||void 0,children:(0,o.jsx)(s.A,{hideOnScroll:_.hideOnScroll,children:l=>(0,o.jsx)(r.A,{..._,headerConfig:{isTranslucent:d,isTransparentBackground:u,headerLimitedOverflow:n,hasBorder:e,ignoreObstructions:a,noGutter:c,overrideTop:p,zIndexForGestaltBug:m,useRoundedCorners:g},hideOnScrollState:l,isStoryPin:h,type:"header"})})})}},447341(e,n,a){a.d(n,{A:()=>r});var l=a(859471),i=a(835122);function t(e,n,a){var l;return(n="symbol"==typeof(l=function(e,n){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,n||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"))?l:l+"")in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}class r extends l.Component{constructor(...e){super(...e),t(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),t(this,"lastScrollPos",0),t(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),t(this,"handleScroll",(0,i.A)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:n}=this.props,{isHidden:a}=this.state,l=window.scrollY,i=l-this.lastScrollPos,t="none",{scrollHeight:r,clientHeight:s}=document.documentElement||{};Number.isNaN(r)||Number.isNaN(s)||(t=i<0?l<=Math.abs((window.scrollMinY||0)+Math.max(i,20))?"start":"none":l>=(window.scrollMaxY||r-s)-Math.max(i,20)?"end":"none");let o=55*!n?.isModal;e?i>20&&a&&l>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),n?.onScroll(!1)):(i<-20&&!a||l<=o)&&(this.updateHiddenState(!0),n?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===t&&!a||l<=o?(this.updateHiddenState(!0),n?.onScroll(!0)):(l>o||"end"===t)&&a&&(this.updateHiddenState(!1),n?.onScroll(!1)):(i<-20||"start"===t)&&a||l<=o?(this.updateHiddenState(!1),n?.onScroll(!1)):(i>20||"end"===t)&&!a&&(this.updateHiddenState(!0),n?.onScroll(!0)),this.lastScrollPos=l},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:n}=this.props,{isHidden:a}=this.state;return e({isHidden:!n?.forceShow&&a,updateHiddenState:this.updateHiddenState})}}},128353(e,n,a){a.r(n),a.d(n,{default:()=>u});var l=a(335831),i=a(859471),t=a(836737),r=a(503378),s=a(382960),o=a(376195),d=a(562615);let u=({children:e,dataLayoutShiftBoundaryId:n,hasFixedHeader:a=!1,hasGutter:u=!0,height:c,showKeychainError:p=!1,useViewport:g=!1})=>{(0,i.useEffect)(()=>{(0,l.A)("MobilePageContainer","/app/packages/layout/MobilePageContainer.tsx")},[]);let m=(0,o._8)(),h=28*!!(0,r.Z9)(m.userAgent.platform);return(0,d.jsx)(t.az,{"data-layout-shift-boundary-id":n||"PageContainer",height:g?`calc(100vh - ${h}px)`:c,paddingX:u?2:void 0,paddingY:a||p?void 0:3,children:(0,d.jsx)(s.k,{value:!!u,children:e})})}},536059(e,n,a){a.d(n,{A:()=>c});var l=a(979638),i=a(838917),t=a(107639),r=a(376195),s=a(672804),o=a(272090),d=a(507120),u=a(892804);function c(){let e,{isBot:n,isSocialBot:a,referrerFromCookie:c,referrerFromHeader:p,countryFromHostName:g,countryFromIp:m,regionFromIp:h,isAuthenticated:_}=(0,r._8)(),y=(0,l.zy)(),f=(0,d.A)(),k=new URLSearchParams(y.search),S=!n&&!!k.get("utm_pai"),b=k.get("utm_source"),x=!n&&!a&&(0,t.ZX)(y),P=(0,o.A)({countryFromHostName:g||"",countryFromIp:m||"",regionFromIp:h||"",isAuthenticated:_}),A=p||P&&c||"";e=f||!P?A:(0,s.G2)(A);let v=!1,w=!n&&!a&&b&&["email",String(31)].includes(b),T=!n&&!a&&b&&["fb"].includes(b),I="offsite"===b,E=!n&&!a&&!!(e&&(/facebook/.test(e)||/fb/.test(e))),F=!n&&!a&&!!(e&&(/twitter/.test(e)||/tw/.test(e)));x&&(0,u.GV)("unauth.entry_channel.invite_code",{sampleRate:1}),w&&(0,u.GV)("unauth.entry_channel.email_utm_source",{sampleRate:1}),T&&(0,u.GV)("unauth.entry_channel.social_media_utm_source_fb",{sampleRate:1}),I&&(0,u.GV)("unauth.entry_channel.offsite_utm_source",{sampleRate:1}),E&&(0,u.GV)("unauth.entry_channel.social_media_referer_fb",{sampleRate:1}),F&&(0,u.GV)("unauth.entry_channel.social_media_referer_twitter",{sampleRate:1}),v=(0,s.Eb)(e);let C=!n&&v,j=!!k.get(i.z),K=!!k.get("twa_type")||e&&e.startsWith("android-app://com.pinterest.twa"),R=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","utm_admin","utm_id","utm_mail","utm_swu"].some(e=>null!==k.get(e))||!!e||j||K;return{isPaid:S,isInvite:x,utmSource:b,referrer:e,isSocial:x,isDirect:!n&&!S&&!x&&!C&&!R,isSEO:C,isBrowserStorageAllowed:P,isOffsite:I,isBot:n||a}}},853519(e,n,a){a.d(n,{A:()=>i});var l=a(135892);function i({feedbackData:e,feedbackType:n,pinId:a,pinFeedbackType:i,recommendationReason:t,complaintReason:r,clientTrackingParams:s,isThirdPartyAd:o}){switch(n){case"search":return{action:"unrelatedSearchPin",actionOptions:{query:e?.query,pin_id:a}};case"related":return{action:"relatedPinHide",actionOptions:{pin_id:a}};case"newsHub":return{action:"newsHubPinHide",actionOptions:{pin_id:a,news_id:e?.newsId}};default:let d="promoted"===n,u=(0,l.A)(t?.reason),c=t?.reasonId??t?.board?.entityId,p=d?"promotedComplaint":"complaint",g={complaint_reason:r||0,pin_id:a,feedback_type:i||1,promoted:d};return u&&(g.recommendation_reason_id=u),c&&(g.through_id=c),t?.throughProperties&&(g.through_properties=t.throughProperties.reduce((e,n)=>{let{key:a,data:l}=n;return a&&(e[a]=[...e[a]||[],...l||[]]),e},{})),s&&(g.client_tracking_params=s),o&&(g.is_third_party_ad=o),{action:p,actionOptions:g}}}},742450(e,n,a){a.d(n,{PF:()=>d,ir:()=>s,r_:()=>o});var l=a(301704),i=a(386565),t=a(100767),r=a(798923);let s="274266067164",o=(e,n)=>(n&&(0,r.OW)({event:"load_script_start",provider:"facebook"}),(0,i.A)((0,t.A)(e),"FACEBOOK").then(()=>{n&&(0,r.OW)({event:"load_script_success",provider:"facebook"}),"u">typeof window&&window.FB?(n&&(0,r.OW)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:s,status:!0,xfbml:!0,version:"v2.7"})):n?(0,r.OW)({event:"global_object_not_found",provider:"facebook"}):(0,r.PM)("pcons.non_autologin.fb.global_object_not_found")})),d=async(e,n)=>{await o(e,!1);let a=await new Promise(e=>{"u">typeof window&&window.FB&&window.FB.getLoginStatus(e)}),i=n?"dweb":"mweb";if("connected"===a.status){(0,r.PM)(`${i}.login_data_from_fb_token.connected`);let{userID:e,accessToken:n}=a.authResponse;try{let a=await (0,l.A)({url:"/v3/facebook/login_data/",data:{facebook_id:e,facebook_token:n}});if(a?.resource_response?.data){let{connected_to_gplus:e,connected_to_google:n,has_password:l}=a.resource_response.data,t=e||n;return(0,r.PM)(`${i}.login_data_from_fb_token.success`),{isGoogleConnected:t,hasPassword:l,isFBAuthOnly:!t&&!l}}(0,r.PM)(`${i}.login_data_from_fb_token.no_data`)}catch{(0,r.PM)(`${i}.login_data_from_fb_token.error`)}}return null}},332167(e,n,a){a.d(n,{A:()=>o});var l=a(335831),i=a(859471),t=a(836737),r=a(396901),s=a(562615);let o=({hasBackground:e=!1,iconColor:n="default",paddingX:a=2})=>{(0,i.useEffect)(()=>{(0,l.A)("ReactionPickerPlaceholder","/app/packages/reactions/ReactionPickerPlaceholder.tsx")},[]);let o=(0,r.A)();return(0,s.jsx)(t.az,{paddingX:a,children:(0,s.jsx)(t.so,{alignItems:"center",height:24,justifyContent:"center",width:24,children:(0,s.jsx)(t.K0,{accessibilityLabel:o._('React', 'Accessibility label for reacting to a Pin', 'Accessibility label for reacting to a Pin'),bgColor:e?"secondary":"transparent",icon:"heart",iconColor:n,padding:1,size:"xl"})})})}},645176(e,n,a){a.d(n,{A:()=>d});var l=a(859471),i=a(106386),t=a(810972),r=a(477040),s=a(247909);let o=(e,n,a)=>e.resources[n]?.[a];function d(e){let{name:n,optionsKey:a}=e??{name:"",optionsKey:""},d=n===r.W,u=(0,s.uN)(),c=u?.get(n,a);if(c)throw c;let p=(0,t.createSelector)(e=>o(e,n,a),e=>e?.data),g=(0,t.createSelector)(e=>o(e,n,a),e=>e?.auxData),m=(0,t.createSelector)(e=>o(e,n,a),e=>e?.error),h=(0,t.createSelector)(e=>o(e,n,a),e=>e?.nextBookmark),_=(0,i.d4)(h),y=(0,i.d4)(p),f=(0,i.d4)(g),k=(0,i.d4)(m),S=(0,l.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(d)return S.current;let b={auxData:f,data:y,error:k,isAtEnd:"-end-"===_,nextBookmark:_};return(b.auxData!==S.current.auxData||b.data!==S.current.data||b.error!==S.current.error||b.isAtEnd!==S.current.isAtEnd||b.nextBookmark!==S.current.nextBookmark)&&(S.current=b),S.current}},672804(e,n,a){a.d(n,{Eb:()=>h,G2:()=>_,VO:()=>k});var l=a(107639),i=a(214749),t=a(329456);let r="BING",s="GOOGLE",o="YAHOO",d="YANDEX",u="RAKUTEN",c="NAVER",p="AMP_CACHE",g="DUCKDUCKGO",m=[s,r,o,d,u,c,p,g];function h(e){return m.includes(function(e){let{hostname:n}=(0,t.A)(e,!0);if(n&&e){if(n.includes("google.")||e.includes("android-app://com.google.android.googlequicksearchbox"))return s;else if(n.includes("bing."))return r;else if(n.includes("yahoo."))return o;else if(n.includes("yandex."))return d;else if(n.includes("rakuten."))return u;else if(n.includes("naver."))return c;else if(n.includes("duckduckgo."))return g;else if(n.includes(".cdn.ampproject.org"))return p}return""}(e))}function _(e){return e||"u">typeof document&&document.referrer||""}let y=e=>"/"!==e[e.length-1]?`${e}/`:e,f=e=>{let n=y(e),a=(0,l.L6)({url:n});return(0,l.dM)(a)?"PIN":(0,l.iK)(a)?"BOARD":(0,i.A)(a)?"PROFILE":(0,l.j9)(a)?"TODAY":(0,l.wd)(a)?"IDEA":(0,l.mX)(a)?"SHOPPING":"UNKNOWN"},k=({country:e,language:n,isBot:a,hostname:l,pathname:i})=>({domain:l,country:e,language:n,currentUrl:i,pageType:f(i),referrer:document.referrer,isBot:a,links:(({selector:e,skipExternal:n})=>{let a=Array.from(document.querySelectorAll(e)),l={pin:[],board:[],user:[],today:[],idea:[],shopping:[]},i=new Set;return a.forEach(e=>{let a=e.getAttribute("href");if(!a||a.startsWith("#")||n&&a.startsWith("http")&&!a.includes(window.location.hostname))return;let t=y(a);if(i.has(t))return;i.add(t);let r=f(t);"PIN"===r?l.pin.push(t):"BOARD"===r?l.board.push(t):"PROFILE"===r?l.user.push(t):"TODAY"===r?l.today.push(t):"IDEA"===r?l.idea.push(t):"SHOPPING"===r&&l.shopping.push(t)}),l})({selector:"a[href]",skipExternal:!0})})},504001(e,n,a){a.d(n,{$E:()=>l,ni:()=>i});let l=(e,n=null)=>{try{return"u">typeof window&&window.localStorage.getItem(e)||n}catch(e){return console.error("Cannot access localStorage."),n}},i=(e,n)=>{try{if("u"<typeof window)return;window.localStorage.setItem(e,n)}catch(e){console.error("Cannot access localStorage.")}}},404310(e,n,a){a.d(n,{A:()=>h,m:()=>_});var l=a(859471),i=a(106386),t=a(221718),r=a(233944),s=a(775816),o=a(385279),d=a(528989),u=a(688094),c=a(424120),p=a(27112),g=a(41366),m=a(491149);function h(){let{trackConversionUpsellForContext:e}=(0,o.C)()||{},{trackConversionUpsellForContext:n}=(0,u.E)()||{},{viewType:a,viewParameter:l}=(0,s.WQ)();return{trackConversionUpsell:({eventType:i,viewType:t,viewParameter:r,element:s,component:o,upsellReason:d,incrementUpsellReasonCounter:u,additionalAuxData:c})=>{let p=e||n;p&&p({eventType:i,viewType:t||a||202,viewParameter:r||l,element:s,component:o,upsellReason:d,incrementUpsellReasonCounter:u,additionalAuxData:c})}}}function _(){let e=(0,r.A)(),n=(0,c.y1)(),a=(0,p.A)(),s=(0,i.d4)(e=>e?.upsell?.upsellReason),{checkExperiment:o}=(0,d.A)(),u=(0,m.qJ)(),h=(0,l.useRef)(null),_=()=>n.getItem(t.We)&&Number.isInteger(n.getItem(t.We))?n.getItem(t.We):0;return{trackConversionUpsellForContext:({eventType:l,viewType:i,viewParameter:r,element:d,component:p,upsellReason:m,incrementUpsellReasonCounter:y,additionalAuxData:f})=>{let k=(0,c.y1)(),S=u&&(o("migration_upsell_manager_redux").anyEnabled||o("migration_upsell_manager_redux_dweb").anyEnabled||o("migration_upsell_manager_redux_dweb_global").anyEnabled);14688===l&&(k.setItem(t.LU,m||""),m&&S&&a((0,g.A2)(m)),h.current=p,!1!==y&&n.setItem(t.We,_()+1));let b=k.getItem(t.LU)||null;!b&&S&&(b=m||s),e({event_type:l,view_type:i,view_parameter:r,element:d,component:h.current,aux_data:{upsell_reason:b,upsell_view_count:_(),...f}})}}}},524451(e,n,a){a.d(n,{A:()=>y});var l,i=a(335831),t=a(859471);a(825193);var r=a(836737),s=a(665904),o=a(254762),d=a(625277),u=a(900565),c=a(396901),p=a(91182),g=a(388657),m=a(562615);let h=(void 0!==l||(l=a(452611)).hash&&"f4db80aa25522dc31fd92c6888dee781"!==l.hash&&console.error("The definition of 'CollapsibleDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),_=({isExpanded:e,onToggle:n,expandedText:a,collapsedText:l,size:i})=>(0,m.jsx)(r.az,{"data-test-id":`${e?"less":"more"}-description-container`,display:"inlineBlock",children:(0,m.jsx)(r.Rp,{onTap:n,children:(0,m.jsx)(r.KJ,{inline:!0,size:i,weight:"bold",children:e?a:l})})});function y({isExpanded:e,instagramPostLink:n,description:a,maxHeight:l,handleToggle:y,Wrapper:f,pinKey:k}){(0,t.useEffect)(()=>{(0,i.A)("CollapsibleDescription","/app/packages/ui/CollapsibleDescription.tsx")},[]);let S=(0,u.A)(h,k),b=(0,t.useRef)(null),[x,P]=(0,t.useState)(!1),{mWebCloseupRedesignEnabled:A}=(0,o.A)(),v=(0,c.A)(),{isDarkMode:w}=(0,d.D2)();(0,t.useEffect)(()=>{if(!(b&&b.current))return;let{height:e}=b.current.getBoundingClientRect();e>l&&P(!0)},[b,l]);let T=A?v._('See more', 'closeup.description.toggle.seeMoreButton', 'Toggle see more description button'):v._('... more', 'closeup.description.toggle.moreButton', 'Toggle more description button'),I=A?v._('See less', 'closeup.description.toggle.seeLessButton', 'Toggle see less description button'):"..."+(v._('less', 'closeup.description.toggle.lessButton', 'Toggle less description button')),E=(0,m.jsx)(_,{collapsedText:T,expandedText:I,isExpanded:e,onToggle:y,size:A?"200":void 0}),F=w?"#111111":"#FFFFFF",C=(0,m.jsx)(r.KJ,{inline:!0,weight:"bold",children:E});return(0,m.jsx)(f,{children:(0,m.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{paddingBottom:A&&e?20:void 0}},"data-test-id":"collapsible-description",maxHeight:e?void 0:l,overflow:"hidden",position:"relative",children:(0,m.jsxs)(p.A,{dir:(0,g.V)(a),children:[(0,m.jsx)(r.az,{ref:b,children:(0,m.jsxs)(r.KJ,{inline:!0,children:[(0,m.jsx)(s.A,{description:a,pinKey:S}),n,x&&e&&(A?(0,m.jsx)(r.az,{bottom:A,display:"inlineBlock",marginStart:2,position:A?"absolute":void 0,right:A,children:C}):C)]})}),x&&!e&&(0,m.jsx)(r.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:`linear-gradient(270deg, ${F} calc(100% - 75px), ${F}00 100%)`,paddingLeft:77,textAlign:"end"}},position:"absolute",right:!0,children:E})]})})})}},984488(e,n,a){a.d(n,{A:()=>t});var l=a(859471),i=a(892804);let t=(e,n)=>{let{metricName:a,tags:t={},timeoutMs:r=3e3}=n,s=(0,l.useRef)(!1),o=(0,l.useRef)(t);o.current=t,(0,l.useEffect)(()=>{if(s.current)return;let n=null,l=null,t=()=>{if(!e.current)return;let{clientWidth:t,clientHeight:r,offsetWidth:s,offsetHeight:d}=e.current;(0===t||0===r||0===s||0===d)&&(0,i.GV)(a,{tags:{...o.current,clientWidth:t,clientHeight:r,offsetWidth:s,offsetHeight:d}}),n&&n.disconnect(),l&&clearTimeout(l)};if(e.current)return e.current&&"u">typeof ResizeObserver&&(n=new ResizeObserver(()=>{t()})).observe(e.current),l=setTimeout(t,r),s.current=!0,()=>{s.current=!1,n&&n.disconnect(),l&&clearTimeout(l)}},[e,a,r])}},706151(e,n,a){a.d(n,{A:()=>c}),a(825193);var l,i,t=a(979638),r=a(900565),s=a(376195),o=a(640439);let d=(void 0!==l||(l=a(251484)).hash&&"0d094b9035d386e39d655dc504f34018"!==l.hash&&console.error("The definition of 'useDuploGetStelaUrlWithLargestStelaObject_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),u=(void 0!==i||(i=a(63030)).hash&&"f351b4770fdbd86402ef323f959c3227"!==i.hash&&console.error("The definition of 'useDuploGetStelaUrlWithLargestStelaObject_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function c({pinKey:e,storyKey:n,surfaceType:a}){let{isAuthenticated:l,country:i}=(0,s._8)(),c=(0,r.A)(d,e),p=(0,r.A)(u,n),{id:g}=(0,t.g)(),{visualObjects:m}=c||{},{action:h}=p||{};if("flashlight"===a&&(!l||"US"===i))return"";if(!g)return"/";let _=m?.flatMap(({x:e,y:n,w:a,h:l,isStela:i})=>i&&"number"==typeof e&&e>=0&&"number"==typeof n&&n>=0&&"number"==typeof a&&a>=0&&"number"==typeof l&&l>=0?[{x:e,y:n,w:a,h:l}]:[])?.[0];return(0,o.A)({cropArea:_,cropSource:_?4:5,isProductPage:!1,pinId:g,requestParams:h?.requestParams,surfaceType:a})}},170799(e,n,a){a.d(n,{b:()=>h,N:()=>_});var l=a(859471),i=a(335831),t=a(836737),r=a(129625),s=a(389598),o=a(396901),d=a(410899),u=a(449153),c=a(58518),p=a(562615);function g({isOpen:e,onDismiss:n,viewParameter:a}){(0,l.useEffect)(()=>{(0,i.A)("UnauthWAISTAModal","/app/www/WAISTA/UnauthWAISTAModal.tsx")},[]);let g=(0,o.A)(),{logContextEvent:m}=(0,r.o)();return(0,l.useEffect)(()=>{e&&m({event_type:13,element:10412,component:13756,view_parameter:a,view_type:155})},[e,m,a]),(0,p.jsx)("div",{onClick:e=>{e.stopPropagation()},role:"dialog",children:(0,p.jsx)(s.Ay,{accessibilityModalLabel:"",allowClickAndDrag:!0,allowScroll:!0,closeOnOutsideClick:!0,isOpen:e,onDismiss:n,children:(0,p.jsxs)(t.az,{maxHeight:"calc(95vh)",paddingX:2,children:[(0,p.jsxs)(t.az,{padding:2,children:[(0,p.jsx)(t.az,{children:(0,p.jsx)(t.K0,{accessibilityLabel:g._('Close modal', 'waista.modal.closeButton', 'Close modal for "Why am I seeing this ad?"'),icon:"close",iconColor:"default",onClick:()=>{m({event_type:102,element:11925,component:13756,view_parameter:a,view_type:155}),n()},size:"sm"})}),(0,p.jsx)(t.az,{marginTop:3,children:(0,p.jsx)(t._Y,{align:"start",size:"300",children:g._('Why you\'re seeing this ad', 'waista.modal.headerTitle', 'Header title on modal to explain to user why they are seeing this ad')})})]}),(0,p.jsx)(t.az,{overflow:"auto",children:(0,p.jsxs)(t.az,{children:[(0,p.jsx)(t.az,{padding:2,children:(0,p.jsx)(t.KJ,{children:g._('You may be seeing this ad:', 'waista.modal.criteria.list.maybeSeeAd.v3', 'Text about why user is seeing this ad')})}),(0,p.jsx)(t.az,{padding:2,children:(0,p.jsx)(c.A,{icon:"pinterest",iconAccessibilityLabel:g._('Icon for ad targeting context', 'waista.modal.criteria.list.contexticon', 'Icon for ad targeting context'),text:(0,d.$w)({text:g._('Based on the context of the content you see in a session <strong id="1">on Pinterest</strong>', 'unauth.waista.modal.criteria.list.context', 'Ad explanation for targeting context of content, onPinterest: on Pinterest Platform'),jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(t.KJ,{inline:!0,weight:"bold",children:e},"waista-platform-bucket")}})})}),(0,p.jsx)(t.az,{padding:2,children:(0,p.jsx)(t.KJ,{weight:"bold",children:g._('Ads on Pinterest', 'unauth.waista.modal.adsOnPinterest', 'Text explaining ads on Pinterest')})}),(0,p.jsx)(t.az,{marginBottom:4,padding:2,children:(0,p.jsx)(t.KJ,{children:(0,d.vQ)(g._('For more about how we collect and use data, read our {{ privacyPolicyLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.readPrivacyPolicyText', 'Text explaining how we collect and use data, privacyPolicyLink: link to privacy policy page'),{privacyPolicyLink:(0,p.jsx)(t.KJ,{inline:!0,weight:"normal",children:(0,p.jsx)(t.N_,{display:"inline",href:u.MY6,onClick:()=>{m({event_type:101,component:13756,element:13402,view_parameter:a,view_type:155})},target:"blank",children:g._('Privacy Policy', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyLinkUrl', 'Privacy policy link for reading about how data is collected and used')})},"ad-reasons-privacy-policy")})})})]})})]})})})}let m=(0,l.createContext)(null),h=()=>(0,l.use)(m),_=({children:e})=>{let[n,a]=(0,l.useState)(!1),i=(0,l.useMemo)(()=>({isWAISTAModalOpen:n,setWAISTAModalOpen:a}),[n,a]);return(0,p.jsxs)(m,{value:i,children:[e,n&&(0,p.jsx)(g,{isOpen:!0,onDismiss:()=>{a(!1)}})]})}},135892(e,n,a){a.d(n,{A:()=>i});let l={REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,RECOMMENDED_GEO_INTERESTS:192,USER_SEQUENCE_INTERESTS_PINS:193,U2I_DNN_INTERESTS_PINS:196,PINNERSAGE_INTERESTS_PINS:197,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_TML_PRODUCT_PINS:212,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,INTENTIONAL_DISTRIBUTION_RECOMMENDED_GRAPHSAGE_BOARDS:191,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,PINNABILITY_PRODUCT_PIN_EMBEDDINGS:195,PINNABILITY_FRESH_PRODUCT_PIN_EMBEDDINGS:209,PINNABILITY_TML_PRODUCT_PIN_EMBEDDINGS:213,PINNABILITY_MULTI_EMBEDDINGS:210,PINNABILITY_PLP_EMBEDDINGS:218,PINNABILITY_CONDITIONAL_BOARD_EMBEDDINGS:220,PINNABILITY_CONDITIONAL_PIN_EMBEDDINGS:232,PINNABILITY_CONDITIONAL_UIC_PIN_EMBEDDINGS:237,PINNABILITY_OFFSITE_TML_PRODUCT_PIN_EMBEDDINGS:227,PINNABILITY_FRESH_EMBEDDINGS:228,PINNABILITY_LOW_SIGNAL_USER_EMBEDDINGS:229,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,NOTIF_DIRECT_INJECT:207,LANDING_PAGE_PIN_RECOMMENDATIONS:188,PINNERSAGE_LEARNED_EMBEDDINGS:189,RECGPT_CG_USER_TO_PINS:206,TOPIC_FEED:190,ORGANIC_COENGAGEMENT:211,RECBOOST_SHOPPING:214,USER_OFFSITE_BRAND:219,USER_OFFSITE_MERCHANT:222,USER_OFFSITE_SEARCH_QUERIES:223,USER_OFFSITE_PSV2_IPFY:224,USER_OFFSITE_PSV2_RECBOOST:225,USER_OFFSITE_PSV2_COENGAGEMENT:226,USER_PINNERSPARK_SEARCH_QUERIES:230,USER_NUX_SEARCH_QUERIES:233,PINNERSPARK_INTEREST:231,OFFSITE_INTEREST:234,HF_LAST_CHUNK_CACHE:221,UNAUTH_SEARCH_QUERIES_NAVBOOST:236,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184,XPIXIE_TO_PRODUCT_PINS:194,SHOPPING_RECENTLY_VIEWED_MODULE_PINS:198,SHOPPING_RECENTLY_SAVED_MODULE_PINS:199,SHOPPING_BEST_SELLING_RECOMMENDED_BRAND_MODULE_PINS:200,SHOPPING_SHOP_THE_BOARD_MODULE_PINS:203,SHOPPING_ON_SALE_MODULE_PINS:204,SHOPPING_RECONSIDERATION_MODULE_PINS:215,SHOPPING_PRODUCT_CATEGORY_BASED_MODULE_PINS:205,SHOPPING_PRODUCT_CATEGORY_ON_SALE_MODULE_PINS:216,SHOPPING_BEST_SELLING_PRODUCT_CATEGORY_MODULE_PINS:217,SHOPPING_SHOP_SEARCH_MODULE_PINS:208,RECENTLY_VIEWED_ORGANIC_MODULE_PINS:201,RECENTLY_SAVED_ORGANIC_MODULE_PINS:202,UNAUTH_KLP_INTERESTS:235};function i(e){return e&&l[e]}},406400(e,n,a){a.d(n,{A:()=>P,Z:()=>b});var l=a(335831),i=a(859471),t=a(979638),r=a(836737),s=a(625277),o=a(396901),d=a(538346),u=a(180836),c=a(107639),p=a(376195),g=a(491149),m=a(297178),h=a(233944),_=a(488265),y=a(562615);function f({breadcrumb:e,isLastBreadcrumb:n,viewType:a,isHubPage:t}){(0,i.useEffect)(()=>{(0,l.A)("Breadcrumb","/app/www/LoggedOutProduct/duplo/Breadcrumbs/Breadcrumb.tsx")},[]);let s=(0,h.A)(),o=(0,_.A)(),d=(0,m.A)({skipExpActivation:!0});return(0,y.jsx)(r.az,{color:n?"secondary":void 0,"data-test-id":"breadcrumb",display:"inlineBlock",paddingX:n?2:void 0,paddingY:n?1:void 0,rounding:200,children:(0,y.jsxs)(r.so,{alignItems:"center",justifyContent:"start",children:[(0,y.jsx)(r.N_,{href:e.url??"",onClick:({dangerouslyDisableOnNavigation:e})=>{e(),o({action:"click",item:"breadcrumb"}),s({event_type:102,component:176,element:1155,view_parameter:3713,view_type:a})},children:(0,y.jsx)(r.KJ,{color:t&&!n?"light":"default",inline:!0,overflow:"noWrap",size:"100",children:(0,y.jsx)("span",{style:{fontWeight:500},children:e.name})})}),!n&&(0,y.jsx)(r.az,{dangerouslySetInlineStyle:d?{__style:{paddingLeft:"12px",paddingRight:"8px"}}:void 0,display:"inlineBlock",paddingX:d?void 0:3,children:(0,y.jsx)(r.KJ,{color:t&&!n?"light":"default",inline:!0,size:"100",weight:d?void 0:"bold",children:(0,y.jsx)(r.In,{accessibilityLabel:"breadcrumb arrow",color:t?"light":"default",icon:"chevron-right",size:12})})})]})})}var k=a(158270);let S=`
  .article-row {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  div::-webkit-scrollbar {
    display: none;
  }
`,b=50.5;function x({direction:e,rightOverflowGradientOffset:n}){let{isDarkMode:a}=(0,s.D2)(),l=a?s.xq:"rgba(255, 255, 255, 0)",i=a?s.ee:"#fff";return(0,y.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{backgroundImage:`linear-gradient(to ${e}, ${l}, ${i})`,pointerEvents:"none",right:n?`${n}px`:void 0}},height:32,left:"left"===e,position:"absolute",right:"right"===e,width:48})}function P({breadcrumbs:e,disableOverflowGradient:n,shouldHideLazyExploreButton:a,inSeoDrawer:s,isHubPage:h,shouldLeftAlign:_,rightOverflowGradientOffset:P,contentRef:A}){(0,i.useEffect)(()=>{(0,l.A)("Breadcrumbs","/app/www/LoggedOutProduct/duplo/Breadcrumbs/Breadcrumbs.tsx")},[]);let v=(0,o.A)(),w=(0,t.zy)(),{origin:T}=(0,p._8)(),I=(0,g.M)(),E=(0,g.qJ)(),F=(0,c._N)(w),C=(0,m.A)({skipExpActivation:!0}),j=!1,K=202;(0,c.d3)(w)?K=3:(0,c.Jw)(w)?(K=442,j=!0):(0,c.L0)(w)||(0,c.GA)(w)?K=1:F&&(j=!0,K=580);let R=F?{name:v._('Watch', 'unauth.header.tabs.videos', 'label for videos root'),url:"/videos/"}:{name:v._('Explore', 'unauth.header.tabs.ideas', 'label for ideas hub'),url:"/ideas/"},L=[...F||!a?[R]:[],...j?e.slice(0,e.length-1):[...e]];return(0,y.jsxs)(r.az,{"data-test-id":"breadcrumbs",children:[(0,y.jsx)(d.A,{unsafeCSS:S}),(0,y.jsx)(u.A,{children:(0,y.jsx)(r.az,{alignItems:_?"start":"center",dangerouslySetInlineStyle:{__style:{flexDirection:_||C?void 0:"row-reverse"}},"data-test-id":"breadcrumbs-list",direction:C?void 0:"column",display:"flex",height:s?void 0:b,justifyContent:E&&!C?"center":void 0,overflow:s?void 0:"scrollX",paddingY:s?void 0:I?3:4,children:(0,y.jsxs)(r.az,{ref:A,alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:s?"8px":void 0}},display:"flex",justifyContent:s?"start":"end",margin:E||_?void 0:"auto",paddingX:s?2*!I:I?4:2,wrap:!!s||void 0,children:[!C&&!n&&(0,y.jsxs)(i.Fragment,{children:[(0,y.jsx)(x,{direction:"left"}),(0,y.jsx)(x,{direction:"right",rightOverflowGradientOffset:P})]}),L.map((e,n,a)=>(0,y.jsx)(f,{breadcrumb:e,isHubPage:h,isLastBreadcrumb:n===a.length-1,viewType:K},e.url))]})})}),(0,y.jsx)(k.A,{testId:"breadcrumbs-list-metadata",type:"application/ld+json",value:{"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:[{name:v._('Pinterest', 'unauth.header.tabs.pinterest', 'label for pinterest website'),url:""},R,...e].map((e,n)=>({"@type":"ListItem",position:n+1,name:e.name,item:`${T}${e.url??""}`}))}})]})}},60555(e,n,a){a.d(n,{A:()=>F});var l=a(859471),i=a(106386),t=a(979638),r=a(233944),s=a(14143),o=a(746743),d=a(339589),u=a(388364),c=a(396901),p=a(779685),g=a(612921),m=a(528989),h=a(488265),_=a(906494),y=a(383218),f=a(532668),k=a(604050),S=a(107639),b=a(428576),x=a(83325),P=a(785155),A=a(193481),v=a(246093),w=a(225853),T=a(840151),I=a(562615);let E=()=>{};function F({clientTrackingParams:e,experience:n,hasSaveHandoffExperience:a,isInlineSave:F,isPromoted:C,onError:j,onTouch:K,onUnsave:R,pinId:L,pinDescription:D,pinImage:z,pinnedToBoardId:O,shouldShowSavedButton:B,showSingleToast:N}){let M=(0,c.A)(),U=(0,r.A)(),V=(0,h.A)(),G=(0,i.wA)(),H=(0,t.Zp)(),W=(0,t.zy)(),{showToast:Y}=(0,_.CG)(),$=function({showSingleToast:e}){let n=(0,i.wA)(),a=(0,i.Pj)(),r=(0,t.zy)(),s=(0,_.CG)()[e?"showOneToast":"showToast"],{forceShowNavFooter:d,setForceShowNavFooter:u}=(0,b.o)(),c=(0,i.d4)(({session:e})=>e.shouldHideNavBar),p=(0,l.useCallback)((e,a,l)=>{!a&&(c&&!l&&n((0,x.bP)()),n((0,x.TO)()),d||l||u(!1)),l||s(e)},[n,d,c,u,s]);return(e,l)=>{!l&&(c&&n((0,x.iZ)()),n((0,x.ml)()),d||u(!0)),setTimeout(()=>{let n=a.getState().experiences[1000494],i=(0,o.V6)(n,{experience_id:508536})&&(0,S.dM)(r);a.getState().session.isShowingRepinConfettiAnimation?setTimeout(()=>{p(e,l)},2e3):p(e,l,i)},2500)}}({showSingleToast:N}),J=(0,T.Y)(),X=W.pathname.startsWith("/pin"),q=(0,i.d4)(({session:e})=>e.hasSavedUnauthPin),Q=(0,i.d4)(({session:e})=>e.unauthSavePinId),Z=(0,v.Eo)(),ee=Z?.pin_count,en=(0,l.useRef)(null),ea=a&&!q,el=(0,k.A)(),{checkExperiment:ei}=(0,m.A)(),et=(0,d.Hy)(),er=(0,p.A)(Z?.created_at)||(0,g.A)(Z),{isGraphQLEnabledInGeneral:es}=(0,y.aR)(),eo=e=>H(e),ed=(0,o.Ts)(),eu=(e,n)=>{J?.save(e,n)},ec=L?async()=>{F||U({event_type:102,element:11933});try{await G((0,P.A)({checkExperiment:ei,navigate:H,i18n:M,logContextEvent:U,onSuccess:()=>{n&&G(et(n.placement_id,n.experience_id)),ed("Save",{pin_id:L,is_promoted:C,pin_description:D,pin_image:z,save_type:"quicksave"}),(0,w.A)({dispatch:G,viewerUser:Z}),Z?.has_quicksave_board||G((0,A.A)(!0))},originalPinId:L,pinId:L,trackingParams:{clientTrackingParams:e,pinnedToBoardId:O},showNewUserSavetoProfileAnimation:er,showRepinConfirmation:a&&!X?()=>void 0:$,disableRepinAnimation:Q===L,pinCount:ee,pinDescription:D,pinImage:z,historyPush:eo,savePinId:J?eu:()=>{}}))}catch(e){Y(({hideToast:n})=>(0,I.jsx)(u.A,{duration:5e3,onHide:n,text:(0,s.A)(e,"message")||M._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin')})),j?.()}}:E;return((0,l.useEffect)(()=>{ea&&!en.current&&L&&!es&&(V({action:"trigger",item:"unauth-save-button-quicksave"}),U({event_type:14581}),ec(),G((0,x.WM)())),en.current=ea}),L)?el({fn:e=>{e.stopPropagation(),e.preventDefault(),K&&K(e),B?B&&R&&R(e):ec()},modalHeader:(0,f.Mm)(M)}):null}},507844(e,n,a){a.d(n,{P:()=>s});var l=a(221718),i=a(424120),t=a(503023),r=a(560257);let s=({canUpsellNativeApp:e,isAuthenticated:n})=>{let a;if(!n)return"unauthPostDownloadUpsell";if("u"<typeof window)return a;let s=(0,i.y1)().getItem(l.Vq),o=!!(s&&Date.now()-Number(s)<864e5),d=Number((0,i.y1)().getItem(l.bW)||0)>=3;if(!(0,t.A)(l.rJ)||!(0,t.A)(l.TQ))return a;let u=(0,i.y1)().getItem(l.rJ),c=Date.now()-Number(u)<r.Q?(0,i.y1)().getItem(l.TQ):0;return!e||o||d?c>=2||(a="saveSend"):a="appUpsell",a}},419226(e,n,a){function l(e){let n=Object.keys(e);return n.length>0?n.sort((n,a)=>e[a]-e[n]).slice(0,3):null}function i(e){let n=Object.values(e);return n.length>0?n.reduce((e,n)=>e+n,0):0}function t({boardIsCollaborative:e,isDownstreamPromotion:n,isPromoted:a,storyPinDataId:l,videosId:i,isEligibleForStaticImageIdeaPin:t}){return!a&&!n&&(!!i||!!l)&&(null==e||!e)&&!t}a.d(n,{MI:()=>l,QW:()=>t,nc:()=>i})},638262(e,n,a){a.d(n,{A:()=>z});var l,i,t=a(335831),r=a(859471),s=a(106386);a(825193);var o=a(979638),d=a(836737),u=a(233944),c=a(625277),p=a(904078),g=a(900565),m=a(396901),h=a(528989),_=a(376195),y=a(508765),f=a(488265),k=a(27112),S=a(41366),b=a(491149),x=a(417844),P=a(87213),A=a(246093),v=a(339589),w=a(180427),T=a(60555),I=a(562615);let E=(void 0!==l||(l=a(946309)).hash&&"8f09ec57feffa3a1b4f26c669b223c0e"!==l.hash&&console.error("The definition of 'SaveButtonPinCard_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),F=({buttonText:e,clientTrackingParams:n,color:a="red",deviceType:l,experience:i,hasQuickSave:o,hasSaveHandoffExperience:u,inline:c=!0,isLegoSaveStyle:p,onTouch:h,onUnsave:_,pinKey:y,pinnedToBoardId:f,shape:k,shouldShowSavedButton:S,to:b,viewParameter:x,viewType:P})=>{(0,r.useEffect)(()=>{(0,t.A)("SaveButton","/app/www/SaveButton.tsx")},[]);let A=(0,m.A)(),F=(0,s.wA)(),C=(0,v.Dz)();(0,r.useEffect)(()=>{i&&i.placement_id&&F(C(i.placement_id,i.experience_id))},[i,F,C]);let j=(0,g.A)(E,y)?.isPromoted,K=(0,g.A)(E,y),R=K?.imageSpec_236x?.url?{url:K.imageSpec_236x.url}:null,L=(0,T.A)({clientTrackingParams:n,experience:i,hasSaveHandoffExperience:u,isPromoted:j,onTouch:h,onUnsave:_,pinId:K?.entityId,pinDescription:K?.description??void 0,pinImage:R,pinnedToBoardId:f,shouldShowSavedButton:S}),D={accessibilityLabel:A._('Pin', 'Pin accessibility label', 'Pin accessibility label'),color:a,inline:p?void 0:c,minHeight:p?48:void 0,onTouch:o?L:h,onUnsave:o?L:_,pressState:"compress",shape:p?"pill":k,size:"lg",text:e||A._('Save', 'Auth mobile web save button for pin closeup', 'Auth mobile web save button for pin closeup'),to:b,unsaveAccessibilityLabel:A._('Saved', 'SaveButton.ExperimentalSavedButtonAccessibilityLabel', 'Accessibility label on a saved button - Pin has already been saved')},z=S?(0,I.jsx)(d.az,{role:"button",children:(0,I.jsx)(d.$n,{accessibilityLabel:D.unsaveAccessibilityLabel,fullWidth:D.inline,onClick:({event:e})=>{D.onUnsave?.(e)},selected:!0,size:D.size,text:D.text})}):(0,I.jsx)(w.l,{...D,clientTrackingParams:n,deeplinkUri:"deeplinkUri",deviceType:l,isActionButton:!0,upsellType:"save",viewParameter:x,viewType:P,children:(0,I.jsx)(d.az,{role:"button",children:(0,I.jsx)(d.$n,{accessibilityLabel:D.accessibilityLabel,color:"primary",fullWidth:D.inline,size:D.size,text:D.text})})});return(0,I.jsx)(r.Fragment,{children:(0,I.jsx)(d.az,{"data-test-id":S?"saved-button-mobile":"save-button-mobile",children:z})})};var C=a(218825),j=a(923957),K=a(119795),R=a(282395);function L({imageUrl:e,frameStyle:n}){return(0,I.jsx)(d.az,{position:"relative",children:(0,I.jsx)(d.az,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:(0,I.jsx)(d.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:"var(--sema-color-background-default)",borderStyle:"solid",borderWidth:n.borderWidth,borderRadius:n.borderRadius}},left:!0,position:"absolute",right:!0,top:!0,children:e?(0,I.jsx)(d._V,{alt:"",color:"var(--sema-color-background-secondary)",fit:"cover",naturalHeight:1,naturalWidth:1,src:e}):(0,I.jsx)(d.az,{color:"secondary"})})})})}function D({imageUrls:e}){(0,r.useEffect)(()=>{(0,t.A)("UnauthMobileSocialBoardEducation","/app/www/unauth/UnauthMobileSocialBoardEducation.tsx")},[]);let n=(0,m.A)(),{isRTL:a}=(0,_._8)(),l=(0,u.A)(),i=(0,R.AT)(),{inviterAvatarUrl:s="",inviterName:o=""}=i?.data?.upsellData||{},[c="",p="",g=""]=e;(0,K.A)(()=>{l({event_type:18031,component:15530})});let h=n._('Ideas we love', 'unauthMobileSocialBoardEducation.boardRep.text', 'Text for the board rep section'),y=(n._('Save and collaborate with {{ name }} on new finds', 'unauth.splp.upsell.group_board.popover.text', 'Upsell text near save button prompting user to save idea and collaborate with the inviter. name: inviter\'s name')).replace("{{ name }}",o);return(0,I.jsxs)(d.az,{padding:4,width:232,children:[(0,I.jsxs)(d.az,{dangerouslySetInlineStyle:{__style:{background:"var(--sema-color-background-default)"}},padding:1,rounding:400,children:[(0,I.jsxs)(d.az,{display:"flex",overflow:"hidden",rounding:400,children:[(0,I.jsx)(d.VP,{span:8,children:(0,I.jsxs)(d.az,{position:"relative",children:[(0,I.jsx)(L,{frameStyle:{borderRadius:"16px 0 0 16px",borderWidth:"1px 0 1px 1px"},imageUrl:c}),s&&(0,I.jsx)(d.az,{left:!a,marginStart:2,marginTop:2,position:"absolute",right:a,top:!0,children:(0,I.jsx)(j.eu,{name:o,outline:!0,size:"sm",src:s})})]})}),(0,I.jsx)(d.VP,{span:4,children:[{key:"top",url:p},{key:"bottom",url:g}].map(({key:e,url:n})=>{let l;return l="top"===e?a?"16px 0 0 0":"0 16px 0 0":a?"0 0 0 16px":"0 0 16px 0",(0,I.jsx)(L,{frameStyle:{borderRadius:l,borderWidth:"top"===e?1:"0 1px 1px 1px"},imageUrl:n},e)})})]}),(0,I.jsx)(d.az,{marginBottom:1,marginEnd:2,marginStart:2,marginTop:2,children:(0,I.jsx)(d.KJ,{size:"300",children:h})})]}),(0,I.jsx)(d.az,{marginTop:4,children:(0,I.jsx)(d.KJ,{color:"inverse",size:"300",children:y})})]})}function z({buttonText:e,clientTrackingParams:n,pinKey:l,pinnedToBoardId:v,shouldShowSavedButton:w,to:T,onTouch:E,...j}){(0,r.useEffect)(()=>{(0,t.A)("SaveButtonContainer","/app/www/SaveButtonContainer.tsx")},[]);let K=(0,m.A)(),R=(0,o.Zp)(),L=(0,o.zy)(),z=(0,f.A)(),O=(0,u.A)(),B=(0,b.Ay)(),{checkExperiment:N}=(0,h.A)(),{isAuthenticated:M}=(0,_._8)(),U=(0,A.Eo)(),V=M?U:null,G=(0,k.A)(),H=(0,r.useRef)(null),W=(0,r.useRef)(null),Y=(0,r.useRef)(!1),{isDarkMode:$}=(0,c.D2)(),J=(({i18n:e,isSaved:n,isDarkMode:a})=>n?{buttonText:e._('Saved', 'closeup.savedButton.text', 'Auth mobile web save button for pin closeup when user has saved the Pin being viewed'),color:a?"darkGray":"white",inline:!1}:Object.freeze({}))({i18n:K,isSaved:w,isDarkMode:$}),X=function({elementRef:e}){let[n,a]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let n=e.current;if(!n)return a(!1),()=>{};let l=()=>{a((e=>{let n=e;for(;n;){if("0"===window.getComputedStyle(n).opacity)return!1;n=n.parentElement}return!0})(n))};return l(),window.addEventListener("resize",l),window.addEventListener("scroll",l,{passive:!0}),()=>{window.removeEventListener("resize",l),window.removeEventListener("scroll",l)}},[e]),n}({elementRef:H});(0,y.A)(V?{name:"UserResource",options:{user_id:V.id,field_set_key:"save_behavior"}}:null);let q=V?.save_behavior,Q=(0,s.d4)(({session:e})=>e.unauthSavePinId),Z=M&&!!Q,ee=(0,p.A)({id:1000152}),en=q===x.W.SAVE_TO_PROFILE||Z,ea=(void 0!==i||(i=a(541791)).hash&&"4d623c22364b81b06b09589bd0dea905"!==i.hash&&console.error("The definition of 'SaveButtonContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),el=(0,g.A)(ea,l),ei=(0,s.d4)(e=>e.upsell.showSaveEducationPopover),et=new d.K5([P.f]),er=()=>{O({event_type:18032,component:15530}),(N("migration_upsell_manager_redux").anyEnabled||N("migration_upsell_manager_redux_mweb").anyEnabled||N("migration_upsell_manager_redux_mweb_global").anyEnabled)&&G((0,S.eM)())},es=e=>{e.preventDefault(),O({event_type:18033,component:15530}),z({action:"click",item:"unauth-social-group-board-education-popover"}),er();let n=new URLSearchParams(L.search);n.set(C.h3,C.mz.SPLP_GROUP_BOARD_EDUCATION),R({pathname:"/signup/step1/",search:`?${n.toString()}`},{state:{next:L.pathname,..."object"==typeof L.state?L.state:{}}})};return(0,r.useEffect)(()=>{let e=H.current;if(!e)return()=>{};let n=e=>{let n=!!W.current;Y.current=n,n&&e.stopPropagation()};return e.addEventListener("pointerdown",n),()=>{e.removeEventListener("pointerdown",n)}},[]),(0,I.jsxs)(d.az,{ref:H,"data-test-id":"standard-save-button",children:[(0,I.jsx)(F,{clientTrackingParams:n,deviceType:B,experience:ee,hasQuickSave:en,hasSaveHandoffExperience:Z,pinKey:el,pinnedToBoardId:v,shouldShowSavedButton:w,to:T,...j,...J,isLegoSaveStyle:!0,onTouch:e=>{Y.current?es(e):E?.(e)}}),ei&&H.current&&X&&(0,I.jsx)(d.fT,{anchor:H.current,idealDirection:"up",onDismiss:er,size:"flexible",zIndex:et,children:(0,I.jsx)(d.Rp,{ref:W,onMouseDown:({event:e})=>es(e),children:(0,I.jsx)(D,{imageUrls:[el?.images_236x?.url??""]})})})]})}},560257(e,n,a){a.d(n,{Q:()=>l});let l=864e5},380534(e,n,a){a.d(n,{A:()=>s});var l=a(335831),i=a(859471),t=a(836737),r=a(562615);class s extends i.Component{componentDidMount(){(0,l.A)("ScrollTo","/app/www/ScrollTo.tsx"),this.anchor&&(!this.props.hash||this.props.hash&&`#${this.props.hash}`===window.location.hash)&&(this.anchor.scrollIntoView(),this.props.offset&&window.scrollBy(0,this.props.offset))}render(){let e=this.props.children?i.Children.only(this.props.children):null;return(0,r.jsx)(t.az,{ref:e=>{this.anchor=e},children:e})}}},911499(e,n,a){a.d(n,{A:()=>u});var l=a(335831),i=a(859471),t=a(775816),r=a(526302),s=a(219278),o=a(562615);class d extends i.Component{componentDidMount(){let{setCurrentPageData:e,viewData:n,viewParameter:a,viewType:l}=this.props;e({viewData:n,viewParameter:a,viewType:l})}componentDidUpdate(e){let{setCurrentPageData:n,viewData:a,viewParameter:l,viewType:i}=this.props;l===e.viewParameter&&i===e.viewType&&(0,r.Ay)(a,e.viewData)||n({viewData:a,viewParameter:l,viewType:i})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:n,component:a,objectIdStr:l,viewData:i,viewParameter:t,viewType:r,clientTrackingParams:d}=this.props;return(0,o.jsx)(s.A,{auxData:e,clientTrackingParams:d,component:a,objectIdStr:l,viewData:i,viewParameter:t,viewType:r,children:n})}}function u(e){(0,i.useEffect)(()=>{(0,l.A)("PageView","/app/www/analytics/PageView.tsx")},[]);let{setViewContextData:n,clearViewContextData:a}=(0,t.x)();return(0,o.jsx)(d,{...e,clearCurrentPageData:a,setCurrentPageData:n})}},219278(e,n,a){a.d(n,{A:()=>r});var l=a(859471),i=a(233944),t=a(798923);function r(e){let{auxData:n,clientTrackingParams:a,children:r,component:s,element:o,objectIdStr:d,viewData:u,viewParameter:c,viewType:p}=e,g=(0,i.A)(),m=JSON.stringify(n),h=JSON.stringify(u);return(0,l.useEffect)(()=>{(({viewType:e,viewParameter:n,viewData:a,auxData:l,objectIdStr:i,component:r,clientTrackingParams:s,element:o},d)=>{let u,c=Object.keys(u={event_type:13,view_type:e,view_parameter:n,view_data:a,aux_data:l,object_id_str:i,component:r,clientTrackingParams:s,element:o}).reduce((e,n)=>(void 0===u[n]&&delete e[n],e),{...u});-1===Object.keys(c).indexOf("view_type")&&(0,t.PM)("mweb.logging.null_view_type"),d(c)})(e,g)},[g,m,a,s,o,d,h,c,p]),l.Children.only(r)}},705965(e,n,a){a.d(n,{A:()=>t});var l=a(925097),i=a(473478);function t({action:e,collaboratedByMe:n,collaboratorPermissions:a,ownerId:t}){let r=(0,l.A)(t),s=(0,i.A)(n);return r||s&&!!a?.includes(e)}},855286(e,n,a){a.d(n,{A:()=>u});var l=a(335831),i=a(859471),t=a(836737),r=a(376195),s=a(510149),o=a(297178),d=a(562615);function u({children:e,isImagePinForUnauthOnTablet:n}){(0,i.useEffect)(()=>{(0,l.A)("ClickthroughOverlay","/app/www/closeup/duplo/ClickthroughOverlay.tsx")},[]);let{isAuthenticated:a}=(0,r._8)(),u=(0,o.A)({skipExpActivation:!0});return(0,d.jsxs)(t.az,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:n?"40vw":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!n||void 0,top:!0,zIndex:a?void 0:s.nS,children:[(0,d.jsx)(t.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:u?void 0:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:40,position:"absolute",right:!0,top:!0}),e]})}},487337(e,n,a){a.d(n,{A:()=>A});var l=a(335831),i=a(859471),t=a(836737),r=a(254762),s=a(396901),o=a(812404),d=a(120093),u=a(28204),c=a(376195),p=a(835122),g=a(491149),m=a(119795),h=a(855286),_=a(805790),y=a(297178),f=a(743753),k=a(892804),S=a(408146),b=a(316669),x=a(522572),P=a(562615);let A=e=>{(0,i.useEffect)(()=>{(0,l.A)("CloseupImage","/app/www/closeup/duplo/CloseupImage.tsx")},[]);let n=(0,s.A)(),{alt:a,clickthroughOverlayOptions:A,color:v,isFlashlightPage:w,naturalHeight:T,naturalWidth:I,placeholder:E,pwtElementTimingId:F,setShowClickthroughOverlay:C,showSpinner:j,src:K,stickyFooter:R,isEligibleForPdp:L}=e,D=(0,o.J)(),z=(0,b.AJ)(),O=(0,c.jS)(),B=!D,{isAuthenticated:N}=(0,c._8)(),M=(0,g.Ay)(),U=(0,i.useRef)(null),V=(0,y.A)({skipExpActivation:!0}),G=(0,i.useRef)(!1),{mWebCloseupRedesignEnabled:H}=(0,r.A)(),[W,Y]=(0,i.useState)(!B||!!K&&!!E&&E===K),$=(0,i.useRef)(""),J=()=>{(0,u.Uy)("PinPageMainImageRendered"),D&&(0,k.N9)("earlyHydrationDebug.pwtConstraint.pinPageMainImageRendered",performance.now(),{tags:(0,S.d5)({handlerId:z,requestContext:O})}),G.current||((0,k.GV)("mweb.closeup.closeup_image.load"),G.current=!0)};(0,i.useEffect)(()=>{let e=new Image;e.onload=()=>Y(!0),e.src=K},[]);let X=(0,i.useRef)((0,f.R)()?.setHasScrolledPastMainContent);(0,i.useEffect)(()=>{let e=(0,p.A)(()=>{if(U.current){let n=window.scrollY>U.current.offsetTop+U.current.offsetHeight;X.current?.(n),n&&window.removeEventListener("scroll",e)}},10);window.addEventListener("scroll",e)},[]),(0,m.A)(()=>{K||(0,k.GV)("mweb.closeup.closeup_image.no_image_url"),(0===T||0===I)&&(0,k.GV)("mweb.closeup.closeup_image.invalid_dimensions")});let q=!w&&"tablet"===M,Q=B?(0,P.jsx)(d.A,{alt:a,color:v,elementTiming:F,naturalHeight:T,naturalWidth:I,onLoad:J,src:E}):null,Z=508;return(w||"phone"===M||V)&&(Z="100%"),(0,P.jsx)(x.A,{metricName:"CloseupImage",children:(0,P.jsxs)(t.az,{ref:U,"data-test-id":"pin-closeup-image",maxHeight:"100%",maxWidth:"tablet"===M?600:void 0,minHeight:"auto",overflow:R?void 0:"hidden",position:"relative",rounding:600*(!w&&"phone"!==M),width:Z,children:[!N&&A&&(0,P.jsx)(h.A,{isImagePinForUnauthOnTablet:!1,children:(0,P.jsx)(_.A,{inviterFirstName:$.current,isEligibleForPdp:L,setShowClickthroughOverlay:C})}),Q&&(q?(0,P.jsx)(t.az,{overflow:"hidden",rounding:600,children:Q}):Q),(0,P.jsx)(t.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:+!!W,transition:W&&"desktop"!==M?"opacity .5s ease-in-out":void 0,backgroundColor:v}},left:!0,overflow:q?"hidden":void 0,position:B?"absolute":"relative",right:!0,rounding:q?600:500,top:!0,children:B?(0,P.jsx)(t._V,{alt:a,fetchPriority:H?"high":void 0,naturalHeight:T,naturalWidth:I,role:H?"img":void 0,src:K}):(0,P.jsx)(d.A,{alt:a,color:v,elementTiming:F,fetchPriority:"high",naturalHeight:T,naturalWidth:I,onLoad:J,src:K})}),j&&(0,P.jsx)(t.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:+!W,transition:W?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!W&&(0,P.jsx)(t.so,{alignItems:"center",justifyContent:"start",children:(0,P.jsx)(t.y$,{accessibilityLabel:n._('Loading image', 'Loading higher resolution image', 'Loading higher resolution image'),show:!0})})}),R]})})}},134176(e,n,a){a.d(n,{$:()=>l,W:()=>i});let{Provider:l,get:i}=(0,a(767216).A)("CloseupPageContext")},80094(e,n,a){a.d(n,{A:()=>r});var l=a(836737),i=a(396901),t=a(562615);function r(){let e=(0,i.A)();return(0,t.jsx)(l.az,{padding:5,children:(0,t.jsx)(l.y$,{accessibilityLabel:e._('Loading pin data', 'closeupPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})})}},339931(e,n,a){a.d(n,{A:()=>r});var l=a(836737),i=a(625277),t=a(562615);let r=function({marginStart:e=2}){let{isDarkMode:n}=(0,i.D2)();return(0,t.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{marginLeft:`${-(4*e)}px`,marginRight:`${-(4*e)}px`,backgroundColor:n?i.zC:"#E9E9E9"}},height:1})}},749950(e,n,a){a.d(n,{C:()=>l});function l(e){return"IsStoryPin"===e.kind}},742030(e,n,a){a.d(n,{A:()=>x});var l,i=a(335831),t=a(859471),r=a(106386);a(825193);var s=a(836737),o=a(254762),d=a(233944),u=a(923957),c=a(900565),p=a(396901),g=a(863812),m=a(410899),h=a(376195),_=a(341839),y=a(232225),f=a(792041),k=a(246093),S=a(562615);let b=(void 0!==l||(l=a(627416)).hash&&"90a35c5ea8a0b7c83b6783a5e41eaa0d"!==l.hash&&console.error("The definition of 'OfficialUserAttribution_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function x({hideFollowButton:e,hideFollowerCount:n,viewerId:a,justifyContent:l,avatarSize:x,seeMoreButton:P,pinKey:A,clientTrackingParams:v}){(0,t.useEffect)(()=>{(0,i.A)("OfficialUserAttribution","/app/www/closeup/duplo/OfficialUserAttribution.tsx")},[]);let w=(0,p.A)(),{isAuthenticated:T}=(0,h._8)(),I=(0,c.A)(b,A),E=I?.closeupUnifiedAttribution,F=(0,k.DF)()(E?.entityId??""),C=F?.avatar_color_index,j=(0,r.wA)(),K=(0,t.useRef)(null),R=(0,d.A)(),{mWebCloseupRedesignEnabled:L}=(0,o.A)(),[D,z]=(0,t.useState)(F?F.explicitly_followed_by_me:E?.followedByMe);if(!E)return null;let O=I?.entityId,B=I?.imageSignature,N=E.entityId,M=E.imageMediumUrl,U=E.followerCount,V=E.username??"",G=!!E.isAdsOnlyProfile,H=E.adsOnlyProfileSite,W=G&&H,Y=W&&H?H:`/${!T?V.toLowerCase():V}/`;return(0,S.jsxs)(s.az,{alignItems:"center","data-test-id":"official-user-attribution",direction:"row",display:"flex",justifyContent:L?"start":l||"center",children:[(0,S.jsx)(s.so,{alignItems:"stretch",flex:"shrink",height:L?16:void 0,justifyContent:"start",width:L?16:void 0,children:(0,S.jsx)(s.$A,{dataTestId:"creator-profile-link",href:Y,onTap:()=>{W&&R({event_type:9371,element:13382,component:123})},rel:W?"nofollow":"none",target:W?"blank":null,children:(0,S.jsx)(u.eu,{color:C,name:V??"",size:L?"fit":x||"md",src:M??""})})}),(0,S.jsxs)(s.az,{"data-test-id":"follower-count",direction:"column",display:"flex",justifyContent:"center",marginStart:1,minWidth:0,children:[(0,S.jsx)(_.A,{fontWeight:"bold",pinKey:I,size:L?"100":void 0}),!n&&T&&!L&&(0,S.jsx)(s.KJ,{size:"200",children:(0,m.vQ)(w.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', U ?? 0, 'closeup.officialUser.followerCount', 'Official user\'s follower count followerCount: number of followers'),{followerCount:(0,S.jsx)(g.A,{shortform:!0,shortformMaximumFractionDigits:1,value:U??0},U)})})]}),P,!e&&!L&&(0,S.jsx)(t.Fragment,{children:(0,S.jsx)(s.az,{ref:K,"data-test-id":"follow-button-box",marginStart:"auto",children:(0,S.jsx)(y.A,{auxData:O&&B?{pin_id:O,image_signature:B}:void 0,clientTrackingParams:v,followEventType:45,id:N,isFollowed:D,isUserFollowButton:!0,isUserMe:a===N,onFollow:e=>{z(!0),j((0,f.e6)(e,null,v))},onUnfollow:e=>{z(!1),j((0,f.X2)(e,null,v))},pinKey:I,shouldUseLegoColors:!0,size:"lg",unfollowEventType:46,viewType:3})})})]})}},341839(e,n,a){a.d(n,{A:()=>g});var l,i=a(335831),t=a(859471);a(825193);var r=a(836737),s=a(233944),o=a(900565),d=a(376195),u=a(945725),c=a(562615);let p=(void 0!==l||(l=a(363531)).hash&&"302280af43fdbc94ba2060410a37e076"!==l.hash&&console.error("The definition of 'OfficialUserAttributionText_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function g({getDisplayName:e,fontWeight:n="normal",onMouseDown:a,pinKey:l,size:g}){(0,t.useEffect)(()=>{(0,i.A)("OfficialUserAttributionText","/app/www/closeup/duplo/OfficialUserAttributionText.tsx")},[]);let m=(0,s.A)(),{isAuthenticated:h}=(0,d._8)(),_=(0,o.A)(p,l),y=_?.closeupUnifiedAttribution;if(!y)return null;let{adsOnlyProfileSite:f}=y,k=y.fullName??"",S=y.isAdsOnlyProfile??!1,b=!!y.isVerifiedMerchant,x=y.username??"",P=y.verifiedIdentity?.verified,A=b||P,v=S&&f,w=v&&f?f:`/${!h?x.toLowerCase():x}/`,T=e?e(k):k;return(0,c.jsx)(r.$A,{href:w,onMouseDown:()=>{a&&a()},onTap:()=>{v&&m({event_type:9371,element:13382,component:123})},rel:v?"nofollow":"none",target:v?"blank":null,children:(0,c.jsxs)(r.so,{alignItems:"center",direction:"row",justifyContent:"start",minWidth:0,children:[(0,c.jsx)(r.az,{"data-test-id":"creator-profile-name",children:(0,c.jsx)(r.KJ,{lineClamp:1,size:g,weight:n,children:T})}),A&&(0,c.jsx)(r.az,{marginEnd:2,marginStart:1,children:(0,c.jsx)(u.A,{isVerifiedMerchant:b,showVerifiedIdentity:!b,size:"sm"})})]})})}},884483(e,n,a){a.d(n,{JY:()=>t,MN:()=>s,XV:()=>i,mk:()=>r});var l=a(836737);let i=3,t=new l.rk(2),r=new l.rk(1),s=new l.rk(4)},414171(e,n,a){a.d(n,{A:()=>y});var l=a(335831),i=a(859471),t=a(836737),r=a(739543),s=a(294198),o=a(528989),d=a(220527),u=a(410143),c=a(488265),p=a(27112),g=a(41366),m=a(719997),h=a(297178),_=a(562615);function y(e){(0,i.useEffect)(()=>{(0,l.A)("UnauthCommentComposer","/app/www/closeup/duplo/UnauthCommentComposer.tsx")},[]);let{clientTrackingParams:n,viewParameter:a,isStoryPin:y}=e,f=(0,u.A)(),k=(0,c.A)(),{checkExperiment:S}=(0,o.A)(),b=(0,p.A)(),x=S("migration_upsell_manager_redux").anyEnabled||S("migration_upsell_manager_redux_dweb").anyEnabled||S("migration_upsell_manager_redux_mweb").anyEnabled||S("migration_upsell_manager_redux_dweb_global").anyEnabled||S("migration_upsell_manager_redux_mweb_global").anyEnabled,P=(0,h.A)({skipExpActivation:!0});return(0,_.jsx)(d.A,{fallback:null,children:(0,_.jsx)(t.az,{bottom:!!P,color:P?"default":void 0,dangerouslySetInlineStyle:P?{__style:{position:"sticky"}}:void 0,"data-test-id":"unauth-comment-composer",marginStart:y?void 0:2,marginTop:P?void 0:4,paddingY:P?4:void 0,children:(0,_.jsx)(s.A,{clientTrackingParams:n,commentWarningModalState:r.YM.NONE,dismissCommentWarningModal:()=>{},objectType:m.S.pin,onEnter:()=>{k({action:"click",item:y?"comment-compose-story-pin":"comment-compose-pin",within:"comment-composer-modal"}),x?b((0,g.pV)()):f({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_comment_composer",desktopOptions:{modalType:"login",modalOptions:{source:"commentComposer",container:"closeup"}}})},statusType:"textStaticDisplay",viewParameter:a})})})}},450338(e,n,a){a.d(n,{A:()=>l});function l({canUpsellNativeApp:e,downloadImageUrl:n,pinId:a,shouldShowReactions:l,isAuthenticated:i,shouldShowVisitInMoreOptions:t}){return a?{react:l,editPin:i,downloadImageUrl:n,openInApp:e,reportPin:i,sendPin:l,visitPin:t,hidePin:i,seeLess:i,seeMore:i}:Object.freeze({})}},157525(e,n,a){a.d(n,{w:()=>l});let l="imgViewer"},389692(e,n,a){a.d(n,{A:()=>i});var l=a(450338);function i(e,n,a){let i=(0,l.A)(e);return!!(i.react||i.openInApp||i.sendPin||i.downloadImageUrl||i.reportPin||i.visitPin||n||a||i.hidePin)}},805790(e,n,a){a.d(n,{A:()=>h});var l=a(335831),i=a(859471),t=a(836737),r=a(396901),s=a(528989),o=a(410143),d=a(798923),u=a(488265),c=a(27112),p=a(41366),g=a(491149),m=a(562615);function h({setShowClickthroughOverlay:e,isEligibleForPdp:n,isEligibleForDesktopSocialInviteOverlay:a,inviterFirstName:h}){(0,i.useEffect)(()=>{(0,l.A)("UnauthClickthroughOverlayContent","/app/www/closeup/duplo/unauth/UnauthClickthroughOverlayContent.tsx")},[]);let _=(0,r.A)(),y=(0,u.A)(),f=(0,o.A)(),k=(0,i.useRef)(null),S="desktop"===(0,g.Ay)(),b=h&&a,x=b&&(_._('Sign up to join {{ name }} on Pinterest', 'pin.closeup.wash.desktop.shareNotification', 'Clickthrough overlay for desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",h),P=_._('Click to make the most out of this idea with a free account', 'web.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account'),A=_._('Tap to make the most out of this idea with a free account', 'mweb.unauth.plp.clickable_wash.header', 'Pin clickable wash header text'),v=(0,c.A)(),{checkExperiment:w}=(0,s.A)();return(0,m.jsx)(t.Rp,{onMouseEnter:()=>{b&&(0,d.PM)("dweb.main_pin.social.wash.view"),(0,d.PM)("dweb.pin.wash.view")},onMouseLeave:()=>{b?y({action:"dismiss",item:"main-pin-social-wash"}):y({action:"dismiss",item:"main-pin-wash"})},onTap:({event:e})=>{!S||(e.preventDefault(),y({action:"click",item:"pin-image"}),a&&h&&y({action:"click",item:"main-pin-social-wash"}),y({action:"click",item:"main-pin-image-signup-modal"}),w("migration_upsell_manager_redux").anyEnabled||w("migration_upsell_manager_redux_dweb").anyEnabled||w("migration_upsell_manager_redux_mweb").anyEnabled||w("migration_upsell_manager_redux_dweb_global").anyEnabled||w("migration_upsell_manager_redux_mweb_global").anyEnabled?v((0,p.Dx)()):f({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}}),n&&y({action:"click",item:"pdp-pin-image"}))},children:(0,m.jsxs)(t.az,{zIndex:new t.rk(2),children:[(0,m.jsx)(t.az,{ref:k,alignItems:"center",bottom:!0,"data-test-id":"main-pin-hover-overlay",direction:"column",display:"flex",height:"100%",justifyContent:a?"center":void 0,left:!0,position:"absolute",right:!0,top:!0,width:"100%",children:(0,m.jsx)(t.az,{alignItems:"center",direction:"column",display:"flex",maxWidth:240,paddingY:10,children:(0,m.jsx)(t.az,{marginTop:8,children:(0,m.jsx)(t._Y,{align:"center",color:"light",size:b?"600":"400",children:S?x||P:A})})})}),!S&&(0,m.jsx)(t.az,{marginEnd:4,marginTop:4,position:"absolute",right:!0,top:!0,children:(0,m.jsx)(t.K0,{accessibilityLabel:_._('Close pin clickable wash', 'mweb.unauth.plp.clickable_wash.close_button', 'Close button'),icon:"close",iconColor:"inverse",onClick:({event:n})=>{n.stopPropagation(),e&&(e(!1),y({action:"dismiss",item:"main-pin-hover-overlay"}))},size:"md"})})]})})}},668528(e,n,a){a.d(n,{A:()=>m});var l,i=a(335831),t=a(859471),r=a(825193),s=a(979638),o=a(220527),d=a(558267),u=a(863153),c=a(562615);let p=(0,t.lazy)(()=>a.e("37625").then(a.bind(a,999008))),g=(void 0!==l||(l=a(448344)).hash&&"dd5623c0c7ff2bcd752285dfed3e4aa7"!==l.hash&&console.error("The definition of 'UnauthContextMenuController_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function m({graphqlRef:e,children:n,onSendButtonClick:a}){(0,t.useEffect)(()=>{(0,i.A)("UnauthContextMenuController","/app/www/closeup/duplo/unauth/UnauthContextMenuController.tsx")},[]);let l=(0,r.useFragment)(g,e)??null,[m,h]=(0,t.useState)(null),[_,y]=(0,t.useState)(""),[f,k]=(0,t.useState)("default"),{pathname:S}=(0,s.zy)(),b=!!m,x=(0,t.useMemo)(()=>({modal:{isShown:b},showUnauthContextMenu:({location:e,pinId:n,vaseSection:a,showSaveCount:l,seoDrawerOptions:i,seoDrawerModalBody:t,isUnauthAmazonModuleAd:r})=>{h({vaseSection:a,seoDrawerOptions:i,showSaveCount:l,seoDrawerModalBody:t,isUnauthAmazonModuleAd:r}),y(n),k(e)},dismissMobileUnauthContextMenu:()=>h(null)}),[b]);(0,t.useEffect)(()=>{h(null)},[S]);let P=(0,u.HR)()(_),A=l||(P?{type:"Legacy",data:P}:null);return(0,c.jsxs)(d.c,{value:x,children:[n,m&&A&&(0,c.jsx)(o.A,{children:(0,c.jsx)(p,{isUnauthAmazonModuleAd:m.isUnauthAmazonModuleAd,location:f||"default",onDismiss:x.dismissMobileUnauthContextMenu,onSendButtonClick:a,pinKey:A,seoDrawerModalBody:m.seoDrawerModalBody,seoDrawerOptions:m.seoDrawerOptions,showSaveCount:m.showSaveCount,vaseSection:m.vaseSection})})]})}},733615(e,n,a){a.d(n,{A:()=>t});var l=a(528989),i=a(376195);function t(e,n){let{countryFromIp:a,country:t}=(0,i._8)(),{checkExperiment:r}=(0,l.A)();if(n||!e||!["US"].includes(a||t))return!1;let{anyEnabled:s}=r("mweb_closeup_unauth_asr_module");return s}},266853(e,n,a){a.d(n,{A:()=>s,b:()=>r});var l=a(859471),i=a(562615);let t=(0,l.createContext)({isScrolledToPins:!1,scrollToPins:()=>{}});function r({children:e}){let[n,a]=(0,l.useState)(!1),r=(0,l.useMemo)(()=>({isScrolledToPins:n,scrollToPins:a}),[n,a]);return(0,i.jsx)(t,{value:r,children:e})}let s=()=>(0,l.use)(t)},31832(e,n,a){a.d(n,{A:()=>t});var l=a(528989),i=a(376195);function t(e){let{locale:n,isAuthenticated:a}=(0,i._8)();return function({translatedText:e,locale:n,experimentsClient:a,isAuthenticated:l}){if(l||!e)return!1;let{group:i}=a.checkExperiment("unauth_web_closeup_text_machine_translation",{dangerouslySkipActivation:!0}),t=!!i;return n.startsWith("en")&&t?!!(a.checkExperiment("unauth_web_closeup_text_machine_translation").group||"".startsWith("enabled_en")):!!t&&!!(a.checkExperiment("unauth_web_closeup_text_machine_translation").group||"".startsWith("enabled_intl"))}({translatedText:e,locale:n,experimentsClient:(0,l.A)(),isAuthenticated:a})}},615817(e,n,a){a.d(n,{A:()=>t,L:()=>l});let{Provider:l,get:i}=(0,a(767216).A)("MoreLikeThisContext"),t=i},44209(e,n,a){a.r(n),a.d(n,{default:()=>f});var l,i=a(335831),t=a(859471);a(224989);var r=a(979638),s=a(836737),o=a(233944),d=a(47998),u=a(900565),c=a(396901),p=a(488265),g=a(119795),m=a(134176),h=a(979352),_=a(562615);let y=(void 0!==l||(l=a(627169)).hash&&"3b1611a36d8ea47eb0a01cf95557a10c"!==l.hash&&console.error("The definition of 'CommentThreadModalEntryPoint_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function f({pinKey:e,padding:n,withReactions:a=!0,commentsEnabled:l=!1,onCommentButtonClick:f}){(0,t.useEffect)(()=>{(0,i.A)("CommentThreadModalEntryPoint","/app/www/comments/CommentThreadModalEntryPoint.tsx")},[]);let k=(0,u.A)(y,e),S=(0,c.A)(),b=(0,o.A)(),{comment_id:x}=(0,r.g)(),{unauthCommentPinId:P}=(0,h.m)(),{isStoryPin:A,commentModalConfig:{isCommentThreadModalOpen:v,setIsCommentThreadModalOpen:w}}=(0,m.W)(),{isAuth:T}=(0,d.A)(),I=(0,p.A)(),E=S._('comments', 'closeup.storyPin.actionBar.commentThread', 'Comments entry point');return(0,g.A)(()=>{!v&&(x||T&&P&&k&&P===k.entityId)&&w(!0)}),(0,_.jsx)(t.Fragment,{children:(0,_.jsx)(s.az,{"data-test-id":"comment-button",children:(0,_.jsx)(s.K0,{accessibilityLabel:E,disabled:!l,icon:T&&a?"speech-heart":"speech",onClick:()=>{T||I({action:"click",item:"comment-button"}),b({event_type:102,element:2,view_type:3}),b({component:A?13801:13464,element:A?10944:2,event_type:10554,view_type:A?1:3}),w(!0),f&&f()},padding:n,size:"lg"})})})}},779068(e,n,a){a.d(n,{DQ:()=>i,UT:()=>t,bG:()=>l,nl:()=>s,yv:()=>r});let l="OPEN_UNAUTH",i=["US","CA","NZ","AU"],t=new Set(["GB","IE"]),r=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),s=new Set(["BR","MX","AR","CL","CO","PE"])},899773(e,n,a){a.d(n,{A:()=>i});var l=a(892804);let i=e=>{(0,l.GV)(`closeup.image.clicked.${e}`,{sampleRate:1,tags:{platform:"mobile"}})}},370377(e,n,a){function l(e){return!!e?.is_matured_new_user}a.d(n,{KW:()=>l,b1:()=>i,sk:()=>r,uo:()=>t});let i=e=>!!e&&2===e.login_state,t=e=>!!(e&&e.match(/\/static\/images\/user\/default_\d+\.png$/))||!!(e&&e.match(/\/images\/user\/default_\d+\.png$/));function r(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},146905(e,n,a){a.d(n,{A:()=>l});let l=({name:e,width:n,height:a})=>{let l=`${n}${"number"==typeof n?"px":""}`,i=`${a}${"number"==typeof a?"px":""}`,t="number"==typeof n?n:236;return`
.${e} {
  -webkit-animation-duration: 1s;
  -webkit-animation-fill-mode: forwards;
  -webkit-animation-iteration-count: infinite;
  -webkit-animation-name: ${e}_placeHolderShimmer;
  -webkit-animation-timing-function: linear;
  border-radius: 16px;
  background: #f6f7f9;
  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);
  background-repeat: no-repeat;
  background-size: ${t} ${i};
  width: ${l};
  height: ${i};
}

@keyframes ${e}_placeHolderShimmer{
  0% {
      background-position: -${t}px 0;
  }
  100% {
      background-position: ${t}px 0;
  }
}
`}},532668(e,n,a){a.d(n,{Bw:()=>r,Em:()=>y,GX:()=>u,Mm:()=>d,NR:()=>h,R2:()=>m,b9:()=>s,kH:()=>_,rQ:()=>p,rS:()=>g,uj:()=>c,zh:()=>o});var l=a(653052),i=a(767482),t=a(218781);let r=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),s=({firstName:e,i18n:n})=>e?(n._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):n._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),o=e=>{let n=(0,t.A)(e.search).board_url;if(n){let e=(0,i.A)(n),a=(0,l.A)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${a}`:`${e}?${a}`}return e.pathname},d=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),u=e=>{let n=e.pathname;if(n.startsWith("/pin/")){let e=n.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return n},c=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),p=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),g=e=>{let n=e.pathname;if(n.startsWith("/pin/")){let e=n.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return n},m=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),h=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),_=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),y=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},890779(e,n,a){a.d(n,{A:()=>tU});var l,i,t,r,s,o,d,u,c,p,g,m,h,_,y,f,k,S,b,x,P,A,v,w,T,I,E,F,C,j,K,R,L,D,z,O,B,N,M,U,V,G,H=a(335831),W=a(859471),Y=a(106386),$=a(224989),J=a(979638),X=a(836737),q=a(740441),Q=a(221718),Z=a(385279),ee=a(822819),en=a(15176),ea=a(904078),el=a(47998),ei=a(900565),et=a(740685),er=a(812404),es=a(536059),eo=a(659630),ed=a(528989),eu=a(589914),ec=a(28204),ep=a(376195),eg=a(645176),em=a(167284),eh=a(218781),e_=a(597600),ey=a(491149),ef=a(119795),ek=a(954225),eS=a(975227),eb=a(825193),ex=a(254762),eP=a(230122),eA=a(233944),ev=a(396275),ew=a(923957),eT=a(396901),eI=a(410899),eE=a(488265),eF=a(404310),eC=a(282395),ej=a(562615);function eK({onDismiss:e}){(0,W.useEffect)(()=>{(0,H.A)("SocialUnauthPinLandingReplyBannerUpsell","/app/packages/desktopLoginModal/SocialUnauthPinLandingReplyBannerUpsell.tsx")},[]);let n=(0,eT.A)(),a=(0,Z.C)(),l=(0,eC.ik)(),i=l?.data?.popoverData,{expGroup:t=""}=i||{},{trackConversionUpsell:r}=(0,eF.A)(),s=(0,eE.A)();if("enabled_banner_reply"!==t||!i)return null;let{inviterAvatarUrl:o,inviterName:d}=i;return(0,ej.jsx)(X.so,{justifyContent:"center",children:(0,ej.jsx)(X.az,{marginBottom:3,maxWidth:960,paddingX:5,children:(0,ej.jsxs)(X.az,{alignItems:"center",borderColor:"decorative",borderWidth:"sm",display:"flex",paddingX:3,paddingY:2,rounding:400,children:[(0,ej.jsx)(X.az,{marginEnd:2,children:(0,ej.jsx)(ew.eu,{name:d,outline:!0,size:"md",src:o})}),(0,ej.jsxs)(X.az,{direction:"column",display:"flex",flex:"grow",marginEnd:16,children:[(0,ej.jsx)(X.az,{children:(0,ej.jsx)(X._Y,{size:"300",children:(0,eI.vQ)(n._('Let {{ name }} know what you think', 'dweb.unauth.bottom_right_upsell.banner_reply.title', 'Prompt shown on the bottom right upsell for unauth social pin landing page. name: sender name'),{name:d})})}),(0,ej.jsx)(X.az,{children:(0,ej.jsx)(X.KJ,{children:n._('Sign up for Pinterest to continue the conversation and share your own ideas', 'dweb.unauth.bottom_right_upsell.banner_reply.text', 'Prompt shown on the bottom right upsell for unauth social pin landing page.')})})]}),(0,ej.jsx)(X.az,{marginEnd:3,children:(0,ej.jsx)(X.$n,{color:"primary",onClick:()=>{r({element:13506,eventType:14689}),s({action:"click",item:"unauth-social-reply-button",within:"unauth-social-reply"}),a?.showDesktopSignupModal({...ev.VD,signupFlow:{type:"login"}})},text:n._('Reply', 'unauth.dweb.banner_upsell.reply.button.text', 'Text on the upsell banner to encourage the user to reply to the sender')})}),(0,ej.jsx)(X.az,{children:(0,ej.jsx)(X.K0,{accessibilityLabel:n._('Dismiss banner', 'unauth.dweb.banner_upsell.dismiss.button.text', 'Text on the upsell banner to dismiss the banner'),icon:"close",onClick:e,size:"sm"})})]})})})}var eR=a(731634),eL=a(746743),eD=a(339589),ez=a(620044),eO=a(367943),eB=a(669897),eN=a(20711);let eM=function(e,n){if("Legacy"===n.kind){let{data:a}=(0,eg.A)(n.resourceRef),{selections:l}=(0,eB.getRequest)(e).fragment;return null==a?null:(0,eN.A)(l,{kind:"LegacyData",singularLegacyData:a,refetchInfo:{refetch:()=>{}},paginationInfo:null})}return(0,$.usePreloadedQuery)(e,n.preloadedQuery)};var eU=a(973586),eV=a(838917),eG=a(503378),eH=a(779685),eW=a(612921),eY=a(107639),e$=a(257866),eJ=a(853519),eX=a(286067),eq=a(811157),eQ=a(667644),eZ=a(220527),e0=a(688094),e1=a(410143),e2=a(835122),e3=a(798923),e5=a(984967),e6=a(41366),e4=a(27112);function e8(e,n){let[a,l]=(0,W.useState)(e),i=(0,W.useRef)(new Map),t=(0,W.useRef)(n),r=t.current;if(r!==n){t.current=n,i.current.set(r,a);let s=i.current.get(n)??e;return l(s),[s,l]}return[a,l]}var e9=a(885743),e7=a(83451),ne=a(417844),nn=a(705965),na=a(673785),nl=a(699415),ni=a(180836),nt=a(297178);let nr=()=>{let e=(0,nt.A)({skipExpActivation:!0});return{boxShadow:e?void 0:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32,border:e?"1px solid #CDCDCD":void 0,zIndex:e?1:void 0,overflow:"clip"}};var ns=a(477327),no=a(937071);let nd=({children:e,mainImageEventHandlers:n})=>{let a=(0,ey.Ay)();return n?(0,ej.jsx)(ns.A,{onMouseEnter:n?.onMouseEnter,onMouseLeave:n?.onMouseLeave,onTouch:n?.onTouch,pressState:"desktop"===a?"none":"compress",rounding:200,children:e}):e},nu=({detail:e,inPinCardOverflowExp:n,isShowingBreadcrumbs:a,media:l,sideBySideOptions:{mainImageEventHandlers:i}})=>{let t=(0,ey.Ay)(),{isRTL:r}=(0,ep._8)(),s=(0,nt.A)({skipExpActivation:!0}),o=nr(),d=(0,W.useRef)(null),[u,c]=(0,W.useState)(),p="desktop"===t?8:"u">typeof window&&window.screen&&window.screen.width<750?0:54,g="phone"!==t?508:"47vw";s&&(g="100%");let m="phone"!==t?0:"desktop"===t?8:10;return(0,W.useEffect)(()=>{if(d.current){let{clientHeight:e}=d.current;c(e)}},[d]),(0,ej.jsx)(X.so,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{...o,paddingLeft:s?r?"16px":void 0:"20px",paddingRight:s?r?void 0:"16px":"20px"}},maxWidth:s?void 0:1059,paddingY:s?void 0:5,width:s?"100%":void 0,children:(0,ej.jsxs)(X.az,{dangerouslySetInlineStyle:"phone"!==t?{__style:{justifyContent:"center"}}:{__style:{marginTop:54*!a,marginRight:p,marginBottom:54,marginLeft:p,boxShadow:"desktop"===t?void 0:"0px 0px 8px rgba(0, 0, 0, 0.1)"}},display:"flex",minHeight:s?"100%":"40vh",overflow:"phone"!==t?void 0:"hidden",position:"relative",rounding:"desktop"===t?void 0:600,children:[(0,ej.jsx)(X.az,{ref:d,display:"phone"!==t?"block":"flex",height:"100%",justifyContent:"center",overflow:"phone"!==t?void 0:"hidden",paddingX:m,rounding:"desktop"!==t||s?void 0:800,width:g,children:(0,ej.jsx)(nd,{mainImageEventHandlers:i,children:l})}),(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{containerType:s?"size":void 0}},direction:"column",display:"flex",height:n&&!s?u:void 0,justifyContent:"between",minHeight:s?"fit-content":void 0,overflow:n?"auto":void 0,paddingX:m,width:g,children:e})]})})})},nc=({closeupPinActionBar:e,detail:n,inPinCardOverflowExp:a,isShowingBreadcrumbs:l,media:i,sideBySideOptions:t})=>{let r;(0,W.useEffect)(()=>{(0,H.A)("CloseupBodyLayout","/app/www/closeup/duplo/CloseupBodyLayout.tsx")},[]);let s=(0,ey.Ay)(),{storyPinHeight:o}=(0,no.A)();return r="desktop"===s?void 0:"phone"===s?600:"number"==typeof o?9*o/16:508,t?(0,ej.jsx)(X.az,{"data-test-id":"closeup-body-landscape",marginEnd:"auto",marginStart:"auto",children:(0,ej.jsx)(q.A,{id:"CloseupBodySideBySideLayout",children:(0,ej.jsx)(nu,{detail:n,inPinCardOverflowExp:a,isShowingBreadcrumbs:l,media:i,sideBySideOptions:t})})}):(0,ej.jsxs)(X.az,{"data-test-id":"closeup-body-portrait",marginEnd:"auto",marginStart:"auto",maxWidth:r,children:[l||"desktop"===s?(0,ej.jsx)(ni.A,{roundedForLargeDevice:!0,children:i}):i,e,n]})};var np=a(772590),ng=a(390384),nm=a(229926),nh=a(294265),n_=a(803448),ny=a(625277),nf=a(134775),nk=a(504001),nS=a(616275),nb=a(572187);let nx=(void 0!==l||(l=a(203640)).hash&&"2e464db34007ea4c1c0752bf62bbb542"!==l.hash&&console.error("The definition of 'VaseFullBleedModal_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function nP({pinKey:e,onClose:n,zIndex:a}){(0,W.useEffect)(()=>{(0,H.A)("VaseFullBleedModal","/app/packages/VaseFullBleedModal.tsx")},[]);let l=(0,ei.A)(nx,e),i=l.board?.name,t=l.board?.privacy==="protected"?null:l.board?.url,r=(0,eT.A)(),s=(0,eE.A)(),o=t&&i?{boardName:i,boardUrl:t,username:t.split("/")[1]}:null;return(0,ef.A)(()=>{l.description?.trim()||o||(0,e3.PM)("lop.dweb.plp.more_info.empty")}),(0,ej.jsx)("div",{"data-test-id":"more-information-modal",onClick:()=>{s({action:"click",item:"close-more-information-modal"}),n()},style:{backgroundColor:"rgba(85, 85, 85, 0.9)",color:"#333",height:"100vh",left:0,position:"fixed",top:0,WebkitFontSmoothing:"antialiased",width:"100vw",zIndex:a||2},children:(0,ej.jsxs)(X.az,{as:"section",color:"default",dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, calc(-50% - 32px))",paddingBottom:"10px"}},onClick:e=>e.stopPropagation(),position:"absolute",rounding:200,width:414,children:[(0,ej.jsxs)(X.az,{dangerouslySetInlineStyle:{__style:{borderBottom:"solid 1px #efefef",padding:"0 24px"}},display:"flex",height:60,justifyContent:"end",children:[(0,ej.jsx)("div",{onClick:()=>n(),onKeyUp:()=>n(),role:"button",style:{cursor:"pointer",fill:"#767676",marginTop:"20px"},tabIndex:0,children:(0,ej.jsx)(X.az,{"data-test-id":"close-more-information-modal",children:(0,ej.jsx)(X.In,{accessibilityLabel:r._('Cancel', 'close modal icon', 'close modal icon'),icon:"close",inline:!0,size:18})})}),(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{fontSize:"21px",fontWeight:"bold",left:"50%",transform:"translateX(-50%)"}},marginTop:5,position:"absolute",children:r._('More information', 'more information label', 'more information label')})]}),(0,ej.jsxs)(X.az,{dangerouslySetInlineStyle:{__style:{maxHeight:"calc(60vh - 60px)",overflowY:"auto",padding:"0 24px 24px 24px"}},children:[!!l.description&&(0,ej.jsx)("h2",{style:{fontSize:"16px",marginTop:"15px"},children:l.description}),!!o&&(0,ej.jsx)(X.az,{marginTop:3,children:(0,ej.jsx)(X.KJ,{children:(0,eI.vQ)(r._('Find this Pin and more on {{ board_link }} by {{ profile_link }}.', 'Link to pin\'s board and board\'s owner', 'Link to pin\'s board and board\'s owner'),{board_link:(0,ej.jsx)(X.KJ,{inline:!0,weight:"bold",children:(0,ej.jsx)(X.N_,{display:"inlineBlock",href:o.boardUrl,onClick:()=>(0,e3.uq)("click_vase_modal_board",!0),underline:"hover",children:o.boardName},"board-link")}),profile_link:(0,ej.jsx)(X.KJ,{inline:!0,weight:"bold",children:(0,ej.jsx)(X.N_,{display:"inlineBlock",href:`/${o.username}/`,onClick:()=>(0,e3.uq)("click_vase_modal_profile",!0),underline:"hover",children:l.pinner?.fullName||o.username},"profile-link")})})})})]})]})})}var nA=a(353461);let nv=(void 0!==i||(i=a(448253)).hash&&"91cf1b742f42f2f57e9e89991ad2eebd"!==i.hash&&console.error("The definition of 'CloseupDescriptionMediaAttribution_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function nw({pin:e}){let n=(0,eT.A)(),{author:a,authorUrl:l,ccUrl:i,link:t,mediaType:r,providerName:s}=e.mediaAttribution||{},o=!!s&&"Unknown"!==s,d={author:(0,ej.jsx)(X.az,{display:"inlineBlock",children:(0,ej.jsx)(X.N_,{href:l||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,ej.jsx)(X.KJ,{inline:!0,size:"200",weight:"bold",children:a})},"author")},"author"),provider:o?(0,ej.jsx)(X.az,{display:"inlineBlock",marginEnd:1,children:(0,ej.jsx)(X.N_,{href:t||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"always",children:(0,ej.jsx)(X.KJ,{inline:!0,size:"200",weight:"bold",children:s})},"provider")},"provider"):null},u=o?n._('from {{ provider }}', 'closeup.description.imageSourceWithProvider', 'Image source attribution without author on pin closeup'):null;return a&&(u="VIDEO"===r?o?n._('Video by {{ author }} on {{ provider }}', 'closeup.description.videoSourceWithProvider', 'Video source attribution on pin closeup'):n._('Video by {{ author }}', 'closeup.description.videoSource', 'Video source attribution without provider on pin closeup'):o?n._('Photo by {{ author }} on {{ provider }}', 'closeup.description.photoSourceWithProvider', 'Photo source attribution on pin closeup'):n._('Photo by {{ author }}', 'closeup.description.photoSource', 'Photo source attribution without provider on pin closeup')),(0,ej.jsx)(X.az,{"data-test-id":"media-attribution",display:"inlineBlock",children:(0,ej.jsxs)(X.KJ,{inline:!0,size:"200",children:[!!u&&(0,eI.vQ)(u,d),i&&(0,ej.jsx)(X.N_,{href:i,onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,ej.jsx)(X.KJ,{inline:!0,size:"200",children:n._('(cc)', 'creative commons link text', 'creative commons link text')})},"link")]})})}function nT({pinKey:e}){(0,W.useEffect)(()=>{(0,H.A)("CloseupDescriptionMediaAttribution","/app/www/closeup/duplo/CloseupDescriptionMediaAttribution.tsx")},[]);let n=(0,ei.A)(nv,e);return n&&(0,ej.jsx)(nw,{pin:n})}let nI=(void 0!==t||(t=a(744309)).hash&&"5dff28be2de95106e382c42d78ad1833"!==t.hash&&console.error("The definition of 'CloseupDescriptionPhotoAttribution_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function nE({pin:e}){let n=(0,eT.A)(),{authorUrl:a,authorName:l,url:i,providerName:t,ccUrl:r}=e.attribution||{},s=e.attribution?.embed?.src,{type:o,src:d,subtype:u}=e.embed||{},c=!!t&&"Unknown"!==t,p={author:(0,ej.jsx)(X.az,{display:"inlineBlock",children:(0,ej.jsx)(X.N_,{href:a||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,ej.jsx)(X.KJ,{inline:!0,size:"200",weight:"bold",children:l})},"author")},"author"),provider:c?(0,ej.jsx)(X.az,{display:"inlineBlock",marginEnd:1,children:(0,ej.jsx)(X.N_,{href:i||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"always",children:(0,ej.jsx)(X.KJ,{inline:!0,size:"200",weight:"bold",children:t})},"provider")},"provider"):null},g=c?n._('from {{ provider }}', 'closeup.description.imageSourceWithProvider', 'Image source attribution without author on pin closeup'):null;return l&&(g=(d||s)&&"gif"!==o&&"pinstory"!==u?c?n._('Video by {{ author }} on {{ provider }}', 'closeup.description.videoSourceWithProvider', 'Video source attribution on pin closeup'):n._('Video by {{ author }}', 'closeup.description.videoSource', 'Video source attribution without provider on pin closeup'):c?n._('Photo by {{ author }} on {{ provider }}', 'closeup.description.photoSourceWithProvider', 'Photo source attribution on pin closeup'):n._('Photo by {{ author }}', 'closeup.description.photoSource', 'Photo source attribution without provider on pin closeup')),(0,ej.jsx)(X.az,{"data-test-id":"photo-attribution",display:"inlineBlock",children:(0,ej.jsxs)(X.KJ,{inline:!0,size:"200",children:[!!g&&(0,eI.vQ)(g,p),r&&(0,ej.jsx)(X.N_,{href:r,onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,ej.jsx)(X.KJ,{inline:!0,size:"200",children:n._('(cc)', 'creative commons link text', 'creative commons link text')})},"link")]})})}function nF({pinKey:e}){(0,W.useEffect)(()=>{(0,H.A)("CloseupDescriptionPhotoAttribution","/app/www/closeup/duplo/CloseupDescriptionPhotoAttribution.tsx")},[]);let n=(0,ei.A)(nI,e);return n&&(0,ej.jsx)(nE,{pin:n})}var nC=a(416497),nj=a(971253),nK=a(524451),nR=a(208762),nL=a(892804);let nD=(void 0!==r||(r=a(980455)).hash&&"b4f48330d3cfef3a6198d0d824c5d6d5"!==r.hash&&console.error("The definition of 'CloseupDescriptionText_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),nz=(void 0!==s||(s=a(229648)).hash&&"f37e1b73e206db5c55cd60f9da135e1e"!==s.hash&&console.error("The definition of 'CloseupDescriptionTextContent_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function nO({instagramPostLink:e,text:n,expandedText:a,setExpandedText:l,pinKey:i}){let t=(0,ei.A)(nz,i),{isAuthenticated:r,isBot:s}=(0,ep._8)(),o=(0,ey.Ay)(),d=(0,eE.A)(),{isDarkMode:u}=(0,ny.D2)(),{closeupWithinMasonryEnabled:c,peekCloseupEnabled:p}=(0,nR._G)(),{mWebCloseupRedesignEnabled:g,mWebCloseupRedesignExpGroup:m}=(0,ex.A)(),h=(0,W.useCallback)(()=>{a||r||((0,e3.uq)("click_open_description"),d({action:"click",item:"more-description"})),l(!a),g&&(0,nL.GV)("mweb.closeup.description.toggle",{tags:{in_experiment:g,exp_group:m??"none"}})},[a,r,d,l,g,m]);return s?(0,ej.jsx)(X.KJ,{inline:!0,children:(0,nj.A)({closeupWithinMasonryEnabled:c,peekCloseupEnabled:p,text:n})}):"desktop"!==o?(0,ej.jsx)(nK.A,{description:n,handleToggle:h,instagramPostLink:e,isExpanded:a,maxHeight:g?23:22,pinKey:t,Wrapper:({children:e})=>(0,ej.jsx)("h2",{style:{fontSize:"14px",wordWrap:"break-word",textAlign:"start",marginBottom:g?"4px":void 0,marginTop:g?"4px":void 0},children:e})}):(0,ej.jsxs)(nC.A,{isDarkMode:u,children:[(0,nj.A)({text:n}),e]})}function nB({instagramPostLink:e,photoAttribution:n,text:a,expandedText:l,setExpandedText:i,additionalNote:t="",pinKey:r}){(0,W.useEffect)(()=>{(0,H.A)("CloseupDescriptionText","/app/www/closeup/duplo/CloseupDescriptionText.tsx")},[]);let s=(0,ei.A)(nD,r),o=(0,ey.Ay)(),d=(0,eE.A)(),u=a?`${a}

${t}`:t;return a=t?u:a,(0,ej.jsxs)(X.az,{dangerouslySetInlineStyle:{__style:t?{textAlign:"phone"===o?"start":void 0,whiteSpace:"pre-line"}:{textAlign:"phone"===o?"start":void 0}},"data-test-id":"CloseupDescriptionContainer",maxWidth:"100%",children:[n,a&&(0,ej.jsx)(X.az,{"data-test-id":"main-pin-description-text",children:(0,ej.jsx)(X.Rp,{onTap:()=>{d({action:"click",item:"main-pin-description-text"})},children:(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},children:(0,ej.jsx)(nO,{expandedText:l,instagramPostLink:e,pinKey:s,setExpandedText:i,text:a})})})})]})}var nN=a(31832);let nM=(void 0!==o||(o=a(672412)).hash&&"27b9d263a6be0490f4e228b3a3144e28"!==o.hash&&console.error("The definition of 'CloseupDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function nU({instagramPostLink:e,pinKey:n,expandedText:a,setExpandedText:l}){let i;(0,W.useEffect)(()=>{(0,H.A)("CloseupDescription","/app/www/closeup/duplo/CloseupDescription.tsx")},[]);let t=(0,eT.A)(),{isAuthenticated:r,locale:s}=(0,ep._8)(),o=(0,ei.A)(nM,n),{closeupUnifiedDescription:d}=o?.translations||{closeupUnifiedDescription:""},u=(0,nN.A)(d);if(!o)return null;let{closeupUnifiedDescription:c,unauthOnPageDescription:p}=o,g=o.richMetadata?.article?.datePublished??"",m=!!o.attribution,h=!!o.mediaAttribution,_=o.pinAdditionalNote||"",y=g&&new Date(g),f=null;u&&(f=d);let k=f||p,S=r?c?.trim():k,b=y&&((e,n)=>{if(e){let n=e.getTime();return new Date().getTime()-n<=63072e6}return!1})(y,0)&&S?(0,eI.vQ)(t._('{{ pinDescription }} Published on {{ date }}', 'closeup.details.descirptionWithPublishedDate', 'Pin description with publish date'),{date:function(e,n){try{return new Intl.DateTimeFormat(n,{month:"long",day:"numeric",year:"numeric",calendar:"gregory"}).format(e)}catch(n){return e?e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate():""}}(y,s),pinDescription:S}).join(""):S;return(m||h)&&(i=(0,eI.vQ)(S?"{{ credit }}   ":"{{ credit }}",{credit:h?(0,ej.jsx)(nT,{pinKey:o},"article-pin"):(0,ej.jsx)(nF,{pinKey:o},"article-pin"),descriptionToDisplay:b})),(0,ej.jsx)(nB,{additionalNote:_,expandedText:a,instagramPostLink:e,photoAttribution:i,pinKey:o,setExpandedText:l,text:S})}var nV=a(48480),nG=a(510149),nH=a(339931);let nW=(void 0!==d||(d=a(986353)).hash&&"66ce59eb9fa2a37bf75972a3f30769af"!==d.hash&&console.error("The definition of 'CloseupDetailsBasicsLayout_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d);function nY({pinKey:e}){(0,W.useEffect)(()=>{(0,H.A)("CloseupDetailsBasicsLayout","/app/www/closeup/duplo/CloseupDetailsBasicsLayout.tsx")},[]);let n=(0,eT.A)(),a=(0,ei.A)(nW,e),l=a.storyPinData?.metadata?.basics,i=l?.listBlocks,t=a.storyPinData?.metadata?.templateType,r=new Map([[null,n._('Notes', 'Closeup.CloseupDetailsBasicsLayout.notesLayoutTitle', 'Label for button to expand notes Story Pin details')],[1,n._('Ingredients', 'Closeup.CloseupDetailsBasicsLayout.recipeLayoutTitle', 'Label for button to expand ingredients Story Pin details')],[2,n._('Supplies', 'Closeup.CloseupDetailsBasicsLayout.diyHomeLayoutTitle', 'Label for button to expand supplies Story Pin details')]]);return(0,ej.jsx)(X.so,{alignItems:"stretch",direction:"column",justifyContent:"center",children:i&&i.length>0&&(0,ej.jsxs)(X.az,{dangerouslySetInlineStyle:{__style:{rowGap:16}},direction:"column",display:"flex",marginTop:4,children:[(0,ej.jsx)(nH.A,{marginStart:2+nG.qn}),(0,ej.jsx)(nV.A,{heading:r.get(t)||"",children:(0,ej.jsx)(({children:e})=>(0,ej.jsx)(X.so,{direction:"column",gap:4,children:e}),{children:i.map((e,n)=>{let a=`${e.heading||"empty"}-${n}-listHeading`;return(0,ej.jsxs)(W.Fragment,{children:[(0,ej.jsx)(X.az,{}),(0,ej.jsx)(X.KJ,{size:"300",weight:"bold",children:e.heading}),(e.blocks??[]).map((n,a)=>{let l=`item-${a}-${e.heading||"empty"}`;return(0,ej.jsx)(W.Fragment,{children:(0,ej.jsx)(X.az,{marginBottom:1,children:(0,ej.jsxs)(X.KJ,{size:"300",children:[" ",n.text?n.text:""]})})},l)})]},a)})})})]})})}var n$=a(288441),nJ=a(744582);let nX=(void 0!==u||(u=a(500125)).hash&&"b6ff0bacc7b201a7809b5103754b885e"!==u.hash&&console.error("The definition of 'CloseupPinLinkCredits_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),u);function nq({onClickTitleOrDomain:e,nativeCreatorVerifiedWebsite:n,pinKey:a}){(0,W.useEffect)(()=>{(0,H.A)("CloseupPinLinkCredits","/app/www/closeup/duplo/CloseupPinLinkCredits.tsx")},[]);let{isAuthenticated:l}=(0,ep._8)(),i=(0,n$.A)(),t=(0,eT.A)(),r=(0,eE.A)(),s=(0,eA.A)(),o=(0,ei.A)(nX,a),d=o?.domain,u=o?.richMetadata?.products?.[0],c=o?.richSummary?.products?.[0],p=o?.imageSignature,g=!!u?.offerSummary,m=u?.name,h=!!u?.offerSummary,_=c?.name,y=(0,eo.k3)(d)?(0,nJ._g)({i18n:t,hasRichMetadataProductOfferSummary:g,richMetadataProductName:m,richSummaryProductName:_,hasRichSummaryProductOfferSummary:h}):void 0,f=n||d,k=n?new URL(n).hostname:d,S=(0,eo.k3)(f);return(0,ej.jsx)(X.so,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:(0,eI.vQ)(t._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,ej.jsx)(X.az,{display:"inlineBlock",children:(0,ej.jsx)(X.KJ,{inline:!0,size:"300",children:y})},"pinCreditsPrefix"),pinCredit:S?(0,ej.jsx)(X.az,{"data-test-id":"pin-domain-link",display:"inlineBlock",marginStart:+!!y,maxWidth:"60vw",children:(0,ej.jsx)(X.Rp,{onTap:({event:a})=>{l||s({event_type:102,element:162,component:4,aux_data:{is_claimed_domain:!!n}}),a.preventDefault(),a.stopPropagation(),r({action:"click",item:"pin-domain-link"}),l||((0,e3.uq)("click_pin_closeup_link_clickthrough"),i({imageSignature:p,pinId:o?.entityId??"",domain:f,link:f,source:n$.O.PIN_DOMAIN_LINK})),e()},tapStyle:"compress",children:(0,ej.jsx)(X.KJ,{lineClamp:1,size:"300",children:(0,ej.jsx)("span",{style:{textDecoration:"underline"},children:k})},"pinLinkDomain")})},"pinCredits"):""})})}var nQ=a(959484),nZ=a(246093),n0=a(380534);let n1=({children:e,handleTap:n})=>n?(0,ej.jsx)(ns.A,{onTouch:n,pressState:"compress",children:e}):e,n2=(void 0!==c||(c=a(141688)).hash&&"5a2bf83c3b936ae5d462a5ccf3103923"!==c.hash&&console.error("The definition of 'CloseupTitle_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),c);function n3({onClick:e,hasLink:n,forceSmallerHeading:a,textAlign:l,pinKey:i,lineClamp:t,size:r}){(0,W.useEffect)(()=>{(0,H.A)("CloseupTitle","/app/www/closeup/duplo/CloseupTitle.tsx")},[]);let s=(0,ei.A)(n2,i),o=(0,ey.Ay)(),{isAuthenticated:d,isBot:u}=(0,ep._8)(),c=(0,nZ.Eo)(),p=(0,eE.A)(),g=(0,eH.A)(c?.created_at)&&!c?.is_matured_new_user,{gridTitle:m,isGoLinkless:h,seoNoindexReason:_,storyPinDataId:y}=s,f=s.pinJoin?.visualAnnotation||void 0,k=s.title,S=s.richMetadata?.title??"",b=s.richSummary?.displayName??"",x=s.storyPinData?.metadata?.pinTitle,{unauthOnPageTitle:P}=s,A=(0,nQ.rD)({pinTitle:k,gridTitle:m,richSummaryDisplayName:b,richMetadataTitle:S,storyPinDataId:y,storyPinDataMetadataPinTitle:x,pinJoinVisualAnnotation:f,seoNoindexReason:_,shouldUseSimplifiedTitle:!d}),{closeupUnifiedTitle:v}=s.translations||{closeupUnifiedTitle:""},w=(0,nN.A)(v),T=null;w&&(T=v);let I=!d&&(T||P)||A;return(0,ej.jsx)(n0.A,{hash:"details",offset:-64,children:(0,ej.jsx)(X.so,{alignItems:"desktop"===o?"start":"center",direction:"column",justifyContent:"center",children:(0,ej.jsx)(X.az,{alignSelf:"start","data-test-id":"pinTitle",maxWidth:"100%",children:(0,ej.jsx)(n1,{handleTap:"desktop"!==o&&n&&!h?n=>{n.preventDefault(),n.stopPropagation(),p({action:"click",item:"pin-title",within:"pin-image"}),d||(0,e3.uq)("unauth_click_pin_closeup_title"),e()}:null,children:(0,ej.jsx)(X._Y,{accessibilityLevel:1,align:l||"start",lineClamp:u?void 0:t,overflow:"breakWord",size:r||(a||g?"400":"600"),children:I})})})})})}var n5=a(749950),n6=a(742030),n4=a(884483),n8=a(201045),n9=a(383218);let n7=(void 0!==p||(p=a(290890)).hash&&"2ed8f79733cbeedba9e8a7ed03435228"!==p.hash&&console.error("The definition of 'PinActionBarVisitButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),p),ae=({actionButtonText:e,clickthroughInterstitialExperience:n,fullWidth:a,isDesktop:l,nativeCreatorVerifiedWebsite:i,onClick:t,pinKey:r,unauthPdp:s})=>{(0,W.useEffect)(()=>{(0,H.A)("PinActionBarVisitButton","/app/www/closeup/duplo/PinActionBarVisitButton.tsx")},[]);let o=(0,eA.A)(),d=(0,ei.A)(n7,r),u=(0,n8.A)({clickthroughInterstitialExperience:n,pinKey:d,nativeCreatorVerifiedWebsite:i}),c=(0,eE.A)(),{logStat:p}=(0,n9.xI)();return(0,ej.jsx)(X.az,{"data-test-id":"main-pin-section-visit-button",children:(0,ej.jsx)(X.$n,{accessibilityLabel:e,color:s&&l?"primary":"secondary",fullWidth:a||!s,onClick:()=>{c({action:"click",item:"main-pin-section-visit-button"}),o({event_type:102,element:162,component:4,aux_data:{is_claimed_domain:!!i}}),p("main_pin_clickthrough"),t&&t(),u()},size:"lg",text:e||""})})};var an=a(419371);let aa=e=>{let n=0;return e.reduce((e,a)=>{let l=a.replace(/,/g,"").split(" ");return n+l.length<=5&&(e.push(l.join(" ")),n+=l.length),e},[]).join(", ")};var al=a(165070),ai=a(733615);let at=(void 0!==g||(g=a(511092)).hash&&"24328a0181bac8efd06f2d3a98514e10"!==g.hash&&console.error("The definition of 'UnauthAmazonModule_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),g);function ar({isAuthenticated:e,isPhone:n,pinKey:l,isUnauthAmazonModuleExpanded:i,setIsUnauthAmazonModuleExpanded:t,clientTrackingParams:r}){(0,W.useEffect)(()=>{(0,H.A)("UnauthAmazonModule","/app/www/closeup/duplo/unauth/UnauthAmazonModule.tsx")},[]);let s=(0,eA.A)(),o=(0,eT.A)(),d=(0,an.A)(),u=(0,W.useRef)(null),c=(0,W.useRef)(!1),p=(0,ai.A)(n,e),g=(0,ei.A)(at,l),m=g.pinJoin?.visualAnnotation;return!function(e,n,l,i){let t=(0,eA.A)(),{checkExperiment:r}=(0,ed.A)(),{anyEnabled:s}=r("mweb_closeup_unauth_asr_module_img_signature"),{csp_nonce:o}=(0,al.k)(),d=(0,W.useRef)(!1);(0,W.useEffect)(()=>{let r=async()=>{if(!d.current)try{await Promise.all([a.e("97807").then(a.t.bind(a,490370,23)),a.e("20257").then(a.t.bind(a,543231,23))])}catch(e){return}if(window.apstag){let{apstag:e}=window,a={publisher:{id:"1cad6947-9007-486e-bc6d-7d5b461925d3"},search:n,...s&&l?{ext:{imageSignature:l}}:{}};e.init({pubID:"5180",signals:{ortb2:{site:a}}}),d.current=!0,e.queue.push(()=>{try{e?.customPlacements().hint("unauth-amazon-module-closeup","default",{nonce:o})}catch(e){}}),e.queue.push(()=>{try{e?.customPlacements().enable()}catch(e){}})}};e&&""!==n&&(r(),t({event_type:16459,view_type:3,view_parameter:4102,component:15248,aux_data:{current_page_url:window.location.href,pin_id:i}}))},[l,s,n,t,o,e,i])}(p,(0,W.useMemo)(()=>aa(m||[]),[m]),g.imageSignature||"",g.entityId),(0,W.useEffect)(()=>{let e=new ResizeObserver(n=>{if(c.current)return;let[a]=n,{width:l,height:i}=a?.contentRect??{width:0,height:0},o=l>100&&i>100;o&&(c.current=!0,t(o),s({event_type:170,view_type:3,view_parameter:4102,component:15248,clientTrackingParams:r}),e.disconnect())}),n=u.current;return n&&e.observe(n),()=>{e.disconnect()}},[r,s,t]),(0,W.useEffect)(()=>{let e=e=>{"AMAZON_CUSTOMPLACEMENT_CREATIVE_EVENT"===e.data.type&&"USER_INTERACTION"===e.data.payload.eventCategory&&"showMoreInfo"===e.data.payload.eventName&&d({pinId:g.entityId||"",location:"main-pin-more-information",isUnauthAmazonModuleAd:!0})};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[g.entityId,d]),(0,W.useEffect)(()=>{let e=()=>{setTimeout(()=>{let e=document.activeElement;e&&"IFRAME"===e.tagName&&(e.blur(),s({event_type:12,view_type:3,view_parameter:4102,component:15248,clientTrackingParams:r}))})};return window.addEventListener("blur",e),()=>{window.removeEventListener("blur",e)}},[r,s]),p&&g&&(0,ej.jsxs)(W.Fragment,{children:[i&&(0,ej.jsx)(nH.A,{}),(0,ej.jsx)(X.az,{display:"flex",justifyContent:"center",marginBottom:2*!!i,marginTop:4*!!i,children:(0,ej.jsx)(X.Rp,{ref:u,accessibilityLabel:o._('Amazon Shopping Recommendation Module', 'closeup.unauthAmazonModule', 'Accessibility label for tap area that opens Amazon Shopping Recommendation module'),children:(0,ej.jsx)(X.az,{id:"unauth-amazon-module-closeup"})})})]})}let as=(void 0!==m||(m=a(695776)).hash&&"8357577fd82491ef1bc82e88024f7e01"!==m.hash&&console.error("The definition of 'UnauthIndexExchangeContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),m),ao="unauth-index-exchange-ad-closeup";function ad({isUnauthIndexExchangeAdExpanded:e,setIsUnauthIndexExchangeAdExpanded:n,isAuthenticated:l,isPhone:i,pinKey:t,clientTrackingParams:r}){var s;let o,d,u,c;(0,W.useEffect)(()=>{(0,H.A)("UnauthIndexExchangeContainer","/app/www/closeup/duplo/unauth/UnauthIndexExchangeContainer.tsx")},[]);let p=(0,eA.A)(),g=(0,eT.A)(),m=(0,W.useRef)(null),h=(0,W.useRef)(!1),_=function(e,n){let{countryFromIp:a,country:l}=(0,ep._8)(),{checkExperiment:i}=(0,ed.A)();if(n||!e||["US","CA","MX"].includes(a||l))return!1;let{anyEnabled:t}=i("mweb_closeup_unauth_index_exchange_ad");return t}(i,l),y=(0,ei.A)(as,t),f=y?.pinJoin?.visualAnnotation,k=(0,W.useMemo)(()=>aa(f||[]),[f]);return s="1150347",o=(0,eA.A)(),d=(0,W.useRef)(!1),u=(0,W.useCallback)(e=>{if(e&&e.adId){let n=document.getElementById(e.adUnitCode);if(n){let a=document.createElement("iframe");if(a.scrolling="no",a.frameBorder="0",a.marginHeight="0",a.marginHeight="0",a.name=`prebid_ads_iframe_${e.adUnitCode}`,a.title="3rd party ad content",a.sandbox.add("allow-forms","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"),a.setAttribute("aria-label","Advertisment"),a.style.setProperty("border","0"),a.style.setProperty("margin","0"),a.style.setProperty("overflow","hidden"),n.appendChild(a),a.contentWindow&&window.pbjs){let n=a.contentWindow.document;window.pbjs.renderAd(n,e.adId);let l=n.createElement("style");l.appendChild(n.createTextNode("/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */button,hr,input{overflow:visible}progress,sub,sup{vertical-align:baseline}[type=checkbox],[type=radio],legend{box-sizing:border-box;padding:0}html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}details,main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:ButtonText dotted 1px}fieldset{padding:.35em .75em .625em}legend{color:inherit;display:table;max-width:100%;white-space:normal}textarea{overflow:auto}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}[hidden],template{display:none}")),n.head.appendChild(l),(0,nL.GV)("mweb.closeup.ix_ad.success",{sampleRate:1})}}}},[]),c=(0,W.useCallback)(()=>{window.pbjs&&window.pbjs.getHighestCpmBids().forEach(u)},[u]),(0,W.useEffect)(()=>{async function e(){if(!d.current){try{await a.e("55185").then(a.t.bind(a,901384,23)),(0,nL.GV)("mweb.closeup.ix_ad.prebid_load.success",{sampleRate:1})}catch(e){(0,nL.GV)("mweb.closeup.ix_ad.prebid_load.failure",{sampleRate:1})}if(window.pbjs){let{pbjs:e}=window;e.setConfig({debug:!0,ortb2:{site:{keywords:k,search:k}}}),e.bidderSettings={ix:{storageAllowed:!0}},d.current=!0;let n=[{code:ao,mediaTypes:{banner:{sizes:[[320,50],[300,50],[320,100]]}},bids:[{bidder:"ix",params:{siteId:s}}]}];e.que=e.que||[],e.que.push(()=>{e.addAdUnits(n),e.requestBids({timeout:8e3,bidsBackHandler:c})})}}}_&&k&&(e(),(0,nL.GV)("mweb.closeup.ix_ad.pending",{sampleRate:1}),o({event_type:16824,view_type:3,view_parameter:4117,component:15302}))},[ao,_,k,o,c,s]),(0,W.useEffect)(()=>{_&&""===k&&(0,nL.GV)("mweb.closeup.ix_ad.no_keywords",{sampleRate:.1,tags:{pinId:y?.entityId,pinAnnotations:JSON.stringify(f)}})},[_,k,f,y?.entityId]),(0,W.useEffect)(()=>{let e=new ResizeObserver(a=>{if(h.current)return;let[l]=a,{width:i,height:t}=l?.contentRect??{width:0,height:0},s=i>25&&t>25;s&&(h.current=!0,n(s),p({event_type:18,view_type:3,view_parameter:4117,component:15302,clientTrackingParams:r,object_id_str:y?.entityId}),e.disconnect())}),a=m.current;return a&&e.observe(a),()=>{e.disconnect()}},[r,p,y?.entityId,n]),(0,W.useEffect)(()=>{let e=()=>{setTimeout(()=>{let e=document.activeElement;e&&"IFRAME"===e.tagName&&(e.blur(),p({event_type:12,view_type:3,view_parameter:4117,component:15302,clientTrackingParams:r,object_id_str:y?.entityId}),p({event_type:8948,view_type:3,view_parameter:4117,component:15302,aux_data:{click_type:"clickthrough"},clientTrackingParams:r,object_id_str:y?.entityId}))})};return window.addEventListener("blur",e),()=>{window.removeEventListener("blur",e)}},[r,p,y?.entityId]),_&&(0,ej.jsxs)(W.Fragment,{children:[(0,ej.jsx)(X.az,{display:"flex",justifyContent:"center",marginBottom:2*!!e,marginTop:2*!!e,children:(0,ej.jsx)(X.Rp,{accessibilityLabel:g._('Index Exchange Ad', 'closeup.unauthIndexExchangeContainer', 'Accessibility label for tap area that opens Index Exchange ad'),children:(0,ej.jsx)(X.az,{id:ao})})}),(0,ej.jsx)(X.az,{direction:"column",display:"flex",height:34,marginBottom:-1,marginTop:2,paddingX:2,children:(0,ej.jsxs)(X.so,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[(0,ej.jsx)(X.az,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,ej.jsx)(X.az,{marginTop:1,children:(0,ej.jsx)(X.KJ,{color:"subtle",lineClamp:1,size:"100",weight:"normal",children:"Sponsored"})})}),(0,ej.jsx)(X.az,{marginTop:-1,children:(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{float:"right"}},"data-test-id":"IndexExchangeSeeMoreButton",right:!0,children:(0,ej.jsx)(X.K0,{accessibilityLabel:g._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:"default",onClick:({event:e})=>{e.stopPropagation()},padding:1,size:"md"})})})]})})]})}var au=a(414171),ac=a(543096),ap=a(384126),ag=a(589663),am=a(537065);let ah=(void 0!==h||(h=a(160307)).hash&&"e4ec29e546b4d84af24bae98169500db"!==h.hash&&console.error("The definition of 'ProductDescriptionDropdown_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),h);function a_({pinKey:e}){(0,W.useEffect)(()=>{(0,H.A)("ProductDescriptionDropdown","/app/www/shopping/duplo/ProductDescriptionDropdown.tsx")},[]);let n=(0,ei.A)(ah,e),a={commerceData:{},shouldShowComments:!1,structuredDescription:[{type:am._.PARAGRAPH,content:n.closeupUnifiedDescription}],type:"expandable"};return(0,ej.jsx)(ag.A,{pinKey:null,...a})}var ay=a(341839),af=a(142785),ak=a(278188);let aS=(void 0!==_||(_=a(396498)).hash&&"2a90bea5b9c3258c85eb6cca2267485a"!==_.hash&&console.error("The definition of 'ProductDetails_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),_);function ab({closeupCommentModule:e,isImagePinForUnauthOnTablet:n,onClickTitleOrDomain:a,inlinePinActionBar:l,pinKey:i,setIsActionBarInline:t}){let r;(0,W.useEffect)(()=>{(0,H.A)("ProductDetails","/app/www/shopping/duplo/ProductDetails.tsx")},[]);let{isAuthenticated:s}=(0,ep._8)(),{mWebCloseupRedesignEnabled:o}=(0,ex.A)(),[d,u]=(0,W.useState)(!1),c=(0,ei.A)(aS,i),p=c.pinJoin?.visualAnnotation||[],{richMetadata:g,richSummary:m}=c;g?.products?.[0]&&g.products[0].name&&g.products[0].offerSummary&&(r=g.products[0].offerSummary),!r&&m?.products?.[0]&&m.products[0].name&&m.products[0].offerSummary&&(r=m.products[0].offerSummary);let h={min_price:r?.minPrice,max_price:r?.maxPrice,price:r?.price,standard_price:r?.standardPrice,unit_price:r?.unitPrice,unit_pricing_base_units:r?.unitPricingBaseUnits,unit_pricing_unit_type:r?.unitPricingUnitType},_={rating_value:g?.aggregateRating?.ratingValue??void 0,review_count:g?.aggregateRating?.reviewCount??void 0,rating_count:g?.aggregateRating?.ratingCount??void 0},y={free_shipping_price:g?.products?.[0].shippingInfo?.freeShippingPrice,free_shipping_value:g?.products?.[0].shippingInfo?.freeShippingValue},f=c.isOosProduct||r?.inStock===!1,k=!!c.isStaleProduct,S=c.closeupUnifiedDescription??"",{gridTitle:b}=c,x=c.link,P=c.title,A=g?.title??"",v=m?.displayName??"",{storyPinDataId:w}=c,T=c.storyPinData?.metadata?.pinTitle,I=(0,nJ.p5)(x),E=S&&S.trim(),F=b||P;s||(F=(0,nQ.rD)({pinTitle:P,gridTitle:b,richSummaryDisplayName:v,richMetadataTitle:A,storyPinDataId:w,storyPinDataMetadataPinTitle:T,pinJoinVisualAnnotation:p})??null);let C=function({isImagePinForUnauthOnTablet:e}){return e?3:2}({isImagePinForUnauthOnTablet:n}),j=(0,ak.A)(c),K=(0,am.R)({components:j,pinDescription:E}),R=F&&(0,ej.jsx)(X.az,{marginBottom:o?1:2,marginTop:2*!o,children:(0,ej.jsx)(n3,{forceSmallerHeading:!n,hasLink:I,lineClamp:o&&!d?1:C,onClick:a,pinKey:c,size:o?"300":void 0,textAlign:"start"})}),L=(0,J.zy)(),D=!s&&(0,eY.iK)(L),z=!!(c.promoter&&!c.isDownstreamPromotion)&&c.promoter?.entityId===c.nativeCreator?.entityId,{sponsorship:O,storyPinData:B,affiliateLink:N,affiliateDisclosure:M}=c,U=!!N,V=!!B?.hasAffiliateProducts,G=(!!O||V||U)&&!z&&!D,Y=G&&U||e?2:4,{rating_count:$,review_count:q,rating_value:Q}=_||{},Z=!!($||q)&&!!Q,ee=(0,ej.jsx)(nh.A,{bracket:!0,count:$||q,countFormat:"number",countType:Number($||0)?"rating":"review",hideSeparationDot:!0,ratingValue:Q,shippingInfo:y&&{freeShippingPrice:y.free_shipping_price,freeShippingValue:y.free_shipping_value}}),en=(0,ej.jsx)(ag.A,{pinKey:null,structuredDescription:K,type:"expandable"}),ea=(0,ej.jsx)(nB,{additionalNote:"",expandedText:d,instagramPostLink:null,photoAttribution:null,pinKey:c,setExpandedText:u,text:E||""}),el=(0,W.useCallback)(e=>[(0,ej.jsx)(X.KJ,{inline:!0,size:o?"100":void 0,weight:"bold",children:e},"brand-name")],[o]),et=(0,ej.jsx)(X.az,{marginBottom:2*!!o,children:(0,ej.jsx)(ay.A,{getDisplayName:el,pinKey:c,size:o?"100":void 0})}),er=(0,ej.jsxs)(W.Fragment,{children:[(0,ej.jsx)(X.az,{display:"inlineBlock",marginStart:2,children:(0,ej.jsx)(X.KJ,{inline:!0,size:"200",children:""})}),(0,ej.jsx)(X.az,{display:"inlineBlock",marginStart:2,children:ee})]}),es=(0,ej.jsx)(nm.A,{colorOverride:"default",inlineComponent:o&&Z?er:null,isSoldOut:f,isStale:k,productDetails:{maxPrice:h?.max_price,minPrice:h?.min_price,price:h?.price,standardPrice:h?.standard_price,unitPrice:h?.unit_price,unitPricingBaseUnits:h?.unit_pricing_base_units,unitPricingUnitType:h?.unit_pricing_unit_type},textSize:o?"200":void 0,type:"mobileHeading"}),eo=o?3:Y;return(0,ej.jsxs)(X.az,{"data-test-id":"product-details",children:[(0,ej.jsx)(X.so,{alignItems:"start",direction:"column",justifyContent:"start",children:(0,ej.jsx)(nf.A,{onVisibilityChange:e=>{if(!(e&&e.length>0&&t))return;let{intersectionRatio:n,boundingClientRect:a}=e[0],l=a.y<0;t(1===n||l)},options:{threshold:[1]},children:n=>(0,ej.jsxs)(X.az,{ref:n,children:[(0,ej.jsxs)(X.az,{marginBottom:o&&E?0:eo,children:[o?et:null,R,es,!o&&Z?(0,ej.jsx)(X.az,{marginBottom:2,children:ee}):null,o?null:et]}),G&&(0,ej.jsx)(X.az,{marginBottom:2,children:(0,ej.jsx)(af.A,{affiliateDisclosure:M,hasAffiliateLink:U,hasAffiliateProducts:U})}),o?ea:null,e?(0,ej.jsx)(X.az,{marginBottom:3,children:e}):null]})})}),(0,ej.jsx)(X.az,{marginBottom:o?6:void 0,marginTop:o?2:void 0,children:l}),!o&&K.length>0&&(0,ej.jsx)(X.az,{marginTop:o?2:6,width:"100%",children:en})]})}var ax=a(982608),aP=a(328414),aA=a(757925),av=a(851424),aw=a(699608),aT=a(795822);let aI=(0,aT.A)(()=>a.e("9020").then(a.bind(a,660703)),void 0,e=>660703,"app-www-Reactions-ReactionAggregation",e=>["9020"]),aE=(0,aT.A)(()=>Promise.resolve().then(a.bind(a,153017)),void 0,e=>153017,"app-www-SeeMoreButton",e=>[]),aF=(0,aT.A)(()=>a.e("57734").then(a.bind(a,284812)),void 0,e=>284812,"app-www-closeup-duplo-PinRecipe",e=>["57734"]),aC=(0,aT.A)(()=>a.e("89995").then(a.bind(a,920107)),void 0,e=>920107,"app-common-react-components-GroupBoardCloseup-SavedInfo",e=>["89995"]),aj=(0,aT.A)(()=>a.e("30639").then(a.bind(a,117739)),void 0,e=>117739,"app-www-closeup-duplo-PinRecipeRating",e=>["30639"]),aK=(0,aT.A)(()=>a.e("80126").then(a.bind(a,226669)),{ssr:!1},e=>226669,void 0,void 0),aR=(0,aT.A)(()=>a.e("25051").then(a.bind(a,839702)),{ssr:!1},e=>839702,void 0,void 0),aL=(0,aT.A)(()=>a.e("28381").then(a.bind(a,402892)),{ssr:!1},e=>402892,void 0,void 0),aD=(0,aT.A)(()=>a.e("50214").then(a.bind(a,558885)),{ssr:!1},e=>558885,void 0,void 0),az=W.Fragment,aO=({children:e,excludeHeaderOffset:n})=>{(0,W.useEffect)(()=>{(0,H.A)("CloseupDetails","/app/www/closeup/duplo/CloseupDetails.tsx")},[]);let a=(0,nt.A)({skipExpActivation:!0});return"lg"===(0,ap.b)()?(0,ej.jsx)(X.ib,{top:68*!n,children:(0,ej.jsx)(X.az,{marginStart:a?2:4,children:e})}):e},aB=(void 0!==y||(y=a(971302)).hash&&"3208f75a293572ec8af155f2a06cd2ef"!==y.hash&&console.error("The definition of 'CloseupDetailsSourceUser_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),y),aN=(void 0!==f||(f=a(146904)).hash&&"d9cbb483f05a7aee13df60d7ab0a18d2"!==f.hash&&console.error("The definition of 'CloseupDetails_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),f);function aM(e){let n,a;(0,W.useEffect)(()=>{(0,H.A)("CloseupDetails","/app/www/closeup/duplo/CloseupDetails.tsx")},[]);let l=(0,eT.A)(),{inPinCardOverflowExp:i,instagramPostLink:t,isImagePinForUnauthOnTablet:r,isStoryPin:s,onClickTitleOrDomain:o,shouldShowReactions:d,shouldShowSEOPinInfo:u,showCloseupCommentModule:c,viewParameter:p,viewerId:g,pinActionBar:m,isActionBarInline:h,setIsActionBarInline:_,clientTrackingParams:y,pinKey:f,nativeCreatorVerifiedWebsite:k,unauthCloseupRedesignEnabled:S}=e,[b,x]=(0,W.useState)(!1),P=(0,ei.A)(aN,f),A=(0,ey.Ay)(),v="desktop"===A,w="phone"===A,{isAuthenticated:T,country:I,locale:E,isBot:F,regionFromIp:C}=(0,ep._8)(),[j,K]=(0,W.useState)(!1),[R,L]=(0,W.useState)(!1),D=(0,nZ.DF)(),z=(0,el.A)(),{isDarkMode:O}=(0,ny.D2)(),B=(0,np.A)(P,z),N=(0,aw.A)(P),M=(0,ei.A)(aB,P),{mWebCloseupRedesignEnabled:U}=(0,ex.A)(),{pinner:V,nativeCreator:G,originPinner:Y}=M,$=M.linkDomain?.officialUser,Q=P.promoter&&!P.isDownstreamPromotion?P.promoter:null,Z=P.richMetadata?.products?.[0],ee=P.richSummary?.products?.[0],en=(P.aggregatedPinData?.commentCount||0)+(P.aggregatedPinData?.didItData?.imagesCount||0);n=G||(M.linkDomain?$:Y||V),T||n||(n=V);let ea=!!P.closeupUnifiedAttribution;Z&&Z.name&&Z.offerSummary&&(a=Z.offerSummary),!a&&ee&&ee.name&&ee.offerSummary&&(a=ee.offerSummary);let{commentsDisabled:et,isEligibleForPdp:er,shipsToUserCountry:es}=P,eo=!!M.linkDomain,ed=!!M.nativeCreator,eu=!!M.originPinner,ec=!!a,eg=!!Q,em=!!Z?.shippingInfo,eh=!!P.richMetadata?.recipe,e_=!!P.richMetadata?.recipe?.displayCookTime||!!P.richMetadata?.recipe?.servingsSummary||!!P.richMetadata?.recipe?.aggregateRating,ef=!!n,ek=P.domain,eS=P.link,eb=a?.inStock,eP=a?.maxPrice,eA=a?.minPrice,ev=a?.unitPrice,ew=a?.unitPricingBaseUnits,eI=a?.unitPricingUnitType,eE=a&&(0,n_.A)({maxPrice:a.maxPrice,minPrice:a.minPrice,price:a.price}),eF=a?.standardPrice,eC=Q?.fullName,eK=Z?.shippingInfo?.freeShippingPrice,eL=Z?.shippingInfo?.freeShippingValue,eD=P.richMetadata?.aggregateRating?.ratingValue,ez=P.richMetadata?.aggregateRating?.ratingCount,eO=P.isEligibleForAggregatedComments,eB=n?.blockedByMe,eN=n?.explicitlyFollowedByMe,eM=n?.followerCount,eU=n?.fullName,eV=n?.entityId,eG=n?.imageLargeUrl,eW=n?.imageMediumUrl,e$=n?.imageSmallUrl,eJ=n?.isVerifiedMerchant,eX=n?.username,eq=n?.verifiedIdentity?.verified,eQ=P.storyPinData?.metadata?.basics?.keyValueBlocks,eZ=er&&T,e0=!v&&!er,e1=eZ||e0,e2=(0,J.zy)(),e3=eg&&P.promoter?.entityId===P.nativeCreator?.entityId,e5=!T&&(0,eY.iK)(e2),{sponsorship:e6,storyPinData:e4,affiliateLink:e8,affiliateDisclosure:e9}=P,e7=!!e8,ne=!!e6?.sponsor,nn=!!e4?.hasAffiliateProducts,na=(ne||nn||e7)&&!e3&&!e5,nl=c?(0,ej.jsx)(q.A,{id:"UnifiedCommentModule",children:(0,ej.jsx)(aK,{pinKey:P,viewParameter:p})}):null,ni=!v&&(!T||e1&&h||!er),nt=!T&&ec&&(er||F),nr=!!P?.isGoLinkless&&z?.isAuth&&P.originPinner?.entityId!==z.id,ns=v||F?null:(0,ej.jsx)(q.A,{id:"DuploShoppingModule",children:(0,ej.jsx)(aR,{pinKey:P,view:3,viewParameter:140})});if(T&&er)return(0,ej.jsx)(aO,{excludeHeaderOffset:i,children:(0,ej.jsxs)(X.az,{"data-test-id":"CloseupDetails",children:[(0,ej.jsx)(X.az,{marginBottom:U?2:void 0,marginTop:U?2:void 0,paddingX:2,paddingY:U?void 0:3,width:"100%",children:(0,ej.jsx)(q.A,{id:"ProductDetails",children:(0,ej.jsx)(ab,{closeupCommentModule:nl,inlinePinActionBar:ni||U?m:void 0,onClickTitleOrDomain:o,pinKey:P,setIsActionBarInline:e1&&!U?_:void 0})})}),ns]})});let no=!T&&er,{pinCreditLink:nd,pinCredit:nu}=(0,nJ.fG)({hasLinkDomain:eo,hasNativeCreator:ed,hasOriginPinner:eu,pinDomain:ek,sourceUserUsername:eX,sourceUserFullName:eU}),nc=(0,nJ.p5)(eS),nx=ef&&(!T||nu&&nd),nv=d&&!!N&&!T,nw=z?.isAuth&&(0,eH.A)(z.createdAt)&&!z.isMaturedNewUser,nT=F||!e1,nI=!v&&u&&!no&&(0,ej.jsx)(X.az,{children:(0,ej.jsx)(q.A,{id:"SeeMoreButton",children:(0,ej.jsx)(aE,{dedupeVisualAnnotations:null,fallback:(0,ej.jsx)(X.y$,{accessibilityLabel:l._('Loading See More', 'closeupDetails.SeeMoreButton.loading.label', 'Spinner indicates see more button is loading'),show:!0}),isAuth:T,isMainPin:!0,onClickTitleOrDomain:o,pinKey:P,renderOnlyHiddenSEOContent:e1&&F,shouldShowSeoDrawerNewfields:!z?.isAuth,shouldShowSeoDrawerOption:!z?.isAuth,trafficSource:"pin",viewObjectIdStr:P.entityId,viewParameter:p,viewType:3})})}),nE=ea&&(0,ej.jsx)(X.az,{marginBottom:2,children:(0,ej.jsx)(q.A,{id:"OfficialUserAttribution",children:(0,ej.jsx)(n6.A,{avatarSize:"xs",clientTrackingParams:y,hideFollowButton:v||!T,justifyContent:v||!T?"start":"center",pinKey:P,seeMoreButton:nT&&nI,viewerId:g})})}),nF=eV&&D(eV),nC=nF?nF.explicitly_followed_by_me:!!eN,nj=nF?nF.avatar_color_index:void 0,nK=!!nx&&!ea&&(0,ej.jsxs)(X.az,{alignItems:"center","data-test-id":"CloseupUserRep",display:"flex",flex:"grow",justifyContent:"between",marginBottom:1.5,width:"100%",children:[(0,ej.jsx)(av.A,{avatarColorIndex:nj,avatarSize:U?"fit":"xs",blockedByMe:eB??!1,clientTrackingParams:y,explicitlyFollowedByMe:nC,followerCount:eM??0,fullName:eU??"",hideButtons:U,id:eV??"",imageLargeUrl:eG??"",imageMediumUrl:eW??"",imageSmallUrl:e$??"",isEligibleForPdp:!!er,isImagePinForUnauthOnTablet:r??!1,isOnCloseup:!0,isVerifiedMerchant:eJ??!1,pinKey:P,textColor:"default",type:"row",username:eX??"",verifiedIdentityVerified:eq??!1,viewParameter:p,viewType:3}),nT&&nI]}),nR=nv&&(0,ej.jsx)(eR.A,{name:"SafeSuspense_CloseupDetails_ReactionAggregation",children:(0,ej.jsx)(X.az,{alignSelf:"center",display:"flex",justifyContent:"start",marginTop:v?2:void 0,children:(0,ej.jsx)(q.A,{id:"ReactionAggregation",children:(0,ej.jsx)(aI,{disableModal:!T,pinKey:P,reactionCounts:N,textSize:"300",textWeight:"bold",viewParameter:156,viewType:3})})})}),nL=(eQ||[]).map((e,n)=>(0,ej.jsx)(aP.A,{categoryType:e.categoryType,size:"300",type:"compact",value:e.value},`key-val-component-${n}`)).filter(e=>null!=e),nD=T?void 0:8,nz=!!em&&es,nO=ec&&(0,ej.jsx)(q.A,{id:"CloseupProductRatingAndShipping",children:(0,ej.jsx)(nh.A,{count:ez||void 0,countFormat:"number",countType:"review",hideSeparationDot:!1,ratingValue:eD||void 0,shippingInfo:nz?{freeShippingPrice:eK,freeShippingValue:eL}:void 0})}),nB=w&&!T?1:void 0,nN=U?6:4,nM=v&&!T?-n4.XV:void 0;return(0,ej.jsx)(aO,{excludeHeaderOffset:i,children:(0,ej.jsxs)(X.az,{"data-test-id":"CloseupDetails",children:[S&&(0,ej.jsx)(X.az,{color:"default",dangerouslySetInlineStyle:{__style:{position:"sticky"}},marginStart:nM,top:!0,zIndex:new X.rk(1),children:!ni&&m}),(0,ej.jsxs)(X.az,{marginTop:U?2:4,paddingX:nG.qn,width:"100%",children:[!S&&(0,ej.jsx)(X.az,{marginStart:nM,children:!ni&&m}),w&&nE,T&&nR,(v||nt||nc&&(!nx||r)&&!U)&&(0,ej.jsx)(X.az,{"data-test-id":"callToActionButton",display:(T||v||r||nt)&&!nr?void 0:"none",marginTop:0,children:!no&&(!P.isGoLinkless||T)&&(0,ej.jsx)(q.A,{id:"CloseupPinLinkCredits",children:(0,ej.jsx)(nq,{isImagePinForUnauthOnTablet:r,nativeCreatorVerifiedWebsite:k,onClickTitleOrDomain:o,pinKey:P})})}),(0,ej.jsxs)(az,{children:[w&&nK,(0,ej.jsx)(X.az,{marginBottom:+!!U,marginTop:0,children:(0,ej.jsx)(q.A,{id:"CloseupTitle",children:(0,ej.jsx)(n3,{forceSmallerHeading:w,hasLink:nc,lineClamp:b?void 0:nB,onClick:o,pinKey:P,size:U?"300":void 0,textAlign:"start"})})})]}),(0,ej.jsx)(az,{children:w&&(0,ej.jsx)(X.az,{marginTop:0,children:(0,ej.jsx)(nb.A,{color:O?"light":"default",items:nL})})}),!v&&eE&&er&&(0,ej.jsx)(X.az,{marginTop:1,children:(0,ej.jsx)(X.so,{alignItems:"stretch",justifyContent:"start",children:(0,ej.jsx)(q.A,{id:"ProductPrice",children:(0,ej.jsx)(nm.A,{colorOverride:"default",isSoldOut:!1===eb,productDetails:{minPrice:eA,maxPrice:eP,price:eE,standardPrice:eF,unitPrice:ev,unitPricingBaseUnits:ew,unitPricingUnitType:eI},textSize:U?"200":void 0,type:"mobileHeading"})})})}),eh&&e_&&!nw&&(0,ej.jsx)(aj,{boldText:!1,fallback:(0,ej.jsx)(X.y$,{accessibilityLabel:l._('Loading Pin recipe rating', 'closeupDetails.PinRecipeRating.loading.label', 'Spinner indicates pin recipe rating is loading'),show:!0}),marginTop:1,pinKey:P,textSize:U?"200":"300"}),v&&nt&&eE&&(0,ej.jsx)(X.az,{marginTop:2,children:(0,ej.jsx)(q.A,{id:"ProductPrice",children:(0,ej.jsx)(nm.A,{colorOverride:"default",isSoldOut:!1===eb,productDetails:{maxPrice:eA,minPrice:eP,price:eE,standardPrice:eF,unitPrice:ev,unitPricingBaseUnits:ew,unitPricingUnitType:eI},type:"heading"})})},"product-price"),v&&(em||eD)&&(0,ej.jsx)(X.az,{"data-test-id":"unauth-pdp-rating-and-review",marginTop:3,children:nO}),!v&&no&&(0,ej.jsxs)(X.az,{"data-test-id":"unauth-pdp-rating-and-review",marginTop:1,children:[nO,(0,ej.jsx)(X.az,{marginTop:1,children:(0,ej.jsx)(q.A,{id:"CloseupPinLinkCredits",children:(0,ej.jsx)(nq,{isImagePinForUnauthOnTablet:r,onClickTitleOrDomain:o,pinKey:P})})})]}),!T&&na&&(0,ej.jsx)(X.az,{marginTop:2,children:(0,ej.jsx)(q.A,{id:"SponsorshipText",children:(0,ej.jsx)(af.A,{affiliateDisclosure:e9,hasAffiliateLink:e7,hasAffiliateProducts:nn})})}),ec&&v&&(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{padding:"15px 0"}},"data-test-id":"visit-button-unauth",children:(0,ej.jsx)(q.A,{id:"PinActionBarVisitButton",children:(0,ej.jsx)(ae,{actionButtonText:l._('Visit site', 'closeup.shop.button', 'shop button'),clickthroughInterstitialExperience:null,isDesktop:v,pinKey:P,unauthPdp:!0})})}),(0,ej.jsxs)(az,{children:[no&&ni&&(0,ej.jsx)(X.az,{marginBottom:4,marginTop:4,children:m}),(0,ej.jsx)(nf.A,{onVisibilityChange:e1&&!U?e=>{if(!(e&&e.length>0&&_))return;let{intersectionRatio:n,boundingClientRect:a}=e[0],l=a.y<0;_(1===n||l)}:()=>{},options:{threshold:[1]},children:e=>(0,ej.jsx)(X.az,{ref:e,children:(0,ej.jsxs)(X.az,{marginTop:1,children:[nt?(0,ej.jsx)(q.A,{id:"ProductDescriptionDropdown",children:(0,ej.jsx)(a_,{onClickTitleOrDomain:o,pinKey:P})}):(0,ej.jsx)(q.A,{id:"CloseupDescription",children:(0,ej.jsx)(nU,{expandedText:b,instagramPostLink:t,pinKey:P,setExpandedText:x})}),T&&w&&na&&(0,ej.jsx)(X.az,{marginTop:2,children:(0,ej.jsx)(q.A,{id:"SponsorshipText",children:(0,ej.jsx)(af.A,{affiliateDisclosure:e9,hasAffiliateLink:e7,hasAffiliateProducts:nn})})}),(0,ej.jsx)(X.az,{marginTop:-1,children:nl})]})})})]}),!no&&ni&&!U&&(0,ej.jsx)(X.az,{marginBottom:4,marginTop:c?3:nN,children:m}),!no&&ni&&U&&m,!w&&(0,ej.jsx)(X.az,{marginTop:ax.qv,children:nK}),!w&&(0,ej.jsx)(X.az,{marginTop:8,children:nE}),v&&T&&(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{visibility:"hidden"}},"data-test-id":"UnauthVaseFullBleedModalContainer",children:(0,ej.jsx)(nP,{onClose:()=>{},pinKey:P})}),!v&&eg&&(0,ej.jsxs)(W.Fragment,{children:[(0,ej.jsx)(X.az,{marginTop:ax.qv,children:(0,ej.jsx)(X.cG,{})}),(0,ej.jsxs)(X.az,{alignItems:"center",display:"flex",justifyContent:"between",margin:2,paddingX:1,children:[(0,ej.jsx)(X.KJ,{inline:!0,size:"200",weight:"bold",children:l._('Promoted Pin', 'Denotes promoted pin in closeup', 'Denotes promoted pin in closeup')}),(0,ej.jsx)(eR.A,{name:"SafeSuspense_CloseupDetails_PinFeedbackButton",children:(0,ej.jsx)(q.A,{id:"PinFeedbackButton",children:(0,ej.jsx)(aD,{pinKey:P,promoter:eC??"",type:"promoted"})})})]}),(0,ej.jsx)(X.cG,{})]}),!nw&&eh&&(0,ej.jsx)(n0.A,{hash:"recipe",offset:-64,children:(0,ej.jsx)(aF,{fallback:(0,ej.jsx)(X.y$,{accessibilityLabel:l._('Loading Pin recipe', 'closeupDetails.PinRecipe.loading.label', 'Spinner indicates Pin recipe is loading'),show:!0}),pinKey:P})}),!nw&&(0,n5.C)(s)&&(0,ej.jsx)(nY,{pinKey:P}),!T&&w&&"IN"===I&&(E||"").startsWith("en")&&aA.sR.includes(C)&&3>=Number((0,nk.$E)("indiaUnauthLocaleShowCount",0))&&(0,ej.jsx)(eR.A,{name:"SafeSuspense_CloseupDetails_UnauthSwitchLanguageModal",children:(0,ej.jsx)(aL,{})})]}),(0,ej.jsx)(q.A,{id:"UnauthAmazonModule",children:(0,ej.jsx)(ar,{clientTrackingParams:y,isAuthenticated:T,isPhone:w,isUnauthAmazonModuleExpanded:j,pinKey:P,setIsUnauthAmazonModuleExpanded:K})}),(0,ej.jsx)(q.A,{id:"UnauthIndexExchangeContainer",children:(0,ej.jsx)(ad,{clientTrackingParams:y,isAuthenticated:T,isPhone:w,isUnauthIndexExchangeAdExpanded:R,pinKey:P,setIsUnauthIndexExchangeAdExpanded:L})}),!j&&!R&&ns,v&&!F&&!S&&(0,ej.jsx)(X.az,{marginStart:2,children:(0,ej.jsx)(q.A,{id:"ShoppingModule",children:(0,ej.jsx)(ng.A,{moduleWidth:nA.qr-nA.Z,pinKey:P,trafficSource:"pin",viewParameter:140})})}),v&&eO&&!ec&&(0,ej.jsx)(eR.A,{name:"CommentThread",children:(0,ej.jsxs)(X.az,{marginTop:nD,paddingX:2,children:[(0,ej.jsx)(X._Y,{accessibilityLevel:2,id:"comment-count-and-label",size:"400",children:en&&!et?(0,nS.A)(l.ngettext('{{ count }} Comment', '{{ count }} Comments', en, 'desktopPinCloseup.sectionTitle.commentsCountLabel', 'Comments on a Pin. count: number of comments'),{count:en.toString()}):l._('Comments', 'desktopPinCloseup.sectionTitle', 'Title of comments section')}),(0,ej.jsx)(q.A,{id:"CommentThreadContainer",children:(0,ej.jsx)(ac.A,{isReadOnly:!0,pinKey:P,viewParameter:p})}),!S&&!F&&!et&&(0,ej.jsx)(q.A,{id:"UnauthCommentComposer",children:(0,ej.jsx)(au.A,{clientTrackingParams:y,isStoryPin:!1,viewParameter:p})})]})}),!v&&!!B&&(0,ej.jsx)(X.az,{marginStart:2,marginTop:2,children:(0,ej.jsx)(q.A,{id:"GroupBoardSavedInfo",children:(0,ej.jsx)(aC,{pinKey:P,showFavoritesInformation:!P.storyPinData?.isDeleted})})}),S&&!F&&!et&&v&&eO&&!ec&&(0,ej.jsx)(eR.A,{name:"UnauthCommentComposer",children:(0,ej.jsx)(q.A,{id:"UnauthCommentComposer",children:(0,ej.jsx)(au.A,{clientTrackingParams:y,isStoryPin:!1,viewParameter:p})})})]})})}let aU=({pinKey:e})=>{(0,W.useEffect)(()=>{(0,H.A)("CloseupMainIframe","/app/www/closeup/duplo/CloseupMainIframe.tsx")},[]);let n=(0,ei.A)((void 0!==k||(k=a(280255)).hash&&"4c04fc9afb579bae0b83adb0bc6d3959"!==k.hash&&console.error("The definition of 'CloseupMainIframe_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),k),e);if(!n)return null;let l=n.embed?.src,i=n.images_736x?n.images_736x?.url:void 0,t=(0,eT.A)(),r={};l&&l.includes("youtube")&&l.includes("/embed/")&&i&&(r.background=`url("${i}")`,r.backgroundSize="cover",r.backgroundPosition="center");let s=l?.replace("http://","https://");return s&&s.startsWith("https://www.youtube.com/embed/")&&(s=s.replace("https://www.youtube.com/embed/","https://www.youtube-nocookie.com/embed/")),(0,ej.jsx)(X.az,{column:12,dangerouslySetInlineStyle:{__style:{paddingBottom:"50%",background:r.background,backgroundSize:r.backgroundSize,backgroundPosition:r.backgroundPosition}},overflow:"hidden",position:"relative",rounding:200,children:(0,ej.jsx)("iframe",{allowFullScreen:!0,frameBorder:0,src:s,style:{width:"100%",height:"100%",position:"absolute",border:0},title:t._('Embedded content', 'Embedded iframe accessibility title', 'Embedded iframe accessibility title')})})};var aV=a(839129),aG=a(715591),aH=a(304365),aW=a(998965);let aY="closeupImage";var a$=a(672804),aJ=a(767773),aX=a(507120),aq=a(984488),aQ=a(487337),aZ=a(134176),a0=a(594704),a1=a(32013),a2=a(813108);function a3({animateShopButton:e,buttonText:n,onButtonClick:a,dataTestId:l,handleAnimationEnd:i,icon:t,isHovering:r,surfaceType:s,textRef:o,showButtonText:d}){(0,W.useEffect)(()=>{(0,H.A)("ButtonWithAnimation","/app/common/react/components/shopping/CloseupShop/ButtonWithAnimation.tsx")},[]);let u=(0,eT.A)(),{isRTL:c}=(0,ep._8)(),{isDarkMode:p}=(0,ny.D2)(),g=(0,ey.qJ)(),[m,h]=(0,W.useState)(),[_,y]=(0,W.useState)(),{isCloseupMediaViewerEnabled:f}=(0,a2.A)({isShufflePin:!1}),k=(0,aX.A)(),{mWebCloseupRedesignEnabled:S}=(0,ex.A)(),b=(0,nt.A)({skipExpActivation:!0}),x=S||b?24:16;(0,W.useEffect)(()=>{!k&&(f?r?(h(`buttonSlideIn${s} 1s ease-in forwards`),y("stelaSlideIn 1s ease-in forwards")):(h(`shopButtonSlideOut${s} .3s ease-in-out forwards`),y("stelaSlideOut .3s ease-in-out forwards")):e&&(h("shopButtonSlideInThenOut 3s ease-in-out forwards"),y("stelaSlideInThenOut 3s ease-in-out forwards")))},[e,k,f,r,s]);let P=u._('close-up image action', 'closeup.image.button.defaultAccessibilityLabel', 'accessibility label for the button on the closeup image overlay. This button navigates users to the image search landing page. buttonText: image search button text'),A=n||P,v={buttonStyle:{animation:m,marginRight:b&&!c?"4px":void 0,marginLeft:b&&c?"4px":void 0},textStyle:{animation:_,whiteSpace:"nowrap"}},w=(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:v.buttonStyle},children:d&&(0,ej.jsx)(X.az,{ref:o,dangerouslySetInlineStyle:{__style:v.textStyle},children:(0,ej.jsx)(X.Wu,{size:b?"400":"300",children:n})})}),T=(48-x)/2,I=(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{bottom:T,right:c?void 0:T,left:c?T:void 0}},position:"absolute",children:(0,ej.jsx)(X.In,{accessibilityLabel:A,color:"default",icon:t,size:x})}),E=(0,W.useMemo)(()=>p&&g?"rgba(17, 17, 17, 0.9)":r?"var(--comp-button-color-hover-background-tertiary-semi-transparent-default)":"var(--comp-button-color-background-tertiary-semi-transparent-default)",[p,g,r]);return(0,ej.jsx)(X.Rp,{accessibilityLabel:A,onTap:a,rounding:"circle",children:(0,ej.jsx)(X.az,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{backgroundColor:E}},"data-test-id":l,display:"flex",justifyContent:"center",minHeight:48,minWidth:48,onAnimationEnd:f?void 0:i,paddingX:4,paddingY:2,position:"relative",rounding:400,children:(0,ej.jsx)(X.so,{alignItems:"stretch",justifyContent:"center",children:c?(0,ej.jsxs)(W.Fragment,{children:[I,w]}):(0,ej.jsxs)(W.Fragment,{children:[w,I]})})})})}var a5=a(538346),a6=a(229281),a4=a(640439);let a8=(void 0!==S||(S=a(307528)).hash&&"a36cbee90f76e1bfd0e6c4b9b0c5ecd3"!==S.hash&&console.error("The definition of 'ButtonWithAnimationWrapper_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),S);function a9({actionUrl:e,animateOnRender:n,animateShopButton:a,dataTestId:l,pinKey:i,imageSignature:t,onAnimationComplete:r=()=>{},onButtonClick:s,surfaceType:o,variant:d}){let u;(0,W.useEffect)(()=>{(0,H.A)("ButtonWithAnimationWrapper","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupImage/ImageOverlay/ButtonWithAnimationWrapper.tsx")},[]);let c=(0,W.useRef)(null),p=(0,eA.A)(),[g,m]=(0,W.useState)(),[h,_]=(0,W.useState)(!1),y=(0,J.Zp)(),{isCloseupMediaViewerEnabled:f}=(0,a2.A)({isShufflePin:!1}),k=(0,ei.A)(a8,i),S=(0,a1.A)({variant:d});return(0,ef.A)(()=>{if("media-viewer"===o?p({event_type:120,element:15864,view_type:3,aux_data:{image_signature:t}}):"stl"===o?p({event_type:120,element:11963,view_type:3,aux_data:{image_signature:t}}):p({event_type:120,component:128,element:234,view_type:3,aux_data:{image_signature:t}}),!n)return;let e=setTimeout(()=>{_(!0);let e=setTimeout(()=>{_(!1)},3e3);return()=>clearTimeout(e)},1e3);return()=>clearTimeout(e)}),u="media-viewer"===o&&"view-larger"===d?"maximize":"magnifying-glass-sparkle",(0,W.useEffect)(()=>{if(c.current&&!g&&(a&&!f||h&&f)){let e=c.current.getBoundingClientRect().width;e&&m(e)}},[c,g,a,f,h]),(0,ej.jsxs)(X.az,{onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:[(0,ej.jsx)(a5.A,{unsafeCSS:f?(0,a6.q)(g||0,o):(0,a6.A)(g||0)}),(0,ej.jsx)(a3,{animateShopButton:a,buttonText:S,dataTestId:l,handleAnimationEnd:r,icon:u,isHovering:h,onButtonClick:f?s:({event:n})=>{["flashlight","stela"].includes(o)&&p({event_type:101,component:128,element:234,view_type:3,aux_data:{image_signature:t}}),n?.stopPropagation(),e?y(e):y((0,a4.A)({pinId:k.entityId,isProductPage:!1,surfaceType:o}))},showButtonText:f?h:a,surfaceType:o,textRef:c})]})}var a7=a(706151);let le=(void 0!==b||(b=a(282624)).hash&&"cf81c765c2918cf13091a1ef301f4499"!==b.hash&&console.error("The definition of 'AnimatedVisualSearchButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),b);function ln({imageSignature:e,pinKey:n}){(0,W.useEffect)(()=>{(0,H.A)("AnimatedVisualSearchButton","/app/www/closeup/duplo/AnimatedVisualSearchButton.tsx")},[]);let a=(0,ei.A)(le,n),l=(0,ey.qJ)(),i=(0,ey.M)(),{isAuthenticated:t}=(0,ep._8)(),r=(0,eA.A)(),s=(0,J.Zp)(),[o,d]=(0,W.useState)(!1),[u,c]=(0,W.useState)(!1),p=(0,W.useRef)(null),g=(0,eE.A)();(0,ef.A)(()=>{let e=(0,e2.A)(()=>{if(!p.current)return;let{top:n}=p.current.getBoundingClientRect();!u&&n>(i?55:80)&&(d(!0),c(!0),window.removeEventListener("scroll",e))},10);return l||t?d(!0):window.addEventListener("scroll",e),()=>{t||window.removeEventListener("scroll",e)}});let m="flashlight",h=(0,a7.A)({pinKey:a,storyKey:null,surfaceType:m});return(0,ej.jsx)(X.az,{ref:p,alignItems:"stretch","data-test-id":"visual-search-icon",display:"flex",justifyContent:"end",paddingX:2*!!l,children:(0,ej.jsx)(X.az,{overflow:"hidden",children:(0,ej.jsx)(X.Rp,{onTap:()=>{g({action:"click",item:"visual-search-icon",within:"pin-image"})},children:(0,ej.jsx)(a9,{actionUrl:h,animateOnRender:!0,animateShopButton:o,dataTestId:"flashlight",imageSignature:e,onAnimationComplete:()=>{d(!1)},onButtonClick:({event:n})=>{r({event_type:101,component:128,element:234,view_type:3,aux_data:{image_signature:e}}),n?.stopPropagation(),h?s(h):s((0,a4.A)({pinId:a.entityId,isProductPage:!1,surfaceType:m}))},pinKey:a,surfaceType:"flashlight",variant:"visual-search"})})})})}var la=a(129625);let ll=(void 0!==x||(x=a(232619)).hash&&"daed7871ea3349b195a482d98f047526"!==x.hash&&console.error("The definition of 'FlashlightButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),x);function li({imageSignature:e,pinKey:n,viewParameter:a}){(0,W.useEffect)(()=>{(0,H.A)("FlashlightButton","/app/www/closeup/duplo/FlashlightButton.tsx")},[]);let l=(0,eT.A)(),{logContextEvent:i}=(0,la.o)(),t=(0,eE.A)(),{isAuthenticated:r}=(0,ep._8)(),{isDarkMode:s}=(0,ny.D2)(),o=(0,ey.qJ)(),d=(0,J.Zp)(),u=(0,nt.A)({skipExpActivation:!0});(0,ef.A)(()=>{i({aux_data:{image_signature:e},component:128,element:234,event_type:120,view_parameter:a,view_type:3})});let c=(0,ei.A)(ll,n),p=u?48:44;return(0,ej.jsx)(X.Rp,{onTap:({event:n})=>{r||((0,e3.PM)(`${o?"dweb":"mweb"}_pin_page.flashlight_icon_click`),t({action:"click",item:"visual-search-icon",within:"pin-image"})),n.stopPropagation(),n.preventDefault(),i({aux_data:{image_signature:e},component:128,element:234,event_type:102,view_parameter:a,view_type:3}),d&&c?d(`/pin/${c.entityId}/visual-search/`):(0,e3.PM)(`${o?"dweb":"mweb"}_pin_page.flashlight_icon_click.error`)},tapStyle:"compress",children:(0,ej.jsx)(X.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:s?"rgba(51, 51, 51, 0.8)":"rgba(255, 255, 255, 0.8)"}},"data-test-id":"visual-search-icon",display:"flex",height:p,justifyContent:"center",rounding:"pill",width:p,children:(0,ej.jsx)(X.In,{accessibilityLabel:l._('Visual search', 'flashlight.button', 'Button to search for visually similar Pins'),color:"default",icon:"magnifying-glass-frame",size:20})})})}var lt=a(266853),lr=a(615817);let ls=({pinId:e,viewParameter:n})=>{(0,W.useEffect)(()=>{(0,H.A)("MoreLikeThisButton","/app/www/closeup/duplo/MoreLikeThisButton.tsx")},[]);let{logContextEvent:a}=(0,la.o)(),{isScrolledToPins:l,scrollToPins:i}=(0,lt.A)(),{moreLikeThisButtonRef:t}=(0,lr.A)(),r=(0,eT.A)();return l&&i(!1),(0,W.useEffect)(()=>{a({event_type:13,view_parameter:n,component:13283,element:14445,aux_data:{pin_id:e}})},[a,e,n]),(0,ej.jsx)(X.az,{ref:t,"data-test-id":"more-like-this-button",children:(0,ej.jsx)(X.Rp,{onTap:({event:l})=>{l.stopPropagation(),l.preventDefault(),i(!0),a({event_type:101,view_parameter:n,component:13283,element:14445,aux_data:{pin_id:e}})},children:(0,ej.jsx)(X.$n,{accessibilityLabel:r._('Scroll to related pins button', 'mobilePinPage.relatedPins.scroll', 'Button to auto scroll to the related pins section'),color:"tertiary",dataTestId:"more-like-this-button",iconEnd:"compact-chevron-down",size:"lg",text:r._('More to explore', 'pinPage.relatedPins.title', 'On web pin page, title for related pins beneath pin closeup')})})})},lo=(void 0!==P||(P=a(998703)).hash&&"a2ad4e53c7de61af48ceeaf2f7ee4647"!==P.hash&&console.error("The definition of 'MobileStickyFooter_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),P);function ld({imageSignature:e,pinKey:n,type:a,viewParameter:l}){(0,W.useEffect)(()=>{(0,H.A)("MobileStickyFooter","/app/www/closeup/duplo/MobileStickyFooter.tsx")},[]);let{isAuthenticated:i,isRTL:t}=(0,ep._8)(),r=(0,ey.qJ)(),s=(0,ei.A)(lo,n),{mWebCloseupRedesignEnabled:o}=(0,ex.A)(),d=s?.digitalMediaSourceType,u=d&&(0,nJ.Jn)(d),c=!i&&u,p=(({isDesktop:e})=>e?-68:-60)({isDesktop:r});return(0,ej.jsxs)(X.az,{position:"relative",zIndex:nG.nf,children:[(u||c)&&(0,ej.jsx)(X.Rp,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation()},children:(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{marginLeft:o?"-4px":void 0,marginTop:p}},margin:o?void 0:1,padding:2,position:"absolute",right:!1,children:(0,ej.jsx)(a0.A,{digitalMediaType:d,isMobile:o&&!r,isViewedByOwnerEmployeeOrAgency:s?.isViewedByOwnerOrEmployeeOrPartnerOfBusiness||!1})})}),(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{marginLeft:o&&t?"-4px":void 0,marginRight:o&&!t?"-4px":void 0,marginTop:p}},left:t,padding:2,position:"absolute",right:!t,zIndex:new X.rk(2),children:"moreLikeThisButton"===a?(0,ej.jsx)(ls,{}):s&&"visualSearch"===a?(0,ej.jsx)(ln,{imageSignature:e,pinKey:s}):(0,ej.jsx)(li,{imageSignature:e,pinKey:s,viewParameter:l})})]})}var lu=a(194807),lc=a(42608),lp=a(939359),lg=a(855286),lm=a(805790),lh=a(219831),l_=a(743753);let ly=(void 0!==A||(A=a(639235)).hash&&"cc55e39c42ca4b105ea13e5ab293a9c7"!==A.hash&&console.error("The definition of 'UnauthCloseupCarousel_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),A);function lf({actionBarIsMinifiedToMainPinImage:e,children:n,displayHeight:a,displayWidth:l,embedType:i,hasPromoter:t,imageSignature:r,isEligibleForPdp:s,isHiddenPin:o,isRelatedPinsFeedIsEmpty:d,isUnsafePin:u,onIndexChange:c,pinKey:p,selectedIndex:g=0,showClickthroughOverlay:m,viewParameter:h=156}){(0,W.useEffect)(()=>{(0,H.A)("UnauthCloseupCarousel","/app/www/closeup/duplo/UnauthCloseupCarousel.tsx")},[]);let _=(0,ei.A)(ly,p),{entityId:y}=_,f=(0,W.useRef)(null),[k,S]=(0,W.useState)(!1),[b,x]=(0,W.useState)(!1),{isAuthenticated:P,userAgent:A}=(0,ep._8)(),{canUseNativeApp:v}=A,w=(0,ey.qJ)(),T=(0,ey.M)(),I=(0,lu.A)(_),E=I?.carouselSlots??[],F=(0,l_.R)(),C=F?.hasScrolledPastMainContent,j=null,K=(0,aG.A)({isHiddenPin:o,isUnsafePin:u});P||d||C||w?!K||!P&&T&&!v||P&&(t||(0,eo.Xt)(i)||e)||(j="visualSearch"):j="moreLikeThisButton";let R=(0,W.useCallback)(e=>{e>=1&&(0,ec.Uy)("image")},[]),L=(0,W.useCallback)(({nextIndex:e})=>{c?.(e)},[c]),D=(0,W.useCallback)((e,n)=>{let a=e.imageSignature,l={image_signature:e.imageSignature??void 0,images:e.imageSizeMap,details:e.details??void 0},i=(0,ej.jsx)(lh.A,{fit:"cover",onLoad:()=>R(n),slot:l,slotIndex:n});return(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{pointerEvents:m?"none":"auto"}},height:"100%",width:"100%",children:i},`${y}-${a||n}`)},[y,R,m]),z=(0,W.useMemo)(()=>({...I,carouselId:I?.carouselId??"",carouselSlots:I?.carouselSlots??[],index:I?.index??0,type:"canonical"}),[I]);return!E.length||E.length<=1?n?(0,ej.jsx)(W.Fragment,{children:n}):null:(0,ej.jsxs)(X.az,{ref:f,height:"100%",onMouseEnter:()=>{S(!0),x(!0)},onMouseLeave:()=>{S(!1),x(!1)},position:"relative",width:"100%",children:[(0,ej.jsx)(lc.A,{carouselData:z,contextLogData:void 0,height:a,id:y,impressionType:"Pin",index:g,slideWidth:l,view:3,viewParameter:h}),(0,ej.jsx)(lp.A,{forceShowNavigationButtons:k,itemHeight:a,items:E,itemWidth:l,mode:"single",onIndexChange:L,renderItem:({item:e,index:n})=>D(e,n),selectedIndex:g,showNavigationButtons:!0,showScrollMarkers:!0}),m&&b&&(0,ej.jsx)(lg.A,{isImagePinForUnauthOnTablet:!1,children:(0,ej.jsx)(lm.A,{inviterFirstName:"",isEligibleForPdp:s})}),j&&0===g&&(0,ej.jsx)(X.az,{bottom:!0,left:!0,position:"absolute",right:!0,width:"100%",children:(0,ej.jsx)(ld,{imageSignature:r,isPdp:s,pinKey:_,type:j,viewParameter:h})})]})}var lk=a(977004),lS=a(370377);let lb=(0,aT.A)(()=>Promise.all([a.e("92989"),a.e("2197"),a.e("62986")]).then(a.bind(a,599672)),void 0,e=>599672,"app-www-closeup-duplo-ShuffleRendererWrapper",e=>["92989","2197","62986"]),lx=(0,W.lazy)(()=>a.e("5665").then(a.bind(a,799645))),lP=(void 0!==v||(v=a(485175)).hash&&"4d851656dcda7ef595b8aeeb9700c6fe"!==v.hash&&console.error("The definition of 'CloseupMainPinImage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),v),lA=({children:e,onTouch:n,isMWebCloseupRedesign:a=!1,withMarginTop:l=!1,unauthCloseupRedesignEnabled:i=!1})=>{let t,r=(0,ey.Ay)(),s="phone"===r,{isRTL:o}=(0,ep._8)();return s?a&&(t=400):t=600,(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:i?{__style:{borderRadius:o?"0px 32px 32px 0px":"32px 0px 0px 32px",position:"relative"}}:void 0,marginEnd:a?1:void 0,marginStart:a?1:void 0,marginTop:a&&l?1:void 0,overflow:!s||s&&a?"hidden":void 0,rounding:i?void 0:t,children:"desktop"===r?e:(0,ej.jsx)(ns.A,{fullWidth:!0,onTouch:e=>{e.preventDefault(),e.stopPropagation(),n()},pressState:"none",children:e})})};function lv({actionBarIsMinifiedToMainPinImage:e,clickthrough:n,onImageClick:a,setShowClickthroughOverlay:l,viewParameter:i,pinKey:t,isRelatedPinsFeedIsEmpty:r,shouldRenderAsStaticImageIdeaPin:s,renderStoryPinBlock:o,setPinImageHeight:d,shouldRenderAsStoryPinVideo:u}){let c;(0,W.useEffect)(()=>{(0,H.A)("CloseupMainPinImage","/app/www/closeup/duplo/CloseupMainPinImage.tsx")},[]);let p=(0,eT.A)(),g=(0,ey.qJ)(),m=(0,ey.wI)(),h=(0,ey.M)(),{checkExperiment:_}=(0,ed.A)(),y=(0,lk.K)(),{onSendButtonClick:f}=(0,aZ.W)(),k=(0,an.A)(),S=(0,ei.A)(lP,t),b=(0,eq.A)(S),x=S?.images_236x||S?.images_136x136,P=!!((x=x&&{height:x.height,width:x.width,url:x.url})&&!S?.images_236x),A=S?.shuffle?.entityId,{isAuthenticated:v,isBot:w,isSocialBot:T,countryFromIp:I,isRTL:E,userAgent:{platform:F,canUseNativeApp:C}}=(0,ep._8)(),j=!!S?.shuffle&&!w,K=(0,aX.A)(),R=g&&!v&&!s&&!j&&!!t&&_("unauth_dweb_closeup_carousel").anyEnabled,[L,D]=(0,W.useState)(0),{mWebCloseupRedesignEnabled:z}=(0,ex.A)(),{referrerFromCookie:O}=(0,ep._8)(),B=(0,a$.Eb)((0,a$.G2)(O)),N=(0,ek.A)(),M=(0,nt.A)({skipExpActivation:!0}),{domain:U}=S??{},{dominantColor:V}=S??{},G=S?.embed&&S.embed.src,Y=S?.embed&&S.embed.type,$=!!S?.promoter&&!S.isDownstreamPromotion,{imageSignature:J}=S??{},Q=!!S?.isEligibleForPdp,Z=S?.isHidden,ee=S?.isUnsafe,en=S?.pinner?.connectionType,{seoAltText:ea}=S??{},el=(0,aV.A)({shuffleId:A,shouldRenderShuffle:j}),et=(0,ey.Ay)(),er=`${F}.${et}`,es=(0,W.useRef)(Date.now()),eu=(0,W.useRef)(null),ec=(0,W.useRef)(null),eg=!v&&!g&&["ios","ipad","android"].includes(F),em=!v&&h&&["ios","android"].includes(F),eh=!v&&h&&["ios","android"].includes(F);(0,aq.A)(ec,{metricName:"mweb.closeup.closeup_main_pin_image.invalid_dimensions",tags:{isAuthenticated:v}});let{shouldShowLearningUpsell:e_,setShouldShowLearningUpsell:ef,hasScrolledPastMainContent:eS}=(0,l_.R)()??Object.freeze({}),eb=(0,nZ.Eo)(),eP=null,eA=(0,aG.A)({isHiddenPin:Z,isUnsafePin:ee}),ev=!v&&h&&!C;v||r||eS||g?!eA||ev||v&&((0,eH.A)(eb?.created_at)&&!(0,lS.KW)(eb)||$||(0,eo.Xt)(Y)||e)||(eP="visualSearch"):eP="moreLikeThisButton";let ew=(0,eE.A)(),eI=(0,eC.F0)();(0,W.useEffect)(()=>{if(eI?.setPinImageUrl&&b){let e=b["474x"]||b["236x"]||b.orig||"";e&&eI.setPinImageUrl(e)}},[eI,b]),(0,W.useEffect)(()=>{d&&ec.current&&d(ec.current.getBoundingClientRect().height)},[d]);let eF=(0,eX.A)({imagesUrls:b,embedSrc:G,embedType:Y,preferredResolution:function({countryFromIp:e,isBot:n,isDesktop:a,pinnerConnectionType:l,shouldRenderSIIP:i}){return i?"236x":a?void 0:(0,aW.A)(e||"",n,a)&&["Dialup","Cellular"].includes(l??"")?"236x":"736x"}({isDesktop:g,countryFromIp:I,isBot:w,pinnerConnectionType:en,shouldRenderSIIP:s&&!g}),excludeOriginals:!w&&!T}),eK="phone"===et||m?"100%":508,eR=["phone"].includes(et)?void 0:508,eL=(0,ej.jsx)(q.A,{id:"CloseupImage",children:(0,ej.jsx)(aQ.A,{alt:ea||p._('Pin image', 'Pin closeup image', 'Pin closeup image'),clickthroughOverlayOptions:n?{onConfirm:n,visitButtonText:"Uploaded by user"===U?p._('Uploaded by user', 'pin.default_domain', 'default domain for the pin'):U||""}:void 0,color:V||"#efefef",isEligibleForPdp:Q,naturalHeight:x?.height??1,naturalWidth:x?.width??1,placeholder:!K&&x?.url?.startsWith("https://i.pinimg.com/")?(0,aH.A)(x?.url)||x?.url||"":x?.url||"",pwtElementTimingId:aY,setShowClickthroughOverlay:l,showSpinner:P,src:eF,stickyFooter:eP&&S&&(0,ej.jsx)(ld,{imageSignature:J,isPdp:Q,pinKey:S,type:eP,viewParameter:i})})}),eD=(0,aJ.Ay)(),ez=_("migration_upsell_manager_redux").anyEnabled||_("migration_upsell_manager_redux_dweb").anyEnabled||_("migration_upsell_manager_redux_mweb").anyEnabled||_("migration_upsell_manager_redux_dweb_global").anyEnabled||_("migration_upsell_manager_redux_mweb_global").anyEnabled,eO=(0,e4.A)();!M&&(h?z&&(c=400):c=600);let eB=R?(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:M?{__style:{borderRadius:E?"0px 32px 32px 0px":"32px 0px 0px 32px",position:"relative"}}:void 0,overflow:"hidden",rounding:c,children:(0,ej.jsx)(X.az,{ref:ec,dangerouslySetInlineStyle:{__style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}},"data-test-id":"closeup-container",display:"flex",justifyContent:"center",onContextMenu:e=>{!v&&Q&&(0,e3.PM)("unauth.pdp.pin.context_menu.open",{device:et}),e.preventDefault(),e.stopPropagation(),g?(y((0,ej.jsx)(eZ.A,{children:(0,ej.jsx)(lx,{desktopContextMenuState:{x:e.clientX,y:e.clientY},isMainPinImage:!0,onSendButtonClick:f,pinKey:S})})),(0,e3.PM)("pcons.dweb.main_pin.context_menu.open")):(0,e3.PM)(`${v?"auth":"unauth"}.mweb_pin_closeup_page.pin_image.long_press`)},position:"relative",children:(0,ej.jsx)(lf,{actionBarIsMinifiedToMainPinImage:e,displayHeight:x?.height??300,displayWidth:x?.width??300,embedType:Y,hasPromoter:$,imageSignature:J,isEligibleForPdp:Q,isHiddenPin:Z??void 0,isRelatedPinsFeedIsEmpty:r,isUnsafePin:ee??void 0,onIndexChange:e=>D(e),pinKey:S,selectedIndex:L,showClickthroughOverlay:!v,viewParameter:i,children:eL})})}):null,eN=(0,ej.jsx)(lA,{isMWebCloseupRedesign:z,onTouch:()=>{ez?eO((0,e6.$D)({upsellContext:eD,learningUpsellScenario:eh,pinId:S?.entityId??"",onImageClick:a,trackInteraction:ew})):(eh&&ef?(e_?ew({action:"dismiss",item:"learning-upsell"}):ew({action:"click",item:"learning-upsell"}),ef(!e_)):a(),eg&&(0,e3.PM)(`unauth.mweb.${er}.pin.image.touch`),!v&&Q&&ew({action:"click",item:"pdp-pin-image"}))},unauthCloseupRedesignEnabled:M,withMarginTop:!(B&&N),children:(0,ej.jsxs)(X.az,{ref:ec,dangerouslySetInlineStyle:{__style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}},"data-test-id":"closeup-container",display:"flex",justifyContent:"center",onContextMenu:e=>{!v&&Q&&(0,e3.PM)("unauth.pdp.pin.context_menu.open",{device:et}),e.preventDefault(),e.stopPropagation(),g?(y((0,ej.jsx)(eZ.A,{children:(0,ej.jsx)(lx,{desktopContextMenuState:{x:e.clientX,y:e.clientY},isMainPinImage:!0,onSendButtonClick:f,pinKey:S})})),(0,e3.PM)("pcons.dweb.main_pin.context_menu.open")):(0,e3.PM)(`${v?"auth":"unauth"}.mweb_pin_closeup_page.pin_image.long_press`)},onTouchEnd:e=>{if(!eg&&!em)return;e.stopPropagation(),(0,e3.PM)(`unauth.mweb.${er}.pin.image.touch.end`);let n=Date.now()-es.current>500,a=!1,l=eu.current;if(e.changedTouches&&e.changedTouches.length>0&&l){let n=e.changedTouches.item(0),i=n.clientX-l.x,t=n.clientY-l.y;a=n&&Math.pow(i,2)+Math.pow(t,2)>100}eg&&n&&!a&&((0,e3.PM)(`unauth.mweb.${er}.pin.image.long.touch`),e.preventDefault(),v||g||k({pinId:S?.entityId??"",location:"main-pin-long-press"}))},onTouchMove:e=>{em&&e.stopPropagation()},onTouchStart:e=>{if((eg||em)&&(e.stopPropagation(),es.current=Date.now(),(0,e3.PM)(`unauth.mweb.${er}.pin.image.touch.start`),e.changedTouches&&e.changedTouches.length>0)){let n=e.changedTouches.item(0);n&&(eu.current={x:n.clientX,y:n.clientY})}},children:[(!s||g)&&(j?(0,ej.jsx)(lb,{fallback:eL,naturalHeight:x?.height??1,naturalWidth:x?.width??1,rounded:!h,shuffle:el,width:eR,children:eL}):eL),s&&(g?(0,ej.jsx)(X.az,{bottom:!0,dangerouslySetInlineStyle:M?{__style:{borderRadius:"32px 0px 0px 32px",position:"relative"}}:void 0,left:!0,marginEnd:-2,marginStart:-2,overflow:"hidden",position:"absolute",right:!0,rounding:M?void 0:600,top:!0,children:o({placeholder:x&&{height:x.height,width:x.width}})}):(0,ej.jsxs)(X.az,{marginEnd:-2,marginStart:-2,overflow:eP?void 0:"hidden",width:eK,children:[o({placeholder:x&&{height:x.height,width:x.width}}),eP&&!u&&S&&(0,ej.jsx)(ld,{imageSignature:J,isPdp:Q,pinKey:S,type:eP,viewParameter:i})]}))]})});return(0,ej.jsx)(X.az,{position:"relative",width:"100%",children:R?eB:eN})}var lw=a(909022),lT=a(456418),lI=a(934368);let lE=(void 0!==w||(w=a(76819)).hash&&"ef89ffee0f6092e6cf575f4fe7263737"!==w.hash&&console.error("The definition of 'CloseupMainPinImpression_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),w),lF=({children:e,pinKey:n})=>{(0,W.useEffect)(()=>{(0,H.A)("CloseupMainPinImpression","/app/www/closeup/duplo/CloseupMainPinImpression.tsx")},[]);let a=(0,J.zy)(),l=(0,J.wQ)(),i=(0,ey.qJ)(),t=(0,ei.A)(lE,n),{imageLargeUrl:r}=t??{},{clientTrackingParams:s,viewParameter:o,isGoLinklessEnabledOverflow:d}=(0,aZ.W)(),{logStat:u}=(0,n9.xI)(),c=(0,lI.zE)()&&i,p=(0,nt.A)({skipExpActivation:!0}),g=t?.videos?.entityId;return(0,ef.A)(()=>{u("main_pin_impression")}),(0,ej.jsx)(X.az,{"data-layout-shift-boundary-id":"CloseupPageBody",marginTop:c&&!p?4:void 0,children:(0,ej.jsx)(lT.b9,{auxData:{closeup_navigation_type:(0,lw.A)(l,a),is_go_linkless:d},component:g?179:85,impressionData:{imageURL:r,type:13},loggingId:t?.entityId??"",slotIndex:-1,trackingParams:s,viewData:{pin_id:t?.entityId},viewParameter:o,viewType:3,children:({impressionTrackerRef:n})=>(0,ej.jsx)(X.az,{ref:n,"data-test-id":"CloseupMainPin",maxWidth:"100%",position:"relative",children:e})},t?.entityId)})},lC=new X.K5([new X.rk(0)]);function lj({onMoreButtonTap:e,onSendButtonTap:n}){(0,W.useEffect)(()=>{(0,H.A)("LinklessPinActionBar","/app/www/closeup/duplo/LinklessPinActionBar.tsx")},[]);let{userAgent:{platform:a}}=(0,ep._8)();return(0,ej.jsxs)(X.az,{display:"flex",justifyContent:"end",padding:6,position:"absolute",top:!0,width:"100%",zIndex:lC,children:[(0,ej.jsx)(X.K0,{accessibilityLabel:"share",bgColor:"washDark",icon:"android"===a?"share-android":"share",onClick:n,size:"md"}),(0,ej.jsx)(X.az,{marginStart:2,children:(0,ej.jsx)(X.K0,{accessibilityLabel:"overflow menu",bgColor:"washDark",icon:"ellipsis",onClick:e,size:"md"})})]})}var lK=a(775816),lR=a(157525),lL=a(899773);function lD(){let{isAuthenticated:e}=(0,ep._8)(),n=(0,J.zy)(),a=(0,J.Zp)(),l=(0,eE.A)(),{viewType:i}=(0,lK.WQ)(),{trackConversionUpsell:t}=(0,eF.A)(),[r,s]=(0,W.useState)(!1),{id:o}=(0,J.g)(),d=n.state?.trackingParams;return({linkType:n,viewParameter:u})=>{if((0,e3.uq)("click_pin_closeup_image"),e||l({action:"click",item:"pin-image"}),(0,lL.A)(n),e){o&&a(`/pin/${o}#${lR.w}`,{state:{trackingParams:d}});return}r?(t({eventType:14688,element:13319,component:14215,viewType:i,viewParameter:u,upsellReason:"click_pin_closeup_image"}),l({action:"click",item:"main-pin-wash"}),a("/signup")):((0,e3.PM)("main.pin.wash.show"),s(!r))}}var lz=a(838084);function lO({alt:e,dominantColor:n,height:a,onImageTap:l,onLoad:i,src:t,width:r,unauthLazyLoad:s,index:o}){(0,W.useEffect)(()=>{(0,H.A)("ProductCarouselImage","/app/www/shopping/duplo/productCarousel/ProductCarouselImage.tsx")},[]);let{isAuthenticated:d}=(0,ep._8)(),u=(0,ey.Ay)(),c=(0,W.useRef)(!1),p=(0,W.useRef)(null),{mWebCloseupRedesignEnabled:g}=(0,ex.A)(),m=(0,W.useCallback)(()=>{c.current||((0,nL.GV)("mweb.closeup.product_carousel_image.load"),c.current=!0),i&&i()},[i]);return(0,ef.A)(()=>{t||(0,nL.GV)("mweb.closeup.product_carousel_image.no_image_url")}),(0,aq.A)(p,{metricName:"mweb.closeup.product_carousel_image.invalid_dimensions",tags:{isAuthenticated:d}}),(0,ej.jsxs)(X.Rp,{onTap:()=>{d||(0,e3.PM)("unauth.pdp.carousel.click",{device:u,index:o}),l()},tapStyle:"compress",children:[(0,ej.jsx)(X.az,{ref:p,dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)"}},height:"100%",position:"absolute",top:!0,width:"100%",zIndex:new X.rk(1)}),(0,ej.jsx)(X._V,{alt:e,color:n,fetchPriority:g?"high":void 0,loading:s?"lazy":"auto",naturalHeight:a,naturalWidth:r,onLoad:m,src:t})]})}let lB=(void 0!==T||(T=a(701326)).hash&&"c680e00cd7b9416b1b23b78e3d6e22db"!==T.hash&&console.error("The definition of 'ProductCarousel_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),T);function lN({onImageTap:e,pinKey:n,viewParameter:a,unauthLazyLoad:l}){(0,W.useEffect)(()=>{(0,H.A)("ProductCarousel","/app/www/shopping/duplo/productCarousel/ProductCarousel.tsx")},[]);let{id:i}=(0,J.g)(),t=(0,eT.A)(),r=(0,eA.A)(),[s,o]=(0,W.useState)(0),{isAuthenticated:d}=(0,ep._8)(),{mWebCloseupRedesignEnabled:u}=(0,ex.A)(),c=(0,W.useRef)(null),p=(0,W.useRef)([]),g=(0,ei.A)(lB,n),m=()=>{(0,ec.Uy)("PinPageMainImageRendered")},h=t._('Pin image', 'Pin closeup image', 'Pin closeup image'),_=(0,aG.A)({isHiddenPin:g?.isHidden,isUnsafePin:g?.isUnsafe})&&0===s,y=(0,lu.A)(g),f=(y?.carouselSlots??[]).filter(({imageSizeMap:e})=>(0,lz.A)(e)),k=f.length,{imageSignature:S}=f[s]||{},b=()=>{if(!c.current)return;let{left:e,width:n}=c.current.getBoundingClientRect(),a=e+n/2;for(let e=0;e<k;e++){let{x:n}=p.current[e].current.getBoundingClientRect(),{x:l=1/0}=p.current[e+1]?.current.getBoundingClientRect()||{};if(n<=a&&l>a){o(e);break}}};(0,ef.A)(()=>{p.current=Array(k).fill().map((e,n)=>p.current[n]||(0,W.createRef)());let e=c.current;return e&&e.addEventListener("scroll",b),()=>{e?.removeEventListener("scroll",b)}}),(0,W.useEffect)(()=>{S&&r({event_type:13,view_type:3,view_parameter:144,element:10555,aux_data:{view_object_image_signature:S}})},[r,S]);let x=(0,W.useRef)((0,l_.R)()?.setHasScrolledPastMainContent);(0,W.useEffect)(()=>{let e=(0,e2.A)(()=>{if(c.current){let n=window.scrollY>c.current.offsetTop+c.current.offsetHeight;x.current?.(n),n&&window.removeEventListener("scroll",e)}},10);e(),window.addEventListener("scroll",e)},[]);let{hasScrolledPastMainContent:P}=(0,l_.R)()??Object.freeze({}),A="visualSearch";return d||P||(A="moreLikeThisButton"),(0,ej.jsxs)(X.az,{marginEnd:-2,marginStart:-2,position:"relative",children:[(0,ej.jsx)(X.az,{ref:c,display:"flex",maxHeight:"60vh",minHeight:"30vh",overflow:"scrollX",children:f.map((n,a)=>{let i=0===a,t=a===k-1,r=(0,lz.A)(n.imageSizeMap);return(0,ej.jsx)(X.az,{ref:p.current[a],alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#ffffff00"}},display:"flex",flex:"none",marginEnd:u?1:2*!t,marginStart:u?+!!i:void 0,overflow:u?"hidden":void 0,position:"relative",rounding:u?400:void 0,width:"80%",children:(0,ej.jsx)(lO,{alt:h,dominantColor:"#ffffff00",height:r?.height??1,index:a,onImageTap:e,onLoad:m,src:r?.url??"",unauthLazyLoad:l&&!i,width:r?.width??1})},`${g?.entityId??""}_${a}`)})}),(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{transition:"opacity 500ms,                          visibility 500ms ease-in-out",visibility:_?"visible":"hidden"}},marginEnd:u?1:void 0,opacity:100*!!_,children:(0,ej.jsx)(ld,{imageSignature:S,pinId:i||g?.entityId||"",pinKey:g,type:A,viewParameter:a})})]})}let lM=(0,aT.A)(()=>Promise.all([a.e("64431"),a.e("301")]).then(a.bind(a,980485)),void 0,e=>980485,"app-www-closeup-duplo-CloseupStoryPinBlock",e=>["64431","301"]),lU=(0,aT.A)(()=>Promise.all([a.e("44175"),a.e("64431"),a.e("26985"),a.e("37186")]).then(a.bind(a,252850)),void 0,e=>252850,"app-www-storyPins-duplo-StoryPinCloseup",e=>["44175","64431","26985","37186"]),lV=(0,aT.A)(()=>a.e("66827").then(a.bind(a,32069)),void 0,e=>32069,"app-www-closeup-duplo-CloseupVideo",e=>["66827"]),lG=(0,aT.A)(()=>Promise.all([a.e("44175"),a.e("64431"),a.e("26985"),a.e("99183")]).then(a.bind(a,446082)),void 0,e=>446082,"app-www-closeup-duplo-StoryPinCloseupBodyOnDesktop",e=>["44175","64431","26985","99183"]),lH=(0,aT.A)(()=>a.e("26231").then(a.bind(a,104855)),void 0,e=>104855,"app-www-closeup-duplo-StoryPinCloseupDetailsOnDesktop",e=>["26231"]),lW=(0,aT.A)(()=>Promise.all([a.e("44175"),a.e("64431"),a.e("26985"),a.e("37186"),a.e("38649")]).then(a.bind(a,77829)),void 0,e=>77829,"app-www-closeup-duplo-StoryPinCloseupBodyOnMobile",e=>["44175","64431","26985","37186","38649"]),lY=(0,aT.A)(()=>a.e("55742").then(a.bind(a,469158)),void 0,e=>469158,"app-www-SeoDebugModule-SeoDebugModulePin",e=>["55742"]),l$=(0,aT.A)(()=>a.e("6662").then(a.bind(a,56366)),void 0,e=>56366,"app-packages-rich-snippet-LeafSnippet",e=>["6662"]),lJ=(void 0!==I||(I=a(13874)).hash&&"b41932bdb5a1b44615723cf185b74487"!==I.hash&&console.error("The definition of 'CloseupMainPin_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),I),lX=(void 0!==E||(E=a(809395)).hash&&"6eb3aa6fbf1cc1f0828a3a00fad8d439"!==E.hash&&console.error("The definition of 'CloseupMainPinDetail_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),E),lq=({setIsShowingCloseupDetailsSuspenseFallback:e})=>((0,W.useEffect)(()=>(e(!0),()=>e(!1)),[e]),null),lQ=({children:e,queryRef:n})=>{let a=eM(na.default,n),l=a?.v3GetPinQuery?.__typename==="V3GetPin"?a.v3GetPinQuery.data:null;return e((0,ei.A)(lX,l))},lZ=({children:e,fallback:n,queryRef:a})=>a?(0,ej.jsx)(W.Suspense,{fallback:n,children:(0,ej.jsx)(lQ,{queryRef:a,children:n=>n&&e(n)})}):e(null);function l0({actionBarIsMinifiedToMainPinImage:e,clickthroughInterstitialExperience:n,closeupPinActionBar:l,closeupIsFirstPageInHistoryStack:i,instagramPostLink:t,isActionBarInline:r,isImagePinForUnauthOnTablet:s,isRelatedPinsFeedIsEmpty:o,isSendPinModalOpen:d,isVideoPin:u,nativeCreatorVerifiedWebsite:c,onLinklessPinTap:p,onMoreButtonClick:g,onSendPin:m,pinActionBar:h,setIsActionBarInline:_,setIsShowingCloseupDetailsSuspenseFallback:y,setPinImageHeight:f,shouldShowReactions:k,shouldShowSEOPinInfo:S,showCloseupCommentModule:b,pagePinKey:x,storyPinKey:P,unauthCloseupRedesignEnabled:A,viewerId:v,detailPinPreloadedQueryRef:w}){(0,W.useEffect)(()=>{(0,H.A)("CloseupMainPin","/app/www/closeup/duplo/CloseupMainPin.tsx")},[]);let{checkExperiment:T}=(0,ed.A)(),I=(0,ei.A)(lJ,x),E=I?.embed?.src,C=I?.embed?.subtype,j=I?.embed?.type,K=!!I?.images_orig,R=I?.isEligibleForPdp,L=I?.link,D=I?.mobileLink,z=I?.trackedLink,O=I?.utmLink,B=I?.storyPinData?.pages?.filter(e=>!(2===e.layout&&!e.ad||5===e.layout||6===e.layout)),N=B?.some(e=>e.blocks?.find(e=>3===e.blockType))||(B?.length||0)>1,M=I?.richMetadata?.products?.[0],U=Number(M?.additionalImageSpec_236x?.length)>0||Number(M?.additionalImageSpec_474x?.length)>0||Number(M?.additionalImageSpec_564x?.length)>0||Number(M?.additionalImageSpec_736x?.length)>0,V=(0,n8.A)({clickthroughInterstitialExperience:n,linklessOptions:(0,eo.d9)({mobileLink:D,trackedLink:z,link:L,utmLink:O})?{actionBarIsMinifiedToMainPinImage:e,onTap:p}:void 0,nativeCreatorVerifiedWebsite:c,pinKey:I}),{isAuthenticated:G,isBot:$}=(0,ep._8)(),{seoDebug:Q}=(0,Y.d4)(({session:e})=>e),{clientTrackingParams:ee,isStoryPin:en,viewParameter:ea,shouldRenderAsStoryPin:el}=(0,aZ.W)(),et=(0,J.zy)(),er=(0,ey.wI)(),es=(0,ap.b)(),eu=(0,ey.qJ)(),[ec,eg]=(0,W.useState)(!1),[em,eh]=(0,W.useState)(!0),e_=(0,Z.C)(),ef=e_?.pinLinkClickHandler,ek=!G&&eu&&!el&&T("ce_dweb_unauth_pin_card_overflow").anyEnabled,eS=()=>{V(),ef&&ef()},eb=lD(),ex=()=>eb({linkType:D&&"mobile"||O&&"utm"||z&&"tracked"||L&&"external"||"original",viewParameter:ea}),eP=(0,Y.wA)(),eA=(0,Y.d4)(({pinNavContext:e})=>e?.pinId!==I?.entityId?{}:e,(e,n)=>e?.pinId===n?.pinId);(0,W.useEffect)(()=>{eA?.pinId&&eA.pinId!==I?.entityId&&eP({type:"PIN_NAV_CONTEXT_DELETE"})},[]);let ev=(0,ei.A)((void 0!==F||(F=a(815262)).hash&&"7f55d29866a7f8059aae87f5e59a6f91"!==F.hash&&console.error("The definition of 'CloseupMainPinStoryPin_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),F),P),ew=nr();return(0,ej.jsx)(q.A,{id:"CloseupMainPinImpression",children:(0,ej.jsxs)(lF,{pinKey:"IsStoryPin"===en.kind?ev:I,children:[Q&&em&&(0,ej.jsx)(lY,{pinKey:"IsStoryPin"===en.kind?ev:I,setShowSeoDebugModule:eh}),e&&(0,ej.jsx)(lj,{onMoreButtonTap:g,onSendButtonTap:m}),el?(0,ej.jsxs)(W.Fragment,{children:[eu?(0,ej.jsx)(q.A,{id:"StoryPinCloseupBodyOnDesktop",children:(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:A?{__style:ew}:void 0,children:(0,ej.jsx)(lG,{clientTrackingParams:ee,pinActionBar:h,pinKey:ev})})}):(0,ej.jsx)(q.A,{id:"StoryPinCloseupBodyOnMobile",children:(0,ej.jsx)(lW,{clientTrackingParams:ee,pinKey:ev,viewParameter:ea})}),(0,ej.jsx)(lZ,{queryRef:w,children:e=>eu||s||null==e?null:(0,ej.jsx)(q.A,{id:"CloseupDetails",children:(0,ej.jsx)(aM,{clientTrackingParams:ee,instagramPostLink:t,isActionBarInline:r,isStoryPin:{kind:"IsStoryPin",optionalFragmentRef:null},nativeCreatorVerifiedWebsite:c,onClickTitleOrDomain:G?ex:eS,setIsActionBarInline:_,shouldShowReactions:k,shouldShowSEOPinInfo:S,showCloseupCommentModule:b,unauthCloseupRedesignEnabled:A,viewParameter:ea,pinKey:e})})})]}):(0,ej.jsx)(q.A,{id:"CloseupBodyLayout",children:(0,ej.jsx)(nc,{closeupPinActionBar:l,detail:(0,n5.C)(en)&&!el&&eu?(0,ej.jsx)(q.A,{id:"CloseupDetailsLayout",children:(0,ej.jsx)(aO,{excludeHeaderOffset:ek,children:(0,ej.jsxs)(X.az,{padding:A?void 0:3,children:[h,(0,ej.jsx)(q.A,{id:"StoryPinCloseupDetailsOnDesktop",children:(0,ej.jsx)(lH,{clientTrackingParams:ee,disableScroll:!0,pinKey:ev,shouldHideReactions:!0})})]})})}):(0,ej.jsx)(lZ,{fallback:(0,ej.jsx)(lq,{setIsShowingCloseupDetailsSuspenseFallback:y}),queryRef:w,children:n=>null!=n?(0,ej.jsx)(q.A,{id:"CloseupDetails",children:(0,ej.jsx)(aM,{clientTrackingParams:ee,inPinCardOverflowExp:ek,instagramPostLink:t,isActionBarInline:r,isImagePinForUnauthOnTablet:s,isStoryPin:en,nativeCreatorVerifiedWebsite:c,onClickTitleOrDomain:eS,pinActionBar:e?null:h,setIsActionBarInline:_,shouldShowReactions:k,shouldShowSEOPinInfo:S,showCloseupCommentModule:b,unauthCloseupRedesignEnabled:A,viewerId:v,viewParameter:ea,pinKey:n})}):null}),inPinCardOverflowExp:ek,isShowingBreadcrumbs:!G&&!((0,n5.C)(en)&&!eu),media:(0,ej.jsx)(nl.A,{clientTrackingParams:ee,component:u?179:85,viewParameter:ea,children:u?(0,ej.jsx)(q.A,{id:"CloseupVideo",children:(0,ej.jsx)(lV,{handleVideoTimeChange:e=>{eP({type:"PIN_NAV_CONTEXT_CREATE",payload:{pinId:I?.entityId??"",video:{elapsedTime:e}}})},isAuthenticated:G,isFirstPageInHistoryStack:i,isSendPinModalOpen:d,onSendPin:m,pinKey:I,startTimeAt:eA?.video?.elapsedTime})}):(0,eo.d4)({embedSrc:E,embedSubtype:C,embedType:j})?(0,ej.jsx)(lZ,{queryRef:w,children:e=>e?(0,ej.jsx)(aU,{pinKey:e}):null}):!eu&&U&&(G?R:!$)?(0,ej.jsx)(lZ,{queryRef:w,children:e=>null!=e?(0,ej.jsx)(q.A,{id:"ProductCarousel",children:(0,ej.jsx)(lN,{onImageTap:ex,unauthLazyLoad:!G,viewParameter:ea,pinKey:e})}):null}):K?(0,ej.jsx)(lk.s,{children:(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{margin:G&&!er?"0 -8px":void 0}},children:(0,ej.jsx)(q.A,{id:"CloseupMainPinImage",children:(0,ej.jsx)(lv,{actionBarIsMinifiedToMainPinImage:e,clickthrough:ec?eS:void 0,isRelatedPinsFeedIsEmpty:o,onImageClick:e=>{e&&(e.preventDefault(),e.stopPropagation()),N||ex()},pinKey:I,renderStoryPinBlock:({placeholder:e})=>N&&!eu?(0,ej.jsx)(lU,{clientTrackingParams:ee,location:et,pinKey:ev,viewParameter:ea}):(0,ej.jsx)(lM,{pinKey:ev,placeholder:e}),setPinImageHeight:f,setShowClickthroughOverlay:eg,shouldRenderAsStaticImageIdeaPin:(0,n5.C)(en)&&!el,shouldRenderAsStoryPinVideo:N,viewParameter:ea})})})}):(0,ej.jsx)(W.Fragment,{children:null})}),sideBySideOptions:"lg"===es||eu?{mainImageEventHandlers:u?void 0:eu?{onMouseEnter:()=>{eg(!0)},onMouseLeave:()=>{eg(!1)}}:void 0}:null})}),!G&&(0,ej.jsx)(lZ,{queryRef:w,children:e=>null!=e?(0,ej.jsx)(l$,{pinKey:e}):null})]})})}var l1=a(657804),l2=a(128353),l3=a(170799),l5=a(668528);function l6({children:e,imageViewer:n}){return(0,W.useEffect)(()=>{(0,H.A)("WithImageViewer","/app/www/closeup/duplo/WithImageViewer.tsx")},[]),(0,ej.jsxs)(W.Fragment,{children:[(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease-out"}},"data-layout-shift-boundary-id":"CloseupPageContainerInner",display:n?"visuallyHidden":"block",opacity:100*!n,children:!n&&e}),(0,ej.jsx)(eR.A,{name:"SafeSuspense_Closeup_ImageViewer",children:(0,ej.jsx)(eZ.A,{children:(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease-in"}},display:n?"block":"visuallyHidden",opacity:100*!!n,children:n})})})]})}let l4=(void 0!==C||(C=a(686352)).hash&&"fe3ae48c7e040b2bea5919c1aeefabdf"!==C.hash&&console.error("The definition of 'CloseupPageContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),C);function l8({children:e,closeupPageContext:n,hasGutter:a,imageViewer:l,pinKey:i,stickyUpsell:t}){(0,W.useEffect)(()=>{(0,H.A)("CloseupPageContainer","/app/www/closeup/duplo/CloseupPageContainer.tsx")},[]);let r=i&&"GraphQL"===(0,l1.z)(i),s=(0,ei.A)(l4,i);return(0,ej.jsx)(q.A,{id:"CloseupPageContainer",children:(0,ej.jsx)(aZ.$,{value:n,children:(0,ej.jsxs)(X.az,{position:"relative",width:"100%",children:[!!t&&(0,ej.jsx)(X.ib,{top:55,zIndex:new X.rk(99999),children:t}),(0,ej.jsx)(l3.N,{children:(0,ej.jsx)(l5.A,{graphqlRef:r?s:null,onSendButtonClick:n.onSendButtonClick,children:(0,ej.jsx)(l2.default,{dataLayoutShiftBoundaryId:"CloseupPageContainer",hasFixedHeader:!0,hasGutter:a,children:(0,ej.jsx)(lt.b,{children:(0,ej.jsx)(l6,{imageViewer:l,children:e})})})})})]})})})}var l9=a(80094),l7=a(911499),ie=a(611504),ia=a(369424);let il=(void 0!==j||(j=a(405228)).hash&&"1bd2dcd45fc7cf6e52340049a7e62320"!==j.hash&&console.error("The definition of 'CloseupPageViewAndTimeSpent_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),j);function ii({children:e,pin:{entityId:n,imageSignature:a,isEligibleForPdp:l,isOosProduct:i,isStaleProduct:t,shoppingFlags:r,trackingParams:s},viewParameter:o}){let d=(0,J.zy)(),u=(0,J.wQ)(),c=(0,ia.A)(d.state?.trackingParams,s);return(0,ej.jsx)(l7.A,{auxData:{closeup_navigation_type:(0,lw.A)(u,d),commerce_data:(0,ie.A)({isEligibleForPdp:l,isOosProduct:i,isStaleProduct:t,pinShoppingFlags:r??[]})},clientTrackingParams:c,component:13283,objectIdStr:n,viewData:{pin_id:n,closeup_rich_types:r??[],image_signature:a??null},viewParameter:o,viewType:3,children:(0,ej.jsx)(nl.A,{clientTrackingParams:c,objectId:n,view:3,children:e})})}function it({children:e,pinKey:n,...a}){(0,W.useEffect)(()=>{(0,H.A)("CloseupPageViewAndTimeSpent","/app/www/closeup/duplo/CloseupPageViewAndTimeSpent.tsx")},[]);let l=(0,ei.A)(il,n);return l?(0,ej.jsx)(ii,{pin:l,...a,children:e}):null}var ir=a(105321),is=a(863812),io=a(332167),id=a(150629),iu=a(638262);let ic=(0,aT.A)(()=>a.e("10714").then(a.bind(a,322017)),{ssr:!1},e=>322017,void 0,void 0),ip=(0,aT.A)(()=>a.e("21281").then(a.bind(a,162753)),{ssr:!1,fallback:(0,ej.jsx)(io.A,{paddingX:2})},e=>162753,"ReactionPicker",e=>["21281"]),ig=(0,aT.A)(()=>Promise.resolve().then(a.bind(a,44209)),void 0,e=>44209,"CommentThreadModalEntryPoint",e=>[]),im=(0,aT.A)(()=>Promise.resolve().then(a.bind(a,618682)),void 0,e=>618682,"AnimatedSendButton",e=>[]),ih=(0,aT.A)(()=>Promise.resolve().then(a.bind(a,673165)),void 0,e=>673165,"PinContextMenuButton",e=>[]),i_=(void 0!==K||(K=a(463292)).hash&&"d62177bf0dd7de8626743c5eec7e2b49"!==K.hash&&console.error("The definition of 'CloseupPinActionBar_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),K),iy=({children:e,experience:n,onCompleteRef:a})=>{let l=(0,W.useRef)(null);return(0,ej.jsxs)(W.Fragment,{children:[(0,ej.jsx)(X.az,{ref:l,children:(0,ej.jsx)(X.az,{children:e})}),(0,ej.jsx)(eR.A,{name:"SafeSuspense_PinActionBarSaveButton_ExperienceTooltipDelayedPulsar",children:(0,ej.jsx)(q.A,{id:"ExperienceTooltipDelayedPulsar",children:(0,ej.jsx)(ic,{anchor:l.current,eligibleIds:[503459,503761],experience:n,onCompleteRef:a,showTooltip:!0})})})]})},ik=({children:e,onCaptureRedirect:n,getFallbackInteractive:a,shouldRedirectOnExtendedClick:l})=>{let i=(0,W.useRef)(null),t=(0,W.useCallback)(e=>{let t=e.target;if(!t||!i.current||!(t===i.current||n&&n({container:i.current,origin:t})))return;e.preventDefault(),e.stopPropagation();let r=!!l&&l(),s=a?a({container:i.current}):i.current.querySelector('button, [role="button"], a[href]');r&&s instanceof HTMLElement&&s.click()},[a,n,l]);return(0,ej.jsx)("div",{ref:i,onClickCapture:t,children:(0,ej.jsx)(X.so,{alignItems:"center",justifyContent:"center",children:e})})};function iS(e){(0,W.useEffect)(()=>{(0,H.A)("CloseupPinActionBar","/app/www/closeup/duplo/CloseupPinActionBar.tsx")},[]);let{experience:n,isRemovablePin:a,nativePinType:l,onMobileTap:i,onSendButtonClick:t,pinKey:r,pinnedToBoardId:s,pinnedToBoardUrl:o,setIsActionBarInline:d,commentsDisabled:u,isEligibleForAggregatedComments:c}=e,p=(c??!0)&&!u,g=(0,W.useRef)(null),m=(0,W.useRef)(!1),h=(0,ey.M)(),{isAuthenticated:_,locale:y,isBot:f}=(0,ep._8)(),{clientTrackingParams:k,saveButtonConfig:S,viewParameter:b}=(0,aZ.W)(),x=(0,W.useRef)(null),{checkExperiment:P}=(0,ed.A)(),A=(0,id.v)(),{logStat:v}=(0,n9.xI)(),w=(0,ei.A)(i_,r),{mWebCloseupRedesignEnabled:T,mWebCloseupRedesignExpGroup:I}=(0,ex.A)(),E=(0,eA.A)(),F=(w?.aggregatedPinData?.commentCount??0)+(w?.aggregatedPinData?.didItData?.imagesCount??0),C=w?.aggregatedPinData?.entityId,j=y.startsWith("en"),K=!_&&!f&&!h&&j&&P("unauth_eoq_mau_lever").anyEnabled,R=!_&&h&&j&&!1,L=P("ce_mweb_expand_action_bar_tap_targets",{dangerouslySkipActivation:!0}).anyEnabled,D=(0,W.useCallback)(()=>P("ce_mweb_expand_action_bar_tap_targets").anyEnabled,[P]),z=(0,W.useMemo)(()=>({tags:{in_experiment:T,exp_group:I??"none"}}),[T,I]),O=(0,W.useCallback)(e=>{(0,nL.GV)("mweb.closeup.closeup_pin_action_bar.context_menu_button.click",z),i&&i(e)},[i,z]),B=(0,W.useCallback)(e=>{(0,nL.GV)("mweb.closeup.closeup_pin_action_bar.share_button.click",z),t&&t(e)},[t,z]),N=(0,W.useCallback)(()=>{(0,nL.GV)("mweb.closeup.closeup_pin_action_bar.comment_button.click",z)},[z]),M=(0,W.useCallback)(()=>{(0,nL.GV)("mweb.closeup.closeup_pin_action_bar.reaction_button.click",z)},[z]),U=(0,ir.A)(()=>{T&&(0,nL.GV)("mweb.closeup.pin_action_bar.save_button.click",z)},100),V=(0,ej.jsx)(X.so,{alignItems:"center",dataTestId:"reaction-count",justifyContent:"start",minWidth:40,children:(0,ej.jsx)(q.A,{id:"ReactionPicker",children:(0,ej.jsx)(ip,{aggregatedPinDataId:C,inExpandTapTargetExp:L,nativePinType:l??"",onReactionButtonClick:M,pinKey:w})})}),G=(0,ej.jsxs)(X.so,{alignItems:"center",dataTestId:"comment-button",justifyContent:"start",children:[(0,ej.jsx)(q.A,{id:"CommentThreadModalEntryPoint",children:(0,ej.jsx)(ig,{commentsEnabled:p,onCommentButtonClick:N,padding:2,pinKey:w,withReactions:!1})}),!!F&&F>0&&p&&(0,ej.jsx)(X.az,{marginEnd:2,children:(0,ej.jsx)(X.KJ,{dataTestId:"comment-count",size:"100",weight:"bold",children:(0,ej.jsx)(is.A,{shortform:!0,shortformMaximumFractionDigits:1,value:F},F)})})]}),Y=(0,ej.jsxs)(X.so,{alignItems:"center",dataTestId:"share-button-group",justifyContent:"start",children:[(0,ej.jsx)(q.A,{id:"AnimatedSendButton",children:(0,ej.jsx)(im,{ref:g,onDefaultSendButtonClick:B,padding:2,pinKey:w,viewParameter:b})}),(0,ej.jsx)(q.A,{id:"ExperiencePopoverEducational",children:(0,ej.jsx)(eL.X$,{anchors:{4019:g.current},idealDirection:"down",onAnchorTouch:"complete",placementId:1000112,scrollToDismiss:!0})})]}),$=(0,ej.jsx)(X.so,{alignItems:"center",dataTestId:"context-menu-button",justifyContent:"start",children:(0,ej.jsx)(X.az,{"data-test-id":"ellipsis-button",children:(0,ej.jsx)(q.A,{id:"PinContextMenuButton",children:(0,ej.jsx)(ih,{clientTrackingParams:k,onMobileTap:O,onSendButtonClick:t,padding:2,pinKey:w,seoDrawerPinType:"closeup",shouldShowSeoDrawerNewfields:!_,shouldShowSeoDrawerOption:!_,size:"lg",viewParameter:b})})})}),J=(0,ej.jsx)(q.A,{id:"PinActionBarSaveButtonPulsarExperience",children:(0,ej.jsx)(iy,{experience:n,onCompleteRef:x,children:(0,ej.jsx)(X.az,{"data-test-id":"closeup-save-button-container",children:(0,ej.jsx)(iu.A,{clientTrackingParams:k,color:"primary",deeplinkUri:S.shouldShowSavedButton&&o||S.repinPageLocation.deeplinkUri,onTouch:e=>{E({event_type:101,view_type:3,view_parameter:b,component:13282,element:10960,aux_data:{pin_id:w?.entityId}}),x.current?.(),S.onSaveButtonClick(e),v(A?.getData(w?.entityId??"")?"main_pin_savebutton_pinactionbar_withcloseuppreviewdata":"main_pin_savebutton_pinactionbar"),U()},onUnsave:S.onUnsaveButtonClick,pinKey:w,pinnedToBoardId:s,shouldShowSavedButton:S.shouldShowSavedButton,to:S.repinPageLocation.mwebUri,viewParameter:b,viewType:3})})})});return(0,ej.jsx)(X.az,{color:"default","data-test-id":"closeup-pin-action-bar-container",width:"100%",children:(0,ej.jsx)(nf.A,{onVisibilityChange:d?e=>{if(!(e&&e.length>0&&d))return;let{intersectionRatio:n,boundingClientRect:a}=e[0],l=1===n,i=a.y<0;d(l||i),!m.current&&(l||i)&&((0,nL.GV)("mweb.closeup.closeup_pin_action_bar.impression",z),m.current=!0)}:()=>{},options:{threshold:[1]},children:e=>(0,ej.jsx)(X.az,{ref:e,"data-test-id":"closeup-pin-action-bar",children:(0,ej.jsxs)(X.so,{alignItems:"stretch",justifyContent:"between",children:[(0,ej.jsxs)(X.so,{alignItems:"center",dataTestId:"closeup-pin-action-items",gap:2,justifyContent:"start",children:[(0,ej.jsx)(ik,{getFallbackInteractive:({container:e})=>e.querySelector('[data-test-id="react-button"]'),onCaptureRedirect:({origin:e})=>!!e.closest('[data-test-id="reactions-count"]'),shouldRedirectOnExtendedClick:D,children:V}),(0,ej.jsx)(ik,{getFallbackInteractive:({container:e})=>e.querySelector('[data-test-id="comment-button"] button'),onCaptureRedirect:({origin:e})=>!!e.closest('[data-test-id="comment-count"]'),shouldRedirectOnExtendedClick:D,children:G}),(0,ej.jsx)(ik,{getFallbackInteractive:()=>g.current,shouldRedirectOnExtendedClick:D,children:Y}),(0,ej.jsx)(ik,{shouldRedirectOnExtendedClick:D,children:$})]}),(0,ej.jsx)(X.so,{alignItems:"center",gap:2,children:(0,ej.jsx)(X.az,{marginStart:3,children:K||R||_&&a?null:J})})]})})})})}var ib=a(146905);let ix="u">typeof window&&window.innerWidth-32||400,iP="CloseupPageSkeletonLoader__",iA=()=>{(0,W.useEffect)(()=>{(0,H.A)("CloseupSkeletonLoader","/app/www/closeup/duplo/CloseupSkeletonLoader.tsx")},[]);let e=(0,eT.A)(),{isAuthenticated:n}=(0,ep._8)();return(0,ej.jsxs)(W.Fragment,{children:[(0,ej.jsx)(a5.A,{unsafeCSS:[{name:`${iP}closeup`,width:ix,height:ix},{name:`${iP}title`,width:ix,height:24},{name:`${iP}attribution`,width:40,height:40},{name:`${iP}credit`,width:ix-40-8,height:40},{name:`${iP}visit_button`,width:ix,height:40},{name:`${iP}pin_grid_pin`,width:(ix-32)/2,height:100}].map(({name:e,width:n,height:a})=>(0,ib.A)({name:e,width:n,height:a})).join("")}),(0,ej.jsxs)(X.so,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,ej.jsxs)(W.Fragment,{children:[(0,ej.jsx)(X.az,{marginEnd:3,marginTop:4,children:(0,ej.jsx)("div",{className:iP+"closeup"})}),(0,ej.jsx)(X.az,{marginTop:3,children:(0,ej.jsx)("div",{className:iP+"title"})}),(0,ej.jsxs)(X.az,{direction:"row",display:"flex",marginTop:3,children:[(0,ej.jsx)(X.az,{children:(0,ej.jsx)("div",{className:iP+"attribution"})}),(0,ej.jsx)(X.az,{marginStart:2,children:(0,ej.jsx)("div",{className:iP+"credit"})})]}),(0,ej.jsx)(X.az,{marginTop:3,children:(0,ej.jsx)(X.cG,{})})]}),(0,ej.jsx)(X.az,{marginBottom:3,marginTop:2,children:(0,ej.jsx)(X.KJ,{align:n?void 0:"center",weight:"bold",children:e._('More like this', 'On mobile web pin page, title for related pins beneath pin closeup', 'On mobile web pin page, title for related pins beneath pin closeup')})}),(0,ej.jsxs)(X.az,{direction:"row",display:"flex",marginTop:3,children:[(0,ej.jsx)(X.az,{marginEnd:n?2:1,marginStart:n?2:1,children:(0,ej.jsx)("div",{className:iP+"pin_grid_pin"})}),(0,ej.jsx)(X.az,{marginEnd:n?2:1,marginStart:n?2:1,children:(0,ej.jsx)("div",{className:iP+"pin_grid_pin"})})]})]})]})};var iv=a(327858),iw=a(875318),iT=a(644094);function iI({pinContextMenuButton:e,showBackButtonLabel:n=!1}){(0,W.useEffect)(()=>{(0,H.A)("CloseupStickyHeader","/app/www/closeup/duplo/CloseupStickyHeader.tsx")},[]);let{isAuthenticated:a}=(0,ep._8)(),l=(0,ey.Ay)(),{mWebCloseupRedesignEnabled:i}=(0,ex.A)();return(0,ej.jsx)(X.ib,{top:a?0:(0,iw.c)(l),zIndex:new X.K5([nG.nf]),children:(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},marginTop:i?1:2,position:"absolute",width:"100%",children:(0,ej.jsxs)(X.so,{justifyContent:a?"between":"end",children:[a&&(0,ej.jsx)(iv.A,{children:(0,ej.jsx)(iT.default,{bgColor:"default",color:"default",fallbackUrl:a?"/":"/ideas",padding:3,showBackButtonLabel:n,viewParameter:156,viewType:3})}),!!e&&(0,ej.jsx)(iv.A,{children:e})]})})})}var iE=a(301704);async function iF(e){try{let n=await (0,iE.A)({url:"/v3/users/state/{state}/",urlParams:{state:e}});return Promise.resolve(n.resource_response?.data)}catch(n){return(0,nL.GV)("app.user-state.request.get.error",{sampleRate:1,tags:{ErrorType:n instanceof Error?n.name:typeof n,key:e}}),Promise.resolve(null)}}async function iC(e,n){return(0,iE.A)({url:"/v3/users/state/{state}/",urlParams:{state:e},method:"PUT",data:{value:n}})}async function ij(e){try{await iF("HAS_DONE_CLOSEUP")||(0,lS.b1)(e)||await iC("HAS_DONE_CLOSEUP",1)}catch(n){(0,nL.GV)("closeup.has_done_closeup_check.failed",{sampleRate:1,tags:{ErrorType:typeof n,isAuthenticated:!!e}})}}var iK=a(360447),iR=a(742450),iL=a(60341);let iD=({bgColor:e,color:n})=>{(0,W.useEffect)(()=>{(0,H.A)("PinActionBarBackButton","/app/www/closeup/duplo/PinActionBarBackButton.tsx")},[]);let{viewParameter:a}=(0,aZ.W)(),{isAuthenticated:l}=(0,ep._8)();return(0,ej.jsx)(X.az,{"data-test-id":"back-button",children:(0,ej.jsx)(iT.default,{bgColor:e,color:n||"default",fallbackUrl:l?"/":"/ideas",padding:"auto",size:"xl",viewParameter:a,viewType:3})})};var iz=a(921831),iO=a(70994),iB=a(97816);let iN=({children:e,headerLimitedOverflow:n,inlineBar:a,isDesktop:l,isActionBarInline:i,isTransparentBackground:t,isOpaque:r,showHorizontalActionBar:s,showingCloseupCommentModule:o,showActionBarInline:d,zIndex:u,isCloseupRedesign:c,logTags:p,isStoryPin:g})=>{let{checkExperiment:m}=(0,ed.A)(),{mWebCloseupRedesignEnabled:h,mWebCloseupRedesignExpGroup:_}=(0,ex.A)(),y=(0,el.A)(),[f,k]=(0,W.useState)(!0),S=y.isAuth,b=(0,W.useRef)(!1),x=(0,ey.M)(),P=x&&!S&&m("unauth_mweb_truncate_title_description").group,A=(0,nt.A)({skipExpActivation:!0}),v=(0,W.useRef)(null);return(0,W.useEffect)(()=>(v.current=(0,iz.A)(()=>k(i)),v.current=window.requestAnimationFrame(()=>{k(i)}),()=>{"u">typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&v.current&&(window.cancelAnimationFrame(v.current),v.current=null)}),[i]),(0,W.useEffect)(()=>{!h||f||b.current||((0,nL.GV)("mweb.closeup.pin_action_bar_layout.fixed_footer.impression",p),b.current=!0)},[h,f,p]),!l&&s?(0,ej.jsxs)(X.az,{children:[h&&"enabled_with_no_action_buttons"===_?null:(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{opacity:i&&!h?0:1,pointerEvents:i&&h?"none":void 0,transition:h?void 0:"opacity .4s ease-in-out"}},children:(0,ej.jsx)(iO.A,{footerInLego:!h&&void 0,hasTopShadow:!0,hideOnScroll:!h&&void 0,isFooterHidden:h?f:void 0,navFooterConfig:h?{docked:!1,footerWidth:"100%",scrollConfig:{forceShow:!1,isDockedNavOnPlp:!1,isModal:!1,onScroll:()=>{}}}:void 0,paddingX:h?2:void 0,paddingY:h?3:2,zIndex:u,children:e},String(t))}),i&&d&&(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{opacity:i||h?1:0,transition:"opacity .4s ease-in-out"}},marginEnd:h?-2:void 0,marginStart:h?-2:void 0,paddingY:c||o||x&&!S&&("enabled_both"===P||"enabled_description"===P)||h?0:2,children:a||e})]}):(0,ej.jsx)(iB.default,{headerLimitedOverflow:n,ignoreObstructions:t,isStoryPin:(0,n5.C)(g),isTranslucent:!t&&!r,isTransparentBackground:t,noGutter:A,paddingY:A?2:void 0,zIndex:u,children:e},String(t))},iM=({backButton:e,commentButton:n,copyButton:a,editOrMoreButton:l,headerLimitedOverflow:i,inlineBar:t,isActionBarInline:r=!1,isDesktop:s,isTransparentBackground:o,saveButton:d,downloadButton:u,downloadIcon:c,showHorizontalActionBar:p,showingCloseupCommentModule:g,shareButtonGroup:m,visitButton:h,reactionCount:_,isStoryPin:y})=>{let f;(0,W.useEffect)(()=>{(0,H.A)("PinActionBarLayout","/app/www/closeup/duplo/PinActionBarLayout.tsx")},[]);let k=(0,ap.b)(),{mWebCloseupRedesignEnabled:S,mWebCloseupRedesignExpGroup:b}=(0,ex.A)(),x=(0,nt.A)({skipExpActivation:!0}),{isAuthenticated:P}=(0,ep._8)(),A=(0,W.useRef)(!1);P?"lg"===k?f=n4.JY:p&&(f=n4.MN):f=p?n4.MN:n4.mk;let v=(0,W.useMemo)(()=>({tags:{in_experiment:S,exp_group:b??"none",with_visit_button:!!h,with_save_button:!!d}}),[S,b,h,d]),w=S&&!h&&(!d||"enabled_with_one_action_button"===b);return((0,ef.A)(()=>{!S||h||A.current||((0,nL.GV)("mweb.closeup.pin_action_bar_layout.linkless_impression",v),A.current=!0),w&&(0,nL.GV)("mweb.closeup.pin_action_bar_layout.empty_action_bar",v)}),w)?null:(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:x?{__style:{position:"sticky"}}:void 0,"data-test-id":"header",top:!!x,zIndex:x?new X.rk(1):void 0,children:(0,ej.jsx)(iN,{headerLimitedOverflow:i,inlineBar:t,isActionBarInline:r,isDesktop:s,isOpaque:!!x,isStoryPin:y,isTransparentBackground:o,logTags:v,showActionBarInline:!S||!!h,showHorizontalActionBar:p,showingCloseupCommentModule:g,zIndex:f,children:(0,ej.jsx)(X.so,{alignItems:"center",dataTestId:"pin-action-bar-container",justifyContent:S?"center":"between",children:p?(0,ej.jsxs)(W.Fragment,{children:[!S&&(0,ej.jsx)(X.so,{alignItems:"center",justifyContent:"start",children:n||null}),(0,ej.jsxs)(X.az,{alignItems:"center",display:"flex",justifyContent:"start",marginStart:n||!m||S?0:12,width:S&&"enabled_with_one_action_button"===b?"100%":void 0,children:[h||null,S&&"enabled_with_one_action_button"===b?null:d||null,!S&&(u||null)]}),!S&&(0,ej.jsxs)(X.so,{alignItems:"center",justifyContent:"start",children:[m||null,c||null]})]}):(0,ej.jsxs)(W.Fragment,{children:[(0,ej.jsxs)(X.so,{alignItems:"center",justifyContent:"start",children:[!!e&&(0,ej.jsx)(X.az,{color:o?"default":void 0,dangerouslySetInlineStyle:{__style:o?{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"}:{}},rounding:"circle",children:e}),(0,ej.jsxs)(X.so,{alignItems:"center",justifyContent:"start",children:[_||null,n||null,m||null,c||null,l||null,a||null]})]}),(0,ej.jsxs)(X.so,{alignItems:"center",justifyContent:"start",children:[h||null,d||null,u||null]})]})})})})};var iU=a(389692),iV=a(618682);let iG=(void 0!==R||(R=a(382619)).hash&&"376aac357360558efd8c93bda6841173"!==R.hash&&console.error("The definition of 'UnauthDesktopCloseupSendButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),R),iH=(0,W.lazy)(()=>a.e("63131").then(a.bind(a,36475))),iW=new X.rk(5);function iY({pinKey:e,viewParameter:n}){(0,W.useEffect)(()=>{(0,H.A)("UnauthDesktopCloseupSendButton","/app/www/closeup/duplo/unauth/UnauthDesktopCloseupSendButton.tsx")},[]);let a=(0,ei.A)(iG,e),l=(0,eT.A)(),[i,t]=(0,W.useState)(!1),r=(0,W.useRef)(null),s=(0,ej.jsx)(q.A,{id:"AnimatedSendButton",children:(0,ej.jsx)(iV.default,{onDefaultSendButtonClick:()=>{t(!0)},pinKey:a,viewParameter:n})});return(0,ej.jsxs)(X.az,{ref:r,children:[(0,ej.jsx)(X.so,{alignItems:"center",justifyContent:"start",children:(0,ej.jsx)(X.m_,{inline:!0,text:l._('Share', 'Closeup.SharePin.Icon', 'Icon for sharing the current pin'),zIndex:iW,children:s})}),i&&(0,ej.jsx)(eZ.A,{children:(0,ej.jsx)(q.A,{groupTags:["overflow-menu-exp"],id:"DesktopShareMenu",children:(0,ej.jsx)(iH,{anchor:r.current,component:194,objectId:a?.entityId??"",objectType:1,onDismiss:()=>t(!1),title:l._('Share', 'PinCloseup.UnauthShareMenu.Title', 'title for unauth share menu popover'),viewParameter:n,viewType:3})})})]})}var i$=a(44209),iJ=a(673165),iX=a(874759),iq=a(428576),iQ=a(577366);let iZ=(0,aT.A)(()=>a.e("10714").then(a.bind(a,322017)),{ssr:!1},e=>322017,void 0,void 0),i0=(0,aT.A)(()=>a.e("30069").then(a.bind(a,826612)),{ssr:!1},e=>826612,void 0,void 0),i1=(void 0!==L||(L=a(879775)).hash&&"5be5af8be413208416351c90fe1ce1ad"!==L.hash&&console.error("The definition of 'PinActionBar_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),L),i2=({children:e,experience:n,onCompleteRef:a})=>{let l=(0,W.useRef)(null);return(0,ej.jsxs)(W.Fragment,{children:[(0,ej.jsx)(X.az,{ref:l,children:(0,ej.jsx)(X.az,{children:e})}),(0,ej.jsx)(eR.A,{name:"SafeSuspense_PinActionBarSaveButton_ExperienceTooltipDelayedPulsar",children:(0,ej.jsx)(q.A,{id:"ExperienceTooltipDelayedPulsar",children:(0,ej.jsx)(iZ,{anchor:l.current,eligibleIds:[503459,503761],experience:n,onCompleteRef:a,showTooltip:!0})})})]})};function i3({children:e,mWebCloseupRedesignEnabled:n,withMargin:a,withPadding:l}){return n?(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{paddingBottom:l?12:void 0,paddingTop:l?12:void 0,marginBottom:a?12:void 0}},"data-test-id":"pin-action-bar-layout-wrapper",children:e}):e}function i5({clickthroughInterstitialExperience:e,experience:n,nativeCreatorVerifiedWebsite:a,onEditButtonClick:l,onMobileTap:i,onSendButtonClick:t,pinnedToBoardId:r,pinnedToBoardUrl:s,nativePinType:o,scrolledToRelatedPins:d,shouldShowDownloadPopover:u,setShouldShowDownloadPopover:c,shouldShowReactions:p,shouldShowBackButton:g,shouldShowShareOnVideoCloseup:m,showCloseupCommentModule:h,isEligibleToVisitPin:_,pinKey:y,isActionBarInline:f,isStoryPin:k,isVideoPin:S}){(0,W.useEffect)(()=>{(0,H.A)("PinActionBar","/app/www/closeup/duplo/PinActionBar.tsx")},[]);let b=(0,eT.A)(),{mWebCloseupRedesignEnabled:x,mWebCloseupRedesignExpGroup:P}=(0,ex.A)(),A=(0,ei.A)(i1,y),v=A?.richMetadata?.recipe,w=(({hasRecipe:e,hasArticle:n,hasVisit:a,i18n:l})=>e?l._('Make it', 'pinPage.pinActionBar.Makeit.Button', 'Text on a button that lets users visit the source of the pin'):n?l._('Read it', 'pinPage.pinActionBar.Readit.Button', 'Text on a button that lets users visit the source of the pin'):a?l._('Visit site', 'closeup.pinActionDropDown.visitSite', 'Button allowing user to clickthrough Pin'):l._('Visit', 'pinPage.pinActionBar.visitButton', 'Text on a button that lets users visit the source of the pin'))({hasRecipe:!!(v?.name&&v.categorizedIngredients?.length&&!v.fromAggregatedData),hasArticle:!!A?.richMetadata?.article,hasVisit:x,i18n:b}),T=A?.aggregatedPinData?.entityId,I=!!A,E=A?.isEligibleForAggregatedComments,F=A?.isEligibleForPdp,C=A?.pinner?.blockedByMe,j=A?.isGoLinkless,K=A?.totalReactionCount??null,R=(0,W.useRef)(null),L=(0,ey.qJ)(),D=(0,eE.A)(),{isAuthenticated:z}=(0,ep._8)(),O=(0,aZ.W)(),{clientTrackingParams:B,saveButtonConfig:N,viewParameter:M}=O,{setIsNavFooterHiddenByPinActionBar:U}=(0,iq.o)(),V=(0,W.useRef)(null),{hasApplicableLawForCountry:G}=(0,iQ.Ay)(),Y=(0,e1.A)(),$=A?.promotedIsRemovable??!1,J=!z&&F,Q=F&&z||J&&!L,ee=!L&&!F,en=Q||ee,ea=(0,id.v)(),{logStat:el}=(0,n9.xI)(),et=x&&"enabled_with_one_action_button"===P,{isDarkMode:er}=(0,ny.D2)(),es="true"===iL.Ay.getItem(iK.IV),eo=(0,nt.A)({skipExpActivation:!0}),ed=(0,iX.A)({pinKey:A,onSendButtonClick:t}),{inDwebDownloadCTAExp:eu,inMwebDownloadCTAExp:ec,showDownloadCloseupIcon:eg}=(0,iX.I)({seoDrawerPinType:"closeup",isVideoPin:S}),em=(0,W.useRef)(null),eh=eg&&u,e_=(0,Z.C)(),ef=(0,e0.E)(),ek=e_?.isModalShown||ef?.modal.isShown&&ef?.modal.displayProps.headingType!=="download_limit_reached",eS=(0,ej.jsx)(q.A,{id:"PopoverMessage",children:(0,ej.jsx)(X.fT,{anchor:em.current,forceDirection:!0,id:"closeup-download-icon-popover",idealDirection:L?"down":"up",message:b._('Love this image? You can download it!', 'closeup.download.closeup_icon.popover.text', 'Text on popover about download option in the closeup pin action bar'),onDismiss:()=>{ek||c(!1)}})});(()=>{let{locale:e}=(0,ep._8)();(0,W.useEffect)(()=>{(0,iR.r_)(e)},[e])})();let eb=!!n&&8===n.type;(0,W.useEffect)(()=>{f?U(!1):U(!0)},[f,U]);let eP=(0,W.useMemo)(()=>({tags:{in_experiment:x,exp_group:P??"none"}}),[x,P]),eA=(0,W.useCallback)(()=>{x&&(0,nL.GV)("mweb.closeup.pin_action_bar.inline_visit_button.click",eP)},[x,eP]),ev=(0,W.useCallback)(()=>{x&&(0,nL.GV)("mweb.closeup.pin_action_bar.visit_button.click",eP)},[x,eP]),ew=(0,ir.A)(()=>{x&&(0,nL.GV)("mweb.closeup.pin_action_bar.save_button.click",eP)},100);if(d&&z&&!en)return(0,ej.jsx)(q.A,{id:"PinActionBarLayout",children:(0,ej.jsx)(iM,{backButton:g?(0,ej.jsx)(q.A,{id:"PinActionBarBackButton",children:(0,ej.jsx)(iD,{bgColor:"default"})}):null,headerLimitedOverflow:eb,isActionBarInline:f,isDesktop:L,isStoryPin:k,isTransparentBackground:!0,showHorizontalActionBar:en})});let eI=!L&&E&&(!F||J||z),eF=(0,ej.jsx)(q.A,{id:"PinContextMenuButton",children:(0,ej.jsx)(iJ.default,{clientTrackingParams:B,onMobileTap:i,onSendButtonClick:t,pinKey:A,seoDrawerPinType:"closeup",shouldShowSeoDrawerNewfields:!z,shouldShowSeoDrawerOption:!z,viewParameter:M})}),eC=!m&&_&&!(J&&L)&&!(j&&!z)&&!es,eK=!L&&z&&!F&&en&&f&&eC&&x;return(0,ej.jsx)(q.A,{id:"PinActionBarLayoutWrapper",children:(0,ej.jsx)(i3,{mWebCloseupRedesignEnabled:x,withMargin:!eK&&f&&x,withPadding:eK,children:(0,ej.jsx)(q.A,{id:"PinActionBarLayout",children:(0,ej.jsx)(iM,{backButton:g?(0,ej.jsx)(q.A,{id:"PinActionBarBackButton",children:(0,ej.jsx)(iD,{})}):null,commentButton:eI&&!x&&(0,ej.jsx)(i$.default,{pinKey:A}),downloadButton:(eu||ec)&&!x&&(0,ej.jsx)(X.$n,{color:"primary",onClick:ed,size:"lg",text:eu?b._('Download image', 'download.button.dweb', 'Button to download image'):b._('Save to phone', 'download.button.mweb', 'Button to download image')}),downloadIcon:eg&&!x&&(0,ej.jsx)(X.so,{alignItems:"center",justifyContent:"start",children:L?(0,ej.jsxs)(X.m_,{inline:!0,text:b._('Download image', 'Closeup.Download.Icon', 'Icon for downloading current pin image'),zIndex:new X.rk(2),children:[(0,ej.jsx)(X.K0,{ref:em,accessibilityLabel:b._('Download image', 'download.button.closeup', 'Button to download image'),bgColor:"transparent",icon:"download",iconColor:"default",onClick:ed,size:"lg"}),eh&&eS]}):(0,ej.jsxs)(X.az,{children:[(0,ej.jsx)(X.K0,{ref:em,accessibilityLabel:b._('Download image', 'download.button.closeup', 'Button to download image'),bgColor:"transparent",icon:"download",iconColor:"default",onClick:ed,size:"lg"}),eh&&eS]})}),editOrMoreButton:!en&&!x&&(l?(0,ej.jsx)(X.az,{"data-test-id":"editBoardButton",children:(0,ej.jsx)(X.K0,{accessibilityLabel:b._('edit', 'Pin edit button', 'Pin edit button'),icon:"pencil",iconColor:"default",onClick:({event:e})=>l(e),size:"lg"})}):(0,iU.A)(O,G,L)&&!!I&&(0,ej.jsx)(X.az,{"data-test-id":"ellipsis-button",children:eF})),headerLimitedOverflow:eb,inlineBar:eC&&x?(0,ej.jsx)(X.so,{alignItems:"center",dataTestId:"pin-action-bar-container",justifyContent:"center",children:(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:eo?{__style:{position:"sticky"}}:void 0,"data-test-id":"visit-button-mobile-inline",paddingX:0,top:!!eo,width:"100%",children:(0,ej.jsx)(q.A,{id:"PinActionBarVisitButton",children:(0,ej.jsx)(ae,{actionButtonText:w,clickthroughInterstitialExperience:e,fullWidth:!0,isDesktop:L,nativeCreatorVerifiedWebsite:a,onClick:eA,pinKey:A})})})}):null,isActionBarInline:f,isDesktop:L,isStoryPin:k,isTransparentBackground:er,reactionCount:!z&&!x&&(0,ej.jsxs)(X.so,{alignItems:"center",justifyContent:"start",children:[(0,ej.jsx)(X.m_,{inline:!0,text:b._('React', 'Closeup.ReactionPicker.Icon', 'Icon for reacting to current pin'),zIndex:new X.rk(2),children:(0,ej.jsx)(X.K0,{accessibilityLabel:"React to pin",dataTestId:"react-button",icon:"heart",onClick:()=>{Y({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"click react button",desktopOptions:{modalType:"signup"}}),D({action:"click",item:"reaction-button"})},padding:3})}),!!K&&K>0&&(0,ej.jsx)(X.az,{marginEnd:2,children:(0,ej.jsx)(X.KJ,{dataTestId:"reaction-count",weight:"bold",children:(0,ej.jsx)(is.A,{shortform:!0,shortformMaximumFractionDigits:1,value:K},K)})})]}),saveButton:eu||ec||z&&($||C)?null:(0,ej.jsx)(q.A,{id:"PinActionBarSaveButtonPulsarExperience",children:(0,ej.jsx)(i2,{experience:n,onCompleteRef:V,children:(0,ej.jsx)(X.az,{children:(0,ej.jsx)(iu.A,{clientTrackingParams:B,color:"primary",deeplinkUri:N.shouldShowSavedButton&&s||N.repinPageLocation.deeplinkUri,onTouch:e=>{V.current?.(),N.onSaveButtonClick(e),el(ea?.getData(A?.entityId??"")?"main_pin_savebutton_pinactionbar_withcloseuppreviewdata":"main_pin_savebutton_pinactionbar"),ew()},onUnsave:N.onUnsaveButtonClick,pinKey:A,pinnedToBoardId:r,shouldShowSavedButton:N.shouldShowSavedButton,to:N.repinPageLocation.mwebUri,viewParameter:M,viewType:3})})})}),shareButtonGroup:!es&&!eg&&!x&&(p&&o?(0,ej.jsxs)(X.so,{alignItems:"center",justifyContent:"start",children:[(0,ej.jsx)(eR.A,{name:"SafeSuspense_PinActionBarSaveButton_ReactionPickerContainer",children:(0,ej.jsx)(q.A,{id:"ReactionPickerContainer",children:(0,ej.jsx)(i0,{aggregatedPinDataId:T,clientTrackingParams:B,experience:n,nativePinType:o,pinKey:A})})}),m&&(0,ej.jsx)(q.A,{id:"AnimatedSendButton",children:(0,ej.jsx)(iV.default,{onDefaultSendButtonClick:t,pinKey:A,viewParameter:M})})]}):(0,ej.jsx)(X.az,{"data-test-id":"share-button",children:!z&&L?(0,ej.jsx)(q.A,{id:"UnauthDesktopCloseupSendButton",children:(0,ej.jsx)(iY,{pinKey:A,viewParameter:M})}):(0,ej.jsxs)(X.so,{alignItems:"center",justifyContent:"start",children:[(0,ej.jsx)(q.A,{id:"AnimatedSendButton",children:(0,ej.jsx)(iV.default,{ref:R,onDefaultSendButtonClick:t,pinKey:A,viewParameter:M})}),(0,ej.jsx)(q.A,{id:"ExperiencePopoverEducational",children:(0,ej.jsx)(eL.X$,{anchors:{4019:R.current},idealDirection:"down",onAnchorTouch:"complete",placementId:1000112,scrollToDismiss:!0})})]})})),showHorizontalActionBar:en,showingCloseupCommentModule:h,visitButton:eC?(0,ej.jsx)(X.az,{"data-test-id":"visit-button-mobile",paddingX:2*!et,width:et?"100%":void 0,children:(0,ej.jsx)(q.A,{id:"PinActionBarVisitButton",children:(0,ej.jsx)(ae,{actionButtonText:w,clickthroughInterstitialExperience:e,fullWidth:et,isDesktop:L,nativeCreatorVerifiedWebsite:a,onClick:ev,pinKey:A})})}):null})})})})}let i6=(void 0!==D||(D=a(874209)).hash&&"e23b6f415201e169205bd2d924638562"!==D.hash&&console.error("The definition of 'ReturnToSurfaceButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),D);function i4({pinKey:e}){(0,W.useEffect)(()=>{(0,H.A)("ReturnToSurfaceButton","/app/www/closeup/duplo/ReturnToSurfaceButton.tsx")},[]);let{checkExperiment:n}=(0,ed.A)(),a=n("mweb_return_to_surface_button_new_user").group,l=n("mweb_return_to_surface_button_res_user").group;return"enabled_return_to_top"===a||"enabled_return_to_top"===l?(0,ej.jsx)(i8,{pinKey:e}):null}function i8({pinKey:e}){let{logContextEvent:n}=(0,la.o)(),a=(0,eT.A)(),{navFooterHeight:l}=(0,iq.o)(),i=(0,ei.A)(i6,e),t=a._('Back to top', 'mWeb.CloseupPage.BackToTop.title', 'Text for button to scroll user back to the top of the page');return(0,W.useEffect)(()=>{n({event_type:13,component:13283,element:10538,object_id_str:i?.entityId})},[]),(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{bottom:`${l+4}px`}},margin:2,position:"fixed",right:!0,children:(0,ej.jsx)(X.$n,{accessibilityLabel:t,color:"secondary",dataTestId:"return-to-top-button",onClick:()=>{var e;e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,n({event_type:102,component:13283,element:10538,object_id_str:i?.entityId,aux_data:{scroll_distance:e}}),window.scrollTo({top:0,behavior:"smooth"})},size:"lg",text:t})})}var i9=a(940635),i7=a(406400),te=a(532668),tn=a(604050),ta=a(495868),tl=a(419226),ti=a(411733),tt=a(83325),tr=a(983901),ts=a(343190),to=a(840151),td=a(906494);function tu(){(0,W.useEffect)(()=>{(0,H.A)("UnauthMobileSocialSecondaryTopBanner","/app/www/unauth/UnauthMobileSocialSecondaryTopBanner.tsx")},[]);let e=(0,eT.A)(),n=(0,J.Zp)(),a=(0,eC.AT)(),{secondaryExpGroup:l="",inviterName:i="",inviterAvatarUrl:t=""}=a?.data?.upsellData||{},r=(0,ej.jsx)(X.KJ,{children:(0,eI.vQ)(e._('Let {{ name }} know what you think', 'mweb.unauth.social.secondary.top.upsell.text', 'Prompt on the unauth Pin landing secondary top banner to encourage user engagement. name: sender name'),{name:i})}),s=e._('Reply', 'unauth.mweb.secondary.top.reply.button.text', 'Text on the unauth Pin landing secondary top banner to reply to sender'),o="enabled_top_primary"===l;return(0,ej.jsxs)(X.az,{children:[(0,ej.jsx)(X.az,{paddingX:4,paddingY:2,width:"100%",children:(0,ej.jsxs)(X.so,{alignItems:"center",children:[(0,ej.jsx)(X.az,{marginEnd:2,children:t&&(0,ej.jsx)(ew.eu,{name:i,size:"md",src:t})}),(0,ej.jsx)(X.az,{flex:"grow",children:r}),(0,ej.jsx)(X.az,{children:(0,ej.jsx)(X.$n,{color:o?"primary":"secondary",onClick:()=>{n("/signup"),(0,nL.GV)("unauth.mweb.social.pin.secondary_upsell",{sampleRate:1,tags:{secondary_exp_group:l,action:"navigate_to_signup"}})},size:"md",text:s})})]})}),(0,ej.jsx)(X.az,{dangerouslySetInlineStyle:{__style:{border:"0.5px solid #EEEEEE"}},marginStart:-2,width:"calc(100% + 16px)"})]})}let tc=(0,aT.A)(()=>a.e("6681").then(a.bind(a,996366)),void 0,e=>996366,"app-www-closeup-duplo-unauth-UnauthCloseupInviteUpsell",e=>["6681"]),tp=(0,W.lazy)(()=>a.e("15192").then(a.bind(a,396139))),tg=(0,aT.A)(()=>Promise.resolve().then(a.bind(a,388337)),void 0,e=>388337,"app-www-storyPins-duplo-UnavailableStoryPin",e=>[]),tm=(0,W.lazy)(()=>a.e("70221").then(a.bind(a,69532))),th=(0,aT.A)(()=>Promise.all([a.e("91480"),a.e("79049")]).then(a.bind(a,37350)),{ssr:!1},e=>37350,void 0,void 0),t_=(0,aT.A)(()=>Promise.all([a.e("91480"),a.e("55019"),a.e("66272")]).then(a.bind(a,118603)),{ssr:!1},e=>118603,void 0,void 0),ty=(0,aT.A)(()=>Promise.all([a.e("96638"),a.e("75125")]).then(a.bind(a,725524)),{ssr:!1},e=>725524,void 0,void 0),tf=(0,aT.A)(()=>Promise.all([a.e("96638"),a.e("85410")]).then(a.bind(a,938022)),void 0,e=>938022,"app-www-closeup-duplo-UnauthCloseupRelatedPins",e=>["96638","85410"]),tk=(0,aT.A)(()=>a.e("34291").then(a.bind(a,330782)),{ssr:!1},e=>330782,void 0,void 0),tS=(void 0!==z||(z=a(616638)).hash&&"d24acb4e7206929119cac70bbcaacdad"!==z.hash&&console.error("The definition of 'CloseupInner_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),z),tb=(void 0!==O||(O=a(96842)).hash&&"899448dfe19b40f60f5bb50efe5d0aef"!==O.hash&&console.error("The definition of 'CloseupFullDetail_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),O),tx=(void 0!==B||(B=a(673785)).hash&&"09059e490f65cb0fc8a47e0ddb3ac527"!==B.hash&&console.error("The definition of 'CloseupDetailQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),B),tP=({children:e,queryRef:n})=>{let a=eM(tx,n),l=a?.v3GetPinQuery?.__typename==="V3GetPin"?a.v3GetPinQuery.data:null;return e((0,ei.A)(tb,l))},tA=({children:e,fallback:n,queryRef:a})=>(0,ej.jsx)(W.Suspense,{fallback:n,children:(0,ej.jsx)(tP,{queryRef:a,children:n=>n&&e(n)})}),tv=({children:e,pinId:n,storyPinWrapper:l})=>{let i=(0,ey.qJ)(),{isAuthenticated:t}=(0,ep._8)();if(null!=l.optionalFragmentRef)return e(l.optionalFragmentRef);{let l=(0,eb.useLazyLoadQuery)((void 0!==N||(N=a(870410)).hash&&"45826fa01d0796145bfe5f51c4675bcd"!==N.hash&&console.error("The definition of 'CloseupStoryPinQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),N),{pinId:n,isAuth:t,isDesktop:i}).v3GetPinQuery;return e(l?.__typename==="V3GetPin"?l.data:null)}},tw=W.Fragment,tT=({children:e,unauthCloseupRedesignEnabled:n,uanuthDesktopSocialLandingPopover:a})=>e&&a?(0,ej.jsxs)(X.so,{gap:{row:4,column:0},justifyContent:"center",maxWidth:n?"100%":void 0,width:n?"fit-content":void 0,children:[a,e]}):e;function tI({clickthroughInterstitialExperience:e,experience:n,isProductPin:l,isStoryPin:i,postDownloadModalEligibilityType:t,uanuthDesktopSocialLandingPopover:r,viewerId:s,viewingUser:o,pagePinKey:d,storyPinKey:u,detailPinPreloadedQueryRef:c}){var p;let g,m=(0,ei.A)(tS,d),h=(0,eq.A)(m),{board:_,pinner:y,commentsDisabled:f,imageSignature:k,nodeId:S,isDownstreamPromotion:b,isEligibleForAggregatedComments:x,isGoLinkless:P,isPromoted:A,isV1IdeaPin:v,link:w,mobileLink:T,promotedIsRemovable:I,storyPinDataId:E,trackedLink:F,utmLink:C}=m??{},j=m?.pinJoin?.seoBreadcrumbs?.map(({name:e,url:n})=>({name:e??"",url:n??""})),K=(0,e7.A)({pinKey:m,viewParameter:156}),R=m?.isInstagramApi&&m.nativeCreator?.isPrimaryWebsiteVerified&&m.nativeCreator?.isDirectToSiteAllowed&&m.nativeCreator?.websiteUrl?m.nativeCreator.websiteUrl:null,L=_?.collaboratedByMe??!1,D=_?.collaboratorPermissions,z=_?.entityId,O=_?.isCollaborative,B=_?.owner?.entityId,N=_?.url,M=m?.closeupAttribution?.fullName??"",U=m?.embed?.src,V=m?.embed?.subtype,G=m?.embed?.type,H=!!m?.linkDomain,$=!!m?.linkDomain?.officialUser,Q=!!m?.linkUserWebsite?.officialUser,Z=!!m?.nativeCreator,ee=!!m?.richMetadata,en=!!m?.richMetadata?.article,ea=!!m?.richMetadata?.products?.length,et=!!m?.richMetadata?.recipe,er=!!m?.richMetadata?.tutorial,es=!!m?.thirdPartyPinOwner,eu=m?.storyPinData?.isDeleted??!1,ec=!!m?.videos?.entityId,eg=m?.linkDomain?.name,em=m?.createdAt,e_=m?.domain,eS=m?.pinnedToBoard?.entityId,eb=m?.pinnedToBoard?.url,ev=m?.section?.entityId,ew=m?.trackingParams,eI=m?.recommendationReason&&{reason:m.recommendationReason.reason,reasonId:m.recommendationReason.reasonId},eF=m?.shouldOpenInStream??!1,eB=m?.videos?.entityId,eN=m?.entityId,eM=y?.domainUrl,na=y?.domainVerified,nl=y?.entityId;p=m?.topInterest,g=(0,Y.wA)(),(0,W.useEffect)(()=>{null!=p&&"number"==typeof p&&g((0,e6.CV)(p))},[p,g]);let ni=(0,eT.A)(),nr=(0,J.Zp)(),ns=(0,J.zy)(),no=(0,ey.Ay)(),nd="desktop"===no,nu=(0,Y.wA)(),nc=(0,e4.A)(),np=(0,ek.A)(),ng=(0,eA.A)(),nm=(0,eE.A)(),nh=(0,e1.A)(),n_=(0,tn.A)(),{checkExperiment:ny}=(0,ed.A)(),{isBot:nf,isSocialBot:nk,isAuthenticated:nS,userAgent:nb}=(0,ep._8)(),{setPinFeedbackStatus:nx}=(0,ta.N)(),[nP,nA]=(0,W.useState)(!0),[nv,nw]=(0,W.useState)(!1),[nT,nI]=(0,W.useState)(0),nE=!(0,lI.zE)(),{mWebCloseupRedesignEnabled:nF}=(0,ex.A)(),nC=!nS&&l,nj=(0,to.Y)(),[nK,nR]=(0,W.useState)(!1);(0,W.useEffect)(()=>{nR(!1)},[eN]);let[nL,nD]=e8(!1,eN??""),nz=!A&&!b&&!eu&&!nF,nO=nl===s,nB=(0,ey.qJ)(),nN=(0,eo.k3)(e_)?(0,nJ.bz)({i18n:ni,hasLinkDomain:H,hasRichMetadataArticle:en,hasRichMetadataRecipeCategorizedIngredients:et,hasRichMetadataTutorial:er,richMetadataRecipeFromAggregatedData:null}):ni._('Uploaded to Pinterest', 'closeup.closeupDetails.pinCreditPrefix', 'tells the pinner that the pin was uploaded to Pinterest');(0,W.useEffect)(()=>{!ns.key&&nS&&(0,eW.A)(o,null,28)&&ng({event_type:9956,view_type:3,userIdStr:o?.id}),nS&&(0,e3.OH)("view_pin_page")},[]),(0,W.useEffect)(()=>{let e=()=>{let e=window.innerHeight+nT;nw(window.scrollY>=e)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[nT]);let[nM,nU]=(0,W.useState)(!0),[nV,nG]=(0,W.useState)(!1),[nH,nW]=(0,W.useState)(null),[nY,n$]=(0,W.useState)(!1),{showUnauthSharingModals:nX}=(0,e0.E)()??Object.freeze({}),nq=(0,eL.Ts)(),nQ=!nd&&!!x&&nS&&!f,n0=l&&nS||nC,n1=!nd&&!l,n2=n0||n1,[n3,n6]=e8((!n2||!!nF)&&(!nS||nd||nF),eN??""),n4=n3||nC?"body":"header",n8=(0,nn.A)({action:4,collaboratedByMe:L??!1,collaboratorPermissions:D,ownerId:B}),n9=(0,eY.mg)(ns),n7=(0,eC.ik)(),{expGroup:ae=""}=n7?.data?.popoverData||{},an=(0,eC.AT)(),aa=an?.data?.upsellData,al=aa?.showDefaultUpsell||!1,ai=(aa?.secondaryExpGroup||"").startsWith("enabled_top"),at=(0,nt.A)({skipExpActivation:!1}),ar=()=>{!nf&&o?.id&&"u">typeof window&&(0,eV.K)(window.location,o.id,!0,nS,e=>nr(e,{state:ns.state}))},as=()=>(0,e2.A)(()=>{eN&&ng({event_type:110,view_type:3,view_parameter:156,component:ec?179:85,aux_data:{unauth_page_pin_id:eN,is_go_linkless:P}})},300),ao=(0,W.useCallback)(()=>{let e={pin_image_signature:k};nu((0,eD.xL)([1000112],nf,nS?{...e,creator_username:M,is_creator_card_shown:!nO&&!!(({domain:e,isPromoted:n,hasLinkDomainOfficialUser:a,hasLinkUserWebsiteOfficialUser:l,hasNativeCreator:i,hasThirdPartyPinOwner:t,pinnerDomainVerified:r,pinnerDomainUrl:s})=>l||a||t||!!r&&s===e&&!n||i)({domain:e_,isPromoted:A,hasLinkDomainOfficialUser:$,hasLinkUserWebsiteOfficialUser:Q,hasNativeCreator:Z,hasThirdPartyPinOwner:es,pinnerDomainVerified:na,pinnerDomainUrl:eM})}:e))},[nu,M,k,nS,A,nf,$,Q,Z,es,e_,na,eM,nO]),ad=m?.imageSpec_236x?.url?{url:m.imageSpec_236x.url}:null;(0,W.useEffect)(()=>{nj?.isSaved(eN??"")&&nq("Save",{pin_id:eN,is_promoted:A,pin_description:m?.description,pin_image:ad,save_type:o?.save_behavior===ne.W.SAVE_TO_PROFILE?"quicksave":""})},[nj,eN]);let au=e=>{n_({fn:()=>{nW("sendPinModal"),nS||nX?.()},modalHeader:(0,te.uj)(ni)})(e)},ac=(0,ey.M)();(0,ef.A)(()=>(ar(),(0,eU.A)(),(0,eh.A)(window.location.search).invite_code&&ng({component:ec?179:85,element:46,event_type:47,view_type:3,view_parameter:156}),nS?nd||ij(o):(window.addEventListener("scroll",as),(0,e3.PM)(`mweb.pin_page.${nb.platform||"unknown"}`),em&&(0,e3.PM)("mweb_unauth.pin_page.publish_date"),(0,e3.uq)("view_pin_page")),E&&nu((0,tt.bP)()),nf||ao(),"t"===(0,eh.A)(ns.search).open_share&&au(),()=>{E&&nu((0,tt.iZ)()),nS||window.removeEventListener("scroll",as)}));let ap=(0,W.useRef)(null),ag=(0,W.useRef)({linkDomainName:eg,pinId:eN??""});(0,W.useEffect)(()=>{let e=ag.current,n=eN!==e.pinId,a=!e.pinId&&eN,l=e&&e.linkDomainName!==eg;n&&(ar(),nS&&(0,e3.OH)("view_pin_page")),(a||n||l&&nS)&&ao(),ag.current={linkDomainName:eg,pinId:eN??""}});let am=void 0===ns.state;(0,W.useEffect)(()=>{nu((0,tt.iZ)())},[nu]),(0,W.useEffect)(()=>{"enabled_banner_reply"===ae&&n$(!0)},[ae]);let{learningUpsell:ah}={learningUpsell:{isShown:(0,Y.d4)(e=>e.upsell.appUpsells.learningUpsell?.isShown??!1)}},a_=ny("migration_upsell_manager_redux").anyEnabled||ny("migration_upsell_manager_redux_dweb").anyEnabled||ny("migration_upsell_manager_redux_mweb").anyEnabled||ny("migration_upsell_manager_redux_dweb_global").anyEnabled||ny("migration_upsell_manager_redux_mweb_global").anyEnabled,ay=(0,l_.R)(),af=a_?ah.isShown:ay?.shouldShowLearningUpsell||!1,ak=!nS&&ac&&["ios","android"].includes(nb.platform);(0,W.useEffect)(()=>{if(!ak||!af)return()=>{};{if(!a_&&!ay?.setShouldShowLearningUpsell)return()=>{};let e=(0,e2.A)(()=>{window.scrollY>400&&(a_?nc((0,e6.Eb)({isShown:!1,isDismissedByUser:!1})):ay?.setShouldShowLearningUpsell(!1),(0,e3.PM)("learning.upsell.dismiss.by.scroll.down"))},10);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}},[ak,af,a_,nu,ay]);let aS=(0,tr.A)({embedSrc:U,embedType:G,hasRichMetadata:ee,hasRichMetadataProducts:ea,hasRichMetadataArticle:en,hasRichMetadataRecipe:et,imagesUrls:h,pinId:eN,nodeId:S}),ab=function({boardId:e,embedSrc:n,embedType:l,imagesUrls:i,pinId:t,nodeId:r,pinnerId:s,pinnedToBoardId:o,pinSectionId:d,trackingParams:u,showSingleToast:c,onError:p,shouldRefresh:g=!0}){let m=(0,Y.wA)(),h=(0,tn.A)(),_=(0,td.CG)()[c?"showOneToast":"showToast"],y=(0,eT.A)(),f=(0,ts.A)({embedSrc:n,embedType:l,imagesUrls:i,pinId:t,nodeId:r}),k=(0,J.Zp)(),S=(0,J.zy)(),b=(0,to.Y)(),{isAuthenticated:x,userId:P}=(0,Y.d4)(({session:e})=>e),A=(0,ia.A)(S.state?S.state.trackingParams:"",u),v=h({fn:async()=>{if(!t||!e||!s)return void p?.();let n=s===P,l=!n&&b?.getSavedPinId(t)||t,i=n?k(-1):void 0,{default:r}=await a.e("11082").then(a.bind(a,764657));r({boardId:!n&&o?o:e,boardSectionId:d??"",clientTrackingParams:A,dispatch:m,i18n:y,newPinId:l,onError:p,onSuccess:i,shouldRefresh:g,showToast:_,sourcePinId:t,undoSavedPin:(e=>{b?.unsave(e)})??(()=>void 0)})}});return x?v:f?.onUnsave||(()=>void 0)}({boardId:z??"",embedSrc:U,embedType:G,imagesUrls:h,pinId:eN??"",nodeId:S,pinnerId:nl??"",pinnedToBoardId:eS??"",pinSectionId:ev??"",trackingParams:ew}),ax=function({embedSrc:e,embedType:n,imagesUrls:a,pinId:l,nodeId:i,pinnerId:t}){let{isAuthenticated:r,userId:s}=(0,Y.d4)(({session:e})=>e),o=(0,to.Y)(),d=(0,ts.A)({embedSrc:e,embedType:n,imagesUrls:a,pinId:l,nodeId:i});return!!l&&(r?!!(t===s||o?.isSaved(l)):d?.isSaved??!1)}({embedSrc:U,embedType:G,imagesUrls:h,pinId:eN,nodeId:S,pinnerId:nl??""}),aP=function({link:e,mobileLink:n,trackedLink:a,utmLink:l}){let i=(0,el.A)(),t=(0,nZ.DF)()(i.isAuth?i.id:"");return!!(0,eo.iF)({link:e,mobileLink:n,trackedLink:a,utmLink:l})&&!((0,eH.A)(t?.created_at)&&!(0,lS.KW)(t))&&!(0,eo.N)(e)}({link:w,mobileLink:T,trackedLink:F,utmLink:C}),aA=m?.originPinner&&s===m.originPinner.entityId||!P,av=(0,tl.QW)({boardIsCollaborative:O,isDownstreamPromotion:b,isEligibleForStaticImageIdeaPin:(0,n5.C)(i)&&!1===eF,isPromoted:A,storyPinDataId:E,videosId:eB}),aw=nS&&av,aT=(0,eP.A)({pinKey:m}),aI=(0,W.useMemo)(()=>({componentType:ec?179:85,slotIndex:0,viewData:{pin_id:eN},viewParameter:156,viewType:3}),[ec,eN]),aE=ec&&nS&&!nd,aF=(0,i9.A)(m),aC={downloadImageUrl:!ec&&(0,eX.A)({imagesUrls:h,embedSrc:U,embedType:G,excludeOriginals:!nf&&!nk})||null,isAuthenticated:nS,isBot:nf,isSocialBot:nk,commentModalConfig:{isCommentThreadModalOpen:"commentThreadModal"===nH,setIsCommentThreadModalOpen:e=>{nW(e?"commentThreadModal":null)}},saveButtonConfig:{shouldShowSavedButton:ax,onSaveButtonClick:e=>{aS(e)},onUnsaveButtonClick:ab,repinPageLocation:(0,eo.j1)(eN??"",ns)},clientTrackingParams:aT,isStoryPin:i,viewParameter:(0,nJ.Bo)({hasRichMetadata:ee,hasRichMetadataProducts:ea,hasRichMetadataArticle:en,hasRichMetadataRecipe:et}),pinId:eN??"",canUpsellNativeApp:np,shouldShowReactions:aw,onSendButtonClick:au,isGoLinklessEnabledOverflow:!!P,isChromeOnIOS:"ios"===nb.platform&&"Chrome"===nb.browserName,handleDownloadPinImageClick:()=>{nm({action:"click",item:"download-image-button",within:"action-bar"}),"unauthPostDownloadUpsell"===t?(nW(null),nd||nh({attributionLabel:"tap_closeup_download_button",reason:"UPSELL_LOGIN_OR_SIGNUP",mobileOptions:{headingType:"download"}})):t?nW("postDownloadModal"):nq("Download",{pin_id:eN})},shouldRenderAsStoryPin:(0,n5.C)(i)&&!1!==eF&&nd,storyPinCloseupRef:ap,shouldShowVisitInMoreOptions:aP&&aE||!!P,onHidePin:()=>{let e,{action:n,actionOptions:a}=(0,eJ.A)({feedbackType:K,pinId:eN,pinFeedbackType:"pfy"===K?4:10,recommendationReason:eI&&{board:null,reasonId:eI.reasonId,reason:eI.reason,throughProperties:[]},clientTrackingParams:aT});e=eN??"",nu((0,ti.aq)({id:e,nodeId:S})),(0,e$.fh)(n,a,()=>nx({pinId:eN??"",pinFeedbackStatus:"hidden"}),ng),nr&&nr(-1)},onSeeLessPin:()=>{let e,{action:n,actionOptions:a}=(0,eJ.A)({feedbackType:K,pinId:eN,pinFeedbackType:"pfy"===K?4:10,recommendationReason:eI&&{board:null,reasonId:eI.reasonId,reason:eI.reason,throughProperties:[]},clientTrackingParams:aT});e=eN??"",nu((0,ti.aq)({id:e,nodeId:S,text:{undoCallbackProps:{action:n,actionOptions:a,viewType:3,viewParameter:156}}})),(0,e$.fh)(n,a,()=>nx({pinId:eN??"",pinFeedbackStatus:"hidden"}),ng),nr&&nr(-1)}},aj=aw&&(eB&&"video"||(0,n5.C)(i)&&"storyPin")||null,aK=nO||n8?n_({fn:()=>nr(ns.pathname+"edit/"),modalHeader:(0,te.rQ)(ni),nextLocation:(0,te.rS)(ns)}):void 0,aR=()=>{nW("reportPinModal"),ng({view_type:3,view_parameter:139,element:72,event_type:102,object_id_str:eN||""})},aL=(0,ej.jsx)(tA,{queryRef:c,children:a=>(0,ej.jsx)(q.A,{id:"PinActionBar",children:(0,ej.jsx)(i5,{clickthroughInterstitialExperience:e,experience:n,isActionBarInline:n3||nC,isEligibleToVisitPin:aP&&aA,isNewUser:(0,eH.A)(o?.created_at),isStoryPin:i,isVideoPin:ec,nativeCreatorVerifiedWebsite:R,nativePinType:aj,onEditButtonClick:aK,onMobileTap:()=>{aR()},onSendButtonClick:au,pinKey:a,pinnedToBoardId:eS,pinnedToBoardUrl:(nO?N:eb)||"",scrolledToRelatedPins:nK,setShouldShowDownloadPopover:nU,shouldShowBackButton:"header"===n4,shouldShowDownloadPopover:nM,shouldShowReactions:aw&&!n2,shouldShowShareOnVideoCloseup:aE,showCloseupCommentModule:nQ})})}),aD=(0,ej.jsx)(X.az,{alignItems:"stretch",display:"flex",justifyContent:"start",marginBottom:2,marginTop:2,minHeight:48,children:(0,ej.jsx)(tA,{queryRef:c,children:e=>(0,ej.jsx)(q.A,{id:"CloseupPinActionBar",children:(0,ej.jsx)(iS,{commentsDisabled:f,experience:n,isEligibleForAggregatedComments:x,isRemovablePin:I??!1,nativePinType:aj,onMobileTap:()=>{aR()},onSendButtonClick:au,pinKey:e,pinnedToBoardId:eS,pinnedToBoardUrl:(nO?N:eb)||"",setIsActionBarInline:n6})})})}),az=(ns.search||"").includes("force_seo")||!nS,aO=(0,ej.jsx)(q.A,{id:"CloseupPageBodySection",children:(0,ej.jsxs)(tT,{uanuthDesktopSocialLandingPopover:r,unauthCloseupRedesignEnabled:at,children:[(n2||n3)&&!(nC&&nd)&&(0,ej.jsx)(q.A,{id:"CloseupStickyHeader",children:(0,ej.jsx)(iI,{pinContextMenuButton:n2&&!nK&&!nF&&(0,ej.jsx)(tA,{queryRef:c,children:n=>(0,ej.jsx)(X.az,{"data-test-id":"ellipsis-button",children:(0,ej.jsx)(q.A,{id:"PinContextMenuButton",children:(0,ej.jsx)(iJ.default,{clickthroughInterstitialExperience:e,clientTrackingParams:aT,onMobileTap:aR,onSendButtonClick:au,pinCreditPrefix:nN,pinKey:n,seoDrawerPinType:"closeup",shouldShowSeoDrawerNewfields:!nS,shouldShowSeoDrawerOption:!nS,viewParameter:aC.viewParameter})})})})})}),eu?(0,ej.jsx)(q.A,{id:"UnavailableStoryPin",children:(0,ej.jsx)(tg,{})}):(0,ej.jsx)(q.A,{id:"CloseupMainPin",children:(0,ej.jsx)(l0,{actionBarIsMinifiedToMainPinImage:nV,clickthroughInterstitialExperience:e,closeupIsFirstPageInHistoryStack:am,closeupPinActionBar:nF?aD:null,detailPinPreloadedQueryRef:c,instagramPostLink:(0,ej.jsx)(q.A,{id:"InstagramPostLink",children:(0,ej.jsx)(e5.A,{nativeCreatorCloseupLinkEligible:!!R,peekCloseupEnabled:!1,uriComponent:(0,eo.iF)({utmLink:C,trackedLink:F,link:w})})}),isActionBarInline:n3,isImagePinForUnauthOnTablet:!nS&&!ec&&!(0,eo.d4)({embedSrc:U,embedSubtype:V,embedType:G})&&("tablet"===no||(0,eG.XC)()),isRelatedPinsFeedIsEmpty:nP,isSendPinModalOpen:"sendPinModal"===nH,isVideoPin:ec,nativeCreatorVerifiedWebsite:R,onLinklessPinTap:()=>{let e=!nV;nG(e),nu(e?(0,tt.iZ)():(0,tt.bP)())},onMoreButtonClick:aR,onSendPin:au,pagePinKey:m,pinActionBar:"body"===n4||nF?aL:null,setIsActionBarInline:n6,setIsShowingCloseupDetailsSuspenseFallback:nD,setPinImageHeight:nI,shouldShowReactions:av,shouldShowSEOPinInfo:az,showCloseupCommentModule:nQ,storyPinKey:u,unauthCloseupRedesignEnabled:at,viewerId:s})})]})});return m&&y&&_?(0,ej.jsx)(q.A,{id:"Closeup",children:(0,ej.jsx)(e9.W,{value:aI,children:(0,ej.jsx)(it,{pinKey:m,viewParameter:aC.viewParameter,children:(0,ej.jsxs)(l8,{closeupPageContext:aC,hasGutter:!0,imageViewer:(0,eY.dT)(ns)&&nS&&(0,ej.jsx)(tA,{queryRef:c,children:e=>(0,ej.jsx)(th,{experience:n,pinKey:e,pinnedToBoardId:eS,pinnedToBoardUrl:(nO?N:eb)||"",postDownloadModalEligibilityType:t,setActionBarIsMinifiedToMainPinImage:nG})}),pinKey:m,stickyUpsell:ak&&af&&(0,ej.jsx)(eZ.A,{children:(0,ej.jsx)(tm,{pinKey:m})}),children:[(0,ej.jsx)(q.A,{id:"CloseupPageHeaderSection",children:(0,ej.jsxs)(tw,{children:[nS&&(0,ej.jsxs)(W.Fragment,{children:[n&&(0,ej.jsx)(eL.nU,{placementId:1000112}),n&&(0,ej.jsx)(eL.b5,{placementId:1000112}),n&&(0,ej.jsx)(eL.aR,{experience:n},`${eN}-modal-1000112`),n&&(0,ej.jsx)(eL.Vj,{customFooterHeight:n3?void 0:88,experience:n},`${eN}-callout-1000112`),(0,ej.jsx)(ez.A,{placementId:1000494},`${eN}-1000494`),(0,ej.jsx)(ez.A,{placementId:1000500},`${eN}-1000500`),(0,ej.jsx)(eO.A,{placementId:1000540},`${eN}-1000540`)]}),!nS&&n9&&!nd&&!al&&(0,ej.jsx)(tc,{isDesktop:!1,isStoryPin:i}),!nS&&!nd&&ai&&(0,ej.jsx)(tu,{}),!nF&&"header"===n4&&!nV&&aL,!nS&&nd&&nE&&(0,ej.jsx)(i7.A,{breadcrumbs:j??[]}),!nS&&!nd&&nE&&(nf?(0,ej.jsx)(i7.A,{breadcrumbs:j??[]}):(0,ej.jsx)(tk,{fallback:(0,ej.jsx)(X.az,{height:i7.Z}),pagePinKey:m,seoBreadcrumbs:j??[]})),nY&&!nS&&(0,ej.jsx)(eK,{onDismiss:()=>{n$(!1)}})]})}),!at&&aO,nS&&(0,ej.jsx)(eR.A,{name:"SafeSuspense_Closeup_RelatedInterestUpsellContainer",children:(0,ej.jsx)(eQ.Ce,{children:(0,ej.jsx)(eQ.YP,{children:(0,ej.jsx)(eZ.A,{fallback:(0,ej.jsx)(l9.A,{}),children:(0,ej.jsx)(q.A,{id:"CloseupRelatedModulesFeed",children:(0,ej.jsx)(ty,{auxCommerceData:aF,isProductDetailPage:l,isShowingCloseupDetailsSuspenseFallback:nL,onRelatedPinsTitleEnter:()=>nR(!1),onRelatedPinsTitleExit:()=>nR(!0),pinKey:m,recommendationReason:eI})})})})})}),!nS&&(0,ej.jsx)(tA,{queryRef:c,children:e=>(0,ej.jsx)(q.A,{id:"UnauthCloseupRelatedPins",children:(0,ej.jsx)(tf,{closeupBody:at?aO:void 0,isShowingCloseupDetailsSuspenseFallback:nL,onRelatedPinsLoadEmpty:nA,onRelatedPinsTitleEnter:()=>nR(!1),onRelatedPinsTitleExit:()=>nR(!0),pinKey:e,unauthCloseupRedesignEnabled:at})})}),(0,ej.jsx)(tA,{queryRef:c,children:n=>(0,ej.jsxs)(W.Fragment,{children:[v&&(0,ej.jsx)(eZ.A,{children:(0,ej.jsx)(tp,{pinKey:n,viewParameter:aC.viewParameter})}),nH&&(0,ej.jsx)(eR.A,{name:"SafeSuspense_Closeup_CloseupModals",children:(0,ej.jsx)(eZ.A,{children:(0,ej.jsx)(X.az,{"data-test-id":"close-action-bar",children:(0,ej.jsx)(q.A,{id:"CloseupModals",children:(0,ej.jsx)(t_,{clickthroughInterstitialExperience:e,clientTrackingParams:aT,isEligibleForPinReactions:nz,modal:nH,nativePinType:aj,onDismiss:()=>{nm({action:"click",item:"close-action-bar",within:"action-bar"}),nW(null)},onEditButtonClick:aK,onSendButtonClick:au,pinKey:n,postDownloadModalEligibilityType:t,shouldShowShareOnVideoCloseup:aE,showingCloseupCommentModule:nQ,viewerIsOwner:nO,viewParameter:aC.viewParameter})})})})})]})}),nv&&(0,ej.jsx)(i4,{pinKey:m})]})})})}):(0,ej.jsx)(X.az,{margin:5,children:nS||nB&&(0,eY.mg)(ns)?(0,ej.jsx)(l9.A,{}):(0,ej.jsx)(iA,{})})}function tE({detailPinPreloadedQueryRef:e,...n}){(0,W.useEffect)(()=>{(0,H.A)("Closeup","/app/www/closeup/duplo/Closeup.tsx")},[]);let{isStoryPin:l,pagePinKey:i}=n,t=(0,ei.A)((void 0!==M||(M=a(480734)).hash&&"0873afe02adf5c67960113d37a756bcb"!==M.hash&&console.error("The definition of 'Closeup_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),M),i);return(0,n5.C)(l)?(0,ej.jsx)(tv,{pinId:t?.entityId,storyPinWrapper:l,children:a=>a&&(0,ej.jsx)(tI,{...n,detailPinPreloadedQueryRef:e,pagePinKey:t,storyPinKey:a})}):(0,ej.jsx)(tI,{...n,detailPinPreloadedQueryRef:e,pagePinKey:t,storyPinKey:null})}function tF({data:e}){let n=(0,eT.A)(),{derived:{imageUrl:a,placeholder:l},pin:i}=e,t=lD();return(0,ej.jsx)(ns.A,{fullWidth:!0,onTouch:e=>{e.preventDefault(),e.stopPropagation(),t({linkType:i.mobileLink&&"mobile"||i.utmLink&&"utm"||i.trackedLink&&"tracked"||i.link&&"external"||"original",viewParameter:(0,nJ.Bo)({hasRichMetadata:!!i.richMetadata,hasRichMetadataProducts:!!i.richMetadata?.products?.length,hasRichMetadataArticle:!!i.richMetadata?.article,hasRichMetadataRecipe:!!i.richMetadata?.recipe})})},pressState:"none",children:(0,ej.jsx)(aQ.A,{alt:n._('Pin image', 'Pin closeup image', 'Pin closeup image'),color:i.dominantColor||"#efefef",naturalHeight:l?.height??1,naturalWidth:l?.width??1,placeholder:l?.url??"",pwtElementTimingId:aY,showSpinner:!1,src:a})})}function tC({data:e}){return(0,W.useEffect)(()=>{(0,H.A)("CloseupPreview","/app/www/closeup/duplo/CloseupPreview.tsx")},[]),(0,ej.jsxs)(l2.default,{dataLayoutShiftBoundaryId:"CloseupPageContainer",hasFixedHeader:!0,hasGutter:!0,children:[(0,ej.jsx)(q.A,{id:"CloseupStickyHeader",children:(0,ej.jsx)(iI,{})}),(0,ej.jsx)(q.A,{id:"CloseupBodyLayout",children:(0,ej.jsx)(nc,{detail:null,isShowingBreadcrumbs:!1,media:(0,ej.jsx)(ni.A,{roundedForLargeDevice:!0,children:(0,ej.jsx)(tF,{data:e})}),sideBySideOptions:null})}),(0,ej.jsx)(q.A,{id:"CloseupPageLoadingSpinner",children:(0,ej.jsx)(l9.A,{})})]})}void 0!==U||(U=a(260418)).hash&&"b6897cfdabbc156688a485e1ccdf8c7e"!==U.hash&&console.error("The definition of 'CloseupPreview_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.");var tj=a(976827),tK=a(485960),tR=a(507844),tL=a(863153),tD=a(883700),tz=a(509567);function tO({detailPinPreloadedQueryRef:e,excludeFromGridRepTests:n,description:a,dominantColor:l,imageSignature:i,isGif:t,isLoaded:r,isProductPin:s,isRecipePin:o,isStoryPin:d,isVideoPin:u,pinId:c,pinImage:p,pinTitle:g,seoTitle:m,renderAuthMobilePinLandingToast:h,uanuthDesktopSocialLandingPopover:_,pagePinKey:y}){let f,k,S=(0,tz.p)(),b=(0,Y.wA)(),x=(0,J.zy)(),P=(0,ea.A)({id:1000112}),A=(0,el.A)(),v=A.isAuth?A.id:"",{isAuthenticated:w,isBot:T}=(0,ep._8)(),I=(0,nZ.DF)()(v),E=(0,Y.d4)(({experiences:e})=>e),{checkExperiment:F}=(0,ed.A)(),C=(0,er.J)(),{isDirect:j}=(0,es.A)(),K=t&&"gif"||s&&"productPin"||o&&"recipePin"||"IsStoryPin"===d.kind&&"storyPin"||u&&"video"||"image";(0,W.useEffect)(()=>{S&&setTimeout(()=>{S.preload?.((0,tD.DS)("pin/[id]/repin.js"))},500)},[]),(0,en.A)({pageUniqueKey:c,containerPage:"closeup"});let R=(0,ey.qJ)(),{previous:L,forward:D}=(0,et.qD)(),z=0===L.length&&0===D.length;(0,ef.A)(()=>{C&&z&&j&&!w&&(R?(0,nL.GV)("unauth.entry_channel.direct.landing_page.closeup_page.dweb",{sampleRate:1}):(0,nL.GV)("unauth.entry_channel.direct.landing_page.closeup_page.mweb",{sampleRate:1}))}),f=(0,J.zy)(),k=(0,Z.C)(),(0,W.useEffect)(()=>{if(k){let{showDesktopSignupModal:e,pinLinkClickHandler:n}=k,{mt:a,l:l,showsignup:i}=(0,ee.A)(f.search);a?e({signupFlow:"login"===a?{type:"login"}:{type:"signup"},attributionLabel:"navigation_1",container:"closeup",reason:"UPSELL_LOGIN_OR_SIGNUP"}):i?e({signupFlow:{type:"signup"},attributionLabel:"closeup_query_param_showSignup",source:"defaultSource",reason:"UPSELL_LOGIN_OR_SIGNUP"}):l&&n&&n()}},["closeup",f,!!k]),(0,W.useEffect)(()=>{let e=()=>{b((0,tt.iZ)()),window.removeEventListener("scroll",e)};if(R||T?b(d?(0,tt.bP)():(0,tt.iZ)()):window.addEventListener("scroll",e),w)i&&b((0,tt.Qh)(i));else{let e=x.pathname,n=a??"";(0,tK.Dx)({key:Q.Vb,lastVisitedPage:e,imageSignature:i,pinDescription:n,imageInfo:p}),(0,tK.Z)({path:e,image:p,dominant_color:l??null,pin_description:n,pin_id:c});let t=(0,eh.A)(x.search).invite_code;(0,tK.tb)(e,i,c,p,n??"",t),x.state?.isFromNavFooterPage||(0,tK.kh)(e,i,c,p,"pin")}},[x]),(0,W.useEffect)(()=>{document.title=g||m||eo.i},[g,m]);let O=(0,l_.R)(),B=O?.onPinTypeLoad,N=!!r;(0,W.useEffect)(()=>{N&&B&&B((0,n5.C)(d))},[N,d,B]);let M=(0,eu.Y)(),U=(0,W.useRef)(!1);N&&M&&!U.current&&(M.addBinaryAnnotation("pinType",K,"STRING"),M.addBinaryAnnotation("pinId",c,"STRING"),(0,ec.tL)("pinType",K,"STRING"),(0,ec.tL)("pinId",c,"STRING"),U.current=!0);let V=(0,ek.A)(),G=(0,tR.P)({canUpsellNativeApp:V,isAuthenticated:w}),H=(0,eC.F0)();(0,ef.A)(()=>{if(!h||!H||H.hasSeenAuthMobileLandingToast)return()=>{};let{setHasSeenAuthMobileLandingToast:e}=H,n=setTimeout(()=>{h({type:"pin",id:c,data:{title:g||a||"",imgUrl:p?.url||"",dominantColor:l||""}})},3e3);return()=>{e(!0),clearTimeout(n)}});let $=(0,W.useMemo)(()=>({web_gestalt_calico:{anyEnabled:!0,group:"enabled"}}),[]),ei=n&&F("web_exclude_from_grid_rep_tests").anyEnabled;return y?ei?(0,ej.jsx)("div",{className:"excludeFromGridRepTests",children:(0,ej.jsx)(X.FL,{value:$,children:(0,ej.jsx)(q.A,{id:"Closeup",children:(0,ej.jsx)(tE,{clickthroughInterstitialExperience:E[1000162],detailPinPreloadedQueryRef:e,experience:P,isProductPin:s,isStoryPin:d,pagePinKey:y,postDownloadModalEligibilityType:G,uanuthDesktopSocialLandingPopover:_,viewerId:v,viewingUser:I})})})}):(0,ej.jsx)(q.A,{id:"Closeup",children:(0,ej.jsx)(tE,{clickthroughInterstitialExperience:E[1000162],detailPinPreloadedQueryRef:e,experience:P,isProductPin:s,isStoryPin:d,pagePinKey:y,postDownloadModalEligibilityType:G,uanuthDesktopSocialLandingPopover:_,viewerId:v,viewingUser:I})}):null}function tB({pinId:e,queryRefs:n,...l}){let i=(0,$.usePreloadedQuery)((void 0!==V||(V=a(177919)).hash&&"5e6bd57828eced9f4752b1267ecbf16f"!==V.hash&&console.error("The definition of 'CloseupPageQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),V),n.pageRef),t=i.v3GetPinQuery?.__typename==="V3GetPin"?i.v3GetPinQuery.data:null,r=(0,ei.A)((void 0!==G||(G=a(927229)).hash&&"2294633b98297dea114693854730f751"!==G.hash&&console.error("The definition of 'CloseupPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),G),t),s=i.v3GetPinQuery?.__typename==="V3GetPin"?i.v3GetPinQuery.data?.storyPinData?.parentPin??null:null,{isAuthenticated:o}=(0,ep._8)();if(!r)return(0,ej.jsx)(J.C5,{replace:!0,state:{showError:!0},to:o?"/":"/ideas/"});let d=r?.gridTitle||r?.gridDescription||r?.richMetadata?.title||r?.richSummary?.displayName||r?.richMetadata?.article?.name;return(0,ej.jsx)(q.A,{id:"CloseupPage",children:(0,ej.jsx)(tO,{...l,description:r.description,detailPinPreloadedQueryRef:{kind:"GraphQL",preloadedQuery:n.detailRef},dominantColor:r.dominantColor,excludeFromGridRepTests:r&&r?.adData&&r?.adData.excludeFromGridRepTests,imageSignature:r.imageSignature??"",isGif:(0,eo.Xt)(r.embed?.type),isLoaded:!0,isProductPin:!!r.isEligibleForPdp,isRecipePin:r.richSummary?.typeName==="recipe",isStoryPin:r.storyPinDataId?{kind:"IsStoryPin",optionalFragmentRef:s}:{kind:"NotStoryPin"},isVideoPin:!!r.videos?.videoUrls?.length,pagePinKey:r,pinId:e,pinImage:r.images_236x?{dominant_color:r.images_236x.dominantColor??"",height:r.images_236x.height??0,type:r.images_236x.type??"",url:r.images_236x.url??"",width:r.images_236x.width??0}:null,pinTitle:d&&d.trim()||"",seoTitle:r?.seoTitle?.trim()||"",storyPinDataId:r.storyPinDataId})})}function tN({pinId:e,queryRefs:n,...a}){let l=(0,tj.A)(e);return(0,ej.jsx)(W.Suspense,{fallback:"GraphQL"===l.kind?(0,ej.jsx)(q.A,{id:"CloseupPreview",children:(0,ej.jsx)(tC,{data:l.data})}):(0,ej.jsx)(q.A,{id:"CloseupPageLoadingSpinner",children:(0,ej.jsx)(l9.A,{})}),children:"QUERY_MISS"!==n&&(0,ej.jsx)(q.A,{id:"CloseupPageWithGraphQLLoaded",children:(0,ej.jsx)(tB,{...a,pinId:e,queryRefs:n})})})}function tM({pinId:e,...n}){let{countryFromIp:a,isBot:l,isAuthenticated:i,isSocialBot:t}=(0,ep._8)(),r=(0,ey.qJ)(),s=(0,aW.A)(a??"",l,r),o=(0,tj.A)(e),{ref:d}=(0,em.A)({name:"PinResource",options:(({id:e,isAuthenticated:n,addUserConnectionType:a,shouldLazyLoadPinJoin:l,getPageMetadata:i})=>n?{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0,add_connection_type:a}:{id:e,field_set_key:"unauth_react_main_pin",get_page_metadata:i?"seo":void 0,add_connection_type:a,fetch_pin_join_by_default:!l})({id:e,isAuthenticated:i,addUserConnectionType:s,shouldLazyLoadPinJoin:!r&&!i&&!l,getPageMetadata:!!(!i&&t)})}),u=(0,tL.HR)()(e),{data:c}=(0,eg.A)(d),p=c||u;if(!p&&"GraphQL"===o.kind)return(0,ej.jsx)(q.A,{id:"CloseupPreview",children:(0,ej.jsx)(tC,{data:o.data})});let g=p?.grid_title||p?.grid_description||p?.rich_metadata?.title||p?.rich_summary?.display_name||p?.rich_metadata?.article?.name;return(0,ej.jsx)(q.A,{id:"CloseupPage",children:(0,ej.jsx)(tO,{...n,description:p?.description,detailPinPreloadedQueryRef:{kind:"Legacy",resourceRef:d},dominantColor:p?.dominant_color,excludeFromGridRepTests:(p?.ad_data&&p?.ad_data?.exclude_from_grid_rep_tests)??null,imageSignature:p?.image_signature,isGif:(0,eo.Xt)(p?.embed?.type),isLoaded:!!p,isProductPin:!!p?.is_eligible_for_pdp,isRecipePin:p?.rich_summary?.type_name==="recipe",isStoryPin:p?.story_pin_data_id?{kind:"IsStoryPin",optionalFragmentRef:null}:{kind:"NotStoryPin"},isVideoPin:!!p?.videos?.video_list,pagePinKey:p?{type:"Legacy",data:p}:null,pinId:e,pinImage:p?.images?.["236x"]??null,pinTitle:g&&g.trim()||"",storyPinDataId:p?.story_pin_data_id})})}function tU({queryRefs:e,...n}){(0,W.useEffect)(()=>{(0,H.A)("CloseupPage","/app/www/pages/duplo/CloseupPage.tsx")},[]);let{id:a=""}=(0,J.g)(),{pinId:l}=(0,e_.A)(a);return(0,ej.jsx)(q.A,{id:"CloseupPwtSurface",children:(0,ej.jsx)(eS.A,{type:"duplo",children:"GRAPHQL_DISABLED"===e?(0,ej.jsx)(q.A,{id:"CloseupPageWithResource",children:(0,ej.jsx)(tM,{...n,pinId:l})}):(0,ej.jsx)(q.A,{id:"CloseupPageWithGraphQL",children:(0,ej.jsx)(tN,{...n,pinId:l,queryRefs:e})})})})}},998965(e,n,a){a.d(n,{A:()=>i});var l=a(779068);let i=(e,n,a)=>!n&&!a&&l.nl.has(e)},193481(e,n,a){a.d(n,{A:()=>l});function l(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}},644094(e,n,a){a.r(n),a.d(n,{default:()=>k});var l=a(335831),i=a(859471),t=a(106386),r=a(979638),s=a(836737),o=a(221718),d=a(233944),u=a(775816),c=a(625277),p=a(396901),g=a(107639),m=a(424120),h=a(798923),_=a(488265),y=a(491149),f=a(562615);function k({alignIconLeft:e,bgColor:n,color:a,disableRedirect:k=!1,fallbackUrl:S,icon:b="chevron-left",onTouch:x,padding:P,placement:A,shouldUseFallbackUrl:v,size:w="lg",viewParameter:T,viewType:I,isVisualSearch:E,fallbackUrlOptions:F}){(0,i.useEffect)(()=>{(0,l.A)("BackButton","/app/www/routing/BackButton.tsx")},[]);let C=(0,p.A)(),j=(0,r.Zp)(),K=(0,r.zy)(),R=(0,y.qJ)(),L=(0,t.d4)(e=>e.session.isAuthenticated),D=(0,d.A)(),z=(0,_.A)(),{isDarkMode:O}=(0,c.D2)(),{viewType:B,viewParameter:N}=(0,u.WQ)(),[M,U]=I?[I,T]:[B,N],V=()=>{let e=(0,m.y1)().getItem(o.rt);K.key||"/ideas"!==S?(0,h.PM)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,h.PM)("pinner_conversion.back_button.no_history"),(0,h.PM)(`web_back_button_click.${String(A)}.is_auth_${String(L)}`),z({action:"click",item:"back-button"}),M&&D({view_type:M,view_parameter:U,element:34,event_type:102}),x&&x(),k||((!K.key||K.state&&"redirect"===K.state.referrer||v)&&S?j(S,F):K.pathname.includes("/password/reset/")&&K.search&&K.search.includes("?nativeShouldDismiss=true")?j("/login/?dismissWebview=true"):j(-1))},G=O?c.fO:"white",H=(0,g.iK)(K)||E||"inverse"===a;return(0,f.jsx)(s.az,{"data-test-id":"back-button",children:e?(0,f.jsx)(s.az,{alignItems:"center",display:"flex",height:48,marginStart:"close"===b?-1:-2,width:48,children:(0,f.jsx)(s.K0,{accessibilityLabel:C._('Back', 'navigation button', 'navigation button'),bgColor:n,icon:b,iconColor:!a&&(!n||["white","lightGray","transparent"].includes(n))?"subtle":a,onClick:V,padding:"auto"!==P?P:2,size:w})}):(0,f.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:R||H||n?"":G,width:O&&!H?"fit-content":""}},rounding:"circle",children:(0,f.jsx)(s.K0,{accessibilityLabel:C._('Back', 'navigation button', 'navigation button'),bgColor:n||R?n:"transparent",icon:b,iconColor:!a&&(!n||["white","lightGray","transparent"].includes(n))?"subtle":a,onClick:V,padding:"auto"!==P?P:2,size:w})})})}},225853(e,n,a){a.d(n,{A:()=>i});var l=a(13324);function i({dispatch:e,viewerUser:n}){let{id:a}=n||{};a&&e((0,l.Q5)("BoardlessPinsResource",{field_set_key:"mobile",userId:a}))}},983901(e,n,a){a.d(n,{A:()=>h});var l=a(106386),i=a(979638),t=a(233944),r=a(396901),s=a(409111),o=a(488265),d=a(343190),u=a(744582),c=a(370377),p=a(532668),g=a(604050),m=a(246093);function h({embedSrc:e,embedType:n,hasRichMetadata:a,hasRichMetadataProducts:h,hasRichMetadataArticle:_,hasRichMetadataRecipe:y,imagesUrls:f,isFromUnauthContextMenu:k,pinId:S,nodeId:b,attributionLabel:x}){let P=(0,t.A)(),A=(0,o.A)(),{isAuthenticated:v,userId:w}=(0,l.d4)(({session:e})=>e),T=(0,g.A)(),I=(0,r.A)(),E=(0,m.DF)()(w),F=(0,i.zy)();k=k??!1;let C=(0,d.A)({embedSrc:e,embedType:n,imagesUrls:f,pinId:S,nodeId:b,isFromUnauthContextMenu:k,attributionLabel:x});return e=>{A({action:"click",item:"save-button"}),k||P({view_type:3,view_parameter:S?(0,u.Bo)({hasRichMetadata:a,hasRichMetadataProducts:h,hasRichMetadataArticle:_,hasRichMetadataRecipe:y}):67,element:48,event_type:102,aux_data:{...v?{login_state:(0,c.b1)(E)?s.A.LIMITED:s.A.DEFAULT}:{}}}),!v&&(e.preventDefault(),C&&C.onSave()),T({fn:()=>{},modalHeader:(0,p.Mm)(I),nextLocation:(0,p.GX)(F)})(e)}}},384126(e,n,a){a.d(n,{b:()=>i,c:()=>l});let{Provider:l,get:i}=(0,a(767216).A)("ScreenSize")},218825(e,n,a){function l({isVisible:e}){return{opacity:+!!e,transform:e?"translateY(0)":"translateY(30px)",transition:"opacity 300ms cubic-bezier(0.25, 0.375, 0.1, 0.975), transform 300ms cubic-bezier(0.25, 0.375, 0.1, 0.975)",pointerEvents:e?"auto":"none",willChange:"opacity, transform"}}a.d(n,{Pq:()=>r,RY:()=>s,h3:()=>i,mz:()=>t,rr:()=>l});let i="signup_upsell_source",t={SPLP_QUICK_REPLY:"splp-quick-reply",SPLP_GROUP_BOARD_EDUCATION:"splp-group-board-education"},r=[t.SPLP_QUICK_REPLY,t.SPLP_GROUP_BOARD_EDUCATION];function s({isDesktop:e}){return e?276:286}},982608(e,n,a){a.d(n,{Jh:()=>g,Nc:()=>t,VP:()=>o,dF:()=>d,gu:()=>p,ld:()=>h,pl:()=>m,qv:()=>_,ue:()=>u,xP:()=>s});var l=a(836737),i=a(94024);let t={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},r={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},s={...r,font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28},o={...r,font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48},d=64,u=48,c=new l.K5([i.Mc]),p=new l.K5([c]),g=4;function m(e){return e?{paddingX:0,paddingY:0}:{paddingX:2,paddingY:g}}let h=60,_=3},328414(e,n,a){a.d(n,{A:()=>h});var l=a(335831),i=a(859471),t=a(836737),r=a(396901),s=a(410899),o=a(596232),d=a(346542),u=a(697396),c=a(562615);let p=({minutes:e,type:n,size:a})=>{let l=(0,r.A)();if("compact"===n){let n=(0,u.A)(e,l);return(0,c.jsx)(t.KJ,{inline:!0,size:a,children:n})}let i=(0,d.A)((0,o.R)({m:e}),l);return(0,c.jsxs)(t.az,{children:[(0,c.jsx)(t.KJ,{inline:!0,size:a,weight:"bold",children:l._('Cook Time: ', 'closeup.storyPin.basicsLayout.cookTime.label', 'Label for cook time (ex. Cook Time: 3 minutes)')}),(0,c.jsx)(t.KJ,{inline:!0,size:a,children:i})]})},g=({servingSize:e,type:n,size:a})=>{let l=(0,r.A)(),i=(0,s.vQ)(l.ngettext('{{servingSize}} serving', '{{servingSize}} servings', e, 'number of servings for a recipe', 'number of servings for a recipe'),{servingSize:e});return"compact"===n?(0,c.jsx)(t.KJ,{inline:!0,size:a,children:i}):(0,c.jsxs)(t.az,{children:[(0,c.jsx)(t.KJ,{inline:!0,size:a,weight:"bold",children:l._('Serving Size: ', 'closeup.storyPin.basicsLayout.servingSize.label', 'Label for serving size')}),(0,c.jsx)(t.KJ,{inline:!0,size:a,children:i})]})},m=({difficulty:e,type:n,size:a})=>{let l=(0,r.A)(),i={1:l._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:l._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:l._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')};return(0,c.jsxs)(t.az,{children:[(0,c.jsx)(t.KJ,{inline:!0,size:a,weight:"compact"===n?"normal":"bold",children:l._('Difficulty: ', 'closeup.storyPin.basicsLayout.difficulty.label', 'Label for difficulty')}),(0,c.jsx)(t.KJ,{inline:!0,size:a,children:i[e??"1"]})]})};function h({categoryType:e,value:n,type:a,size:t}){if((0,i.useEffect)(()=>{(0,l.A)("StoryPinDetailTemplate","/app/www/storyPins/duplo/expressiveCloseup/StoryPinDetailTemplate.tsx")},[]),0===e){let e=n?parseInt(n,10):null;return e?(0,c.jsx)(p,{minutes:e,size:t,type:a}):null}if(1===e){let e=n?parseInt(n,10):null;return e?(0,c.jsx)(g,{servingSize:e,size:t,type:a}):null}return 2===e?(0,c.jsx)(m,{difficulty:n,size:t,type:a}):null}},937071(e,n,a){a.d(n,{A:()=>o,I:()=>s});var l=a(859471),i=a(47998),t=a(491149),r=a(982608);let s="100vh";function o(){let{isAuth:e}=(0,i.A)(),n=(0,t.Ay)(),a="desktop"===n,s="tablet"===n,{paddingY:o}=(0,r.pl)(a),d=4*o,[u,c]=(0,l.useState)(null),[p,g]=(0,l.useState)(null),[m,h]=(0,l.useState)(null),[_,y]=(0,l.useState)(null),f=(0,l.useCallback)(()=>{let l=s&&m?m:window?.innerHeight;e||(l-="tablet"===n?80:55),a||(l-=r.dF+d),c(l),g(l)},[e,n,d,m,a,s]);return(0,l.useEffect)(()=>("u">typeof window&&(screen.orientation&&_!==screen.orientation.type&&(y(screen.orientation.type),h(window?.innerHeight)),f()),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}),[n,e,_,f]),{storyPinHeight:u,fillerPaddingTop:p}}},757925(e,n,a){a.d(n,{SC:()=>l,WN:()=>i,sR:()=>t});let l=["TR","WB"],i=["BR","CG","HP","HR","JH","MP","RJ","UK","UP"],t=[...l,...i,"AP","TG"]},934368(e,n,a){a.d(n,{oq:()=>g,uV:()=>c,zE:()=>p}),a(669897);var l,i=a(900565),t=a(528989),r=a(376195),s=a(491149),o=a(945233),d=a(592462);let u=(void 0!==l||(l=a(253223)).hash&&"b0c6b5112691f13c9217bf0ac7b77e04"!==l.hash&&console.error("The definition of 'useSeoDrawerExperimentUtil_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),c=({pinKey:e,pinType:n,trafficSource:a,componentType:l})=>{let t=(0,s.wI)(),r=(0,i.A)(u,e),c=(0,d.A)(r),p=t&&"feed"===n;return p?{showCreator:p,showCredit:!(0,o.A)({trafficSource:a,componentType:l})&&!!c}:{showCreator:!1,showCredit:!1}},p=()=>{let{isBot:e,isAuthenticated:n}=(0,r._8)();return!n&&!e},g=()=>{let{checkExperiment:e}=(0,t.A)(),{isAuthenticated:n}=(0,r._8)();if(n||!e("ffe_v3_seo_drawer_for_klp_iteration",{dangerouslySkipActivation:!0}).anyEnabled)return{showSeoDrawer:!1,useSectionMarkup:!1,useNavMarkup:!1};let a=e("ffe_v3_seo_drawer_for_klp_iteration",{dangerouslySkipActivation:!0}).group||"";return"enabled_section_markup"===a?{showSeoDrawer:!0,useSectionMarkup:!0,useNavMarkup:!1}:"enabled_nav_markup"===a?{showSeoDrawer:!0,useSectionMarkup:!1,useNavMarkup:!0}:{showSeoDrawer:!0,useSectionMarkup:!1,useNavMarkup:!1}}},699608(e,n,a){a.d(n,{A:()=>s});var l,i=a(859471);a(825193);var t=a(900565);let r=(void 0!==l||(l=a(342415)).hash&&"11d828252f89045bc37e6aa5eb3fbea6"!==l.hash&&console.error("The definition of 'useReactionCountsFragment_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),s=e=>{let n=(0,t.A)(r,e),a=n?.reactionCountsData;return(0,i.useMemo)(()=>a?a.reduce((e,n)=>({...e,[String(n.reactionType??0)]:n.reactionCount??0}),{}):a,[a])}},851424(e,n,a){a.d(n,{A:()=>T});var l,i=a(335831),t=a(859471),r=a(106386);a(825193);var s=a(836737),o=a(254762),d=a(233944),u=a(923957),c=a(47998),p=a(900565),g=a(396901),m=a(410143),h=a(798923),_=a(488265),y=a(945725),f=a(232225),k=a(792041),S=a(890850),b=a(51968),x=a(410899),P=a(376195),A=a(562615);let v=({followerCount:e})=>{(0,t.useEffect)(()=>{(0,i.A)("UserRepFollowerCount","/app/www/user/duplo/UserRepFollowerCount.tsx")},[]);let n=(0,g.A)(),a=(0,b.A)(),{locale:l}=(0,P._8)();return(0,A.jsx)(s.KJ,{children:(0,x.vQ)(n.ngettext('{{followers}} follower', '{{followers}} followers', e, 'pinPage.attribution.followersCount', 'Count of a user\'s followers'),{followers:a(l,e,{shortform:!0,shortform_maximum_fraction_digits:0})})})},w=(void 0!==l||(l=a(580985)).hash&&"d07d7e31fad8648e8967b45d3883c0b7"!==l.hash&&console.error("The definition of 'UserRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function T(e){(0,t.useEffect)(()=>{(0,i.A)("UserRep","/app/www/user/duplo/UserRep.tsx")},[]);let n=(0,c.A)(),a=n.isAuth&&n.id,l=n.isAuth,b=(0,g.A)(),x=(0,m.A)(),P=(0,d.A)(),T=(0,_.A)(),I=(0,r.wA)(),E=e=>I((0,k.e6)(e)),F=e=>I((0,k.X2)(e)),{mWebCloseupRedesignEnabled:C}=(0,o.A)(),{avatarSize:j,detailText:K,hideButtons:R,blockedByMe:L,explicitlyFollowedByMe:D,avatarColorIndex:z,followerCount:O,fullName:B,id:N,imageLargeUrl:M,imageMediumUrl:U,imageSmallUrl:V,isEligibleForPdp:G,isVerifiedMerchant:H,verifiedIdentityVerified:W,username:Y,isCurrentUser:$,isOnCloseup:J,isImagePinForUnauthOnTablet:X,pinKey:q,shouldNavigateToProfile:Q=!0,textColor:Z,type:ee,viewParameter:en,viewType:ea,unauthFollow:el,activateLexFollowExp:ei,clientTrackingParams:et}=e,er=(0,p.A)(w,q),es=er&&er.entityId.length>18,eo=()=>(0,A.jsx)(f.A,{clientTrackingParams:et,disableLog:!0,followEventType:45,id:N,isFollowed:D||!1,isSecondaryButton:!0,isUserFollowButton:!0,isUserMe:a===N,onFollow:()=>J?void(l?(E(N),P({event_type:45,view_type:3,view_parameter:156,view_data:{isCurrentUser:$,viewObjectId:es?er.entityId:er?.entityId,viewObjectIdStr:er?.entityId},object_id_str:N,clientTrackingParams:et})):x({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"click_follow",desktopOptions:{modalType:"login"}})):E(N),onUnfollow:()=>J?void(F(N),P({event_type:46,view_type:3,view_parameter:156,object_id_str:N,clientTrackingParams:et})):F(N),pinKey:er,size:"md",unfollowEventType:46,viewParameter:en,viewType:ea}),ed=()=>{if(L)return(0,A.jsx)(s.$n,{color:"secondary",fullWidth:!0,onClick:()=>I((0,S.Bt)(N,P)),size:"md",text:b._('Unblock', ' - ', ' -- ')});if(l)return eo();if(ei){if(!ei().group.includes("hide_follow")&&el)return eo()}else if(el)return eo();return null},eu=e=>(0,A.jsx)(s.az,{"data-test-id":"avatar-image",children:(0,A.jsx)(u.Z7,{collaborators:[{name:B??"",src:M||U||V||void 0,color:z}],onClick:()=>{T({action:"click",item:"avatar-image"})},size:(e||{}).size})}),ec=X?"calc(100% - 48px)":void 0,ep=H||W,eg=!l&&G&&!ep,em=!ep&&!l,eh=(0,A.jsxs)(s.so,{alignItems:"center",flex:"shrink",justifyContent:"start",children:[(0,A.jsx)(s.az,{flex:"none",height:C?16:void 0,marginEnd:1,width:C?16:void 0,children:eu({size:j||"md"})}),(0,A.jsxs)(s.so,{alignItems:"stretch",direction:"column",justifyContent:"start",maxWidth:ec,children:[(0,A.jsxs)(s.so,{alignItems:"stretch",justifyContent:"start",children:[eg&&(0,A.jsx)(s.az,{marginEnd:1,children:(0,A.jsx)(s.KJ,{children:b._('Saved by', 'Context on user rep', 'userRep.saveContext')})}),(0,A.jsx)(s.az,{"data-test-id":"username",children:(0,A.jsx)(s.Rp,{onTap:()=>{T({action:"click",item:"username"})},children:(0,A.jsx)(s.KJ,{color:Z||"default",lineClamp:X?1:void 0,size:C?"200":void 0,weight:"bold",children:B})})}),ep&&(0,A.jsx)(s.az,{marginStart:1,paddingY:1,children:(0,A.jsx)(y.A,{showVerifiedIdentity:!H,size:"sm"})})]}),(0,A.jsx)(s.KJ,{color:Z||"default",lineClamp:X?1:void 0,children:K}),!!O&&!em&&!C&&(0,A.jsx)(s.az,{"data-test-id":"user-follower-count",children:(0,A.jsx)(s.Rp,{onTap:()=>{T({action:"click",item:"user-follower-count"})},children:(0,A.jsx)(v,{followerCount:O})})})]})]}),e_="row"===ee?(0,A.jsxs)(s.so,{alignItems:"center",justifyContent:"between",children:[eh,!R&&(0,A.jsx)(s.az,{flex:"none",marginStart:2,children:ed()})]}):(0,A.jsxs)(s.az,{maxWidth:ec,padding:2,children:[eu(),(0,A.jsxs)(s.az,{display:"flex",paddingY:2,children:[(0,A.jsx)(s.KJ,{align:"center",lineClamp:1,size:"200",weight:"bold",children:B}),ep&&(0,A.jsx)(s.az,{marginStart:1,paddingY:1,children:(0,A.jsx)(y.A,{showVerifiedIdentity:!H,size:"sm"})})]}),!R&&ed()]}),ey=(0,A.jsxs)(s.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},display:"flex",justifyContent:"between",overflow:"hidden",children:[(0,A.jsx)(s.$A,{href:`/${encodeURIComponent(Y)}/`,onTap:()=>{l||((0,h.uq)("click_pin_closeup_profile"),T({action:"click",item:"user-rep"}))},rounding:200,tapStyle:"compress",children:eh}),!R&&(0,A.jsx)(s.az,{flex:"none",marginStart:2,children:ed()})]});return(0,A.jsx)(s.az,{"data-test-id":"user-rep",width:"100%",children:Q?ey:e_})}},158270(e,n,a){a.d(n,{A:()=>o});var l=a(335831),i=a(859471);let t={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},r=/[&><\u2028\u2029]/g;var s=a(562615);function o({id:e,isRelayResponseScript:n,testId:a,type:o="application/json",value:d}){(0,i.useEffect)(()=>{(0,l.A)("JsonScript","/pws/react/JsonScript.tsx")},[]);let u=JSON.stringify(d).replace(r,e=>t[e]);return(0,s.jsx)("script",{"data-test-id":a,id:e,...n?{"data-relay-response":!0}:{},dangerouslySetInnerHTML:{__html:u},type:o})}},509567(e,n,a){a.d(n,{A:()=>r,p:()=>t});var l=a(859471);let i=(0,l.createContext)();function t(){return(0,l.use)(i)}let r=i}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/69800-a0d80f91ab25eee9.mjs.map