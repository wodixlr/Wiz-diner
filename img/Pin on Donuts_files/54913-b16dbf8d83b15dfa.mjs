(self.modernJsonp=self.modernJsonp||[]).push([["54913"],{566786(e,a,t){var i,r,s,n;t.r(a),t.d(a,{default:()=>l});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCard_board",selections:[{alias:null,args:null,concreteType:"FeaturedBoard",kind:"LinkedField",name:"featuredBoardMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSponsoredContent",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},i,n,r,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_coverPin"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_board"}],type:"Board",abstractKey:null};o.hash="160b60f499ce33660e2c11915eed4d09";let l=o},946436(e,a,t){t.r(a),t.d(a,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselEllipsis_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};i.hash="d9fe632f7481dc91f9007bbd592d44c2";let r=i},673483(e,a,t){t.r(a),t.d(a,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselSliders_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"CarouselEllipsis_pin"}],type:"Pin",abstractKey:null};i.hash="4b0c4a7a095db0d3cc7f22f3f6c85086";let r=i},379804(e,a,t){var i;t.r(a),t.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:i,storageKey:null}],type:"Pin",abstractKey:null};r.hash="cabaa35ed7d59dee006897bf3ef32e3d";let s=r},763650(e,a,t){var i;t.r(a),t.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetCoverPhoto_board",selections:[{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:i,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:i,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};r.hash="756d8d8edca35eac0a0500359bf60618";let s=r},590815(e,a,t){var i,r,s,n,o;t.r(a),t.d(a,{default:()=>d});let l=(r={alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},s={alias:"images_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"474x")'},n={alias:"images_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"564x")'},o={alias:"images_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"736x")'},{argumentDefinitions:[{kind:"RootArgument",name:"isCloseupRelatedModulesFeedQuery"}],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:i,storageKey:null}],storageKey:null},r,s,n,o],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null},r,s,n,o],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:i,storageKey:null}],storageKey:null},{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null});l.hash="7a87fb47ec8dc08d373f83cf43f4b96f";let d=l},718944(e,a,t){t.r(a),t.d(a,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useLogSwipe_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};i.hash="dbfca9820e0aa1302554a0137a270b16";let r=i},85445(e,a,t){t.r(a),t.d(a,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinCarouselData_pin",selections:[{args:null,kind:"FragmentSpread",name:"usePinDefaultCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"usePinProductCarouselData_pin"}],type:"Pin",abstractKey:null};i.hash="461a57fcc8f7958e3742c217e4cc45a2";let r=i},489926(e,a,t){var i;t.r(a),t.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinDefaultCarouselData_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"images_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"images_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"564x")'},{alias:"images_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="0f2167dc67053b3c12e7c48acf3034c5";let s=r},192416(e,a,t){var i,r;t.r(a),t.d(a,{default:()=>n});let s={argumentDefinitions:[{kind:"RootArgument",name:"isCloseupRelatedModulesFeedQuery"}],kind:"Fragment",metadata:null,name:"usePinProductCarouselData_pin",selections:[{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"images_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"images_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"564x")'},{alias:"images_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:r=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata"}],storageKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:r,storageKey:null}],type:"Pin",abstractKey:null};s.hash="7bb603fa739da45cf04960e3a4021971";let n=s},62796(e,a,t){var i;t.r(a),t.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata",selections:[{alias:"image_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"image_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"image_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"image_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};r.hash="89a94e64e453531e298c38fed6b87b0f";let s=r},450024(e,a,t){t.d(a,{A:()=>s});var i=t(979638),r=t(218781);function s(){let e=(0,i.zy)(),{on_sale:a}=(0,r.A)(e.search);return!!a}},896771(e,a,t){t.d(a,{A:()=>d});var i=t(335831),r=t(859471),s=t(836737),n=t(578576),o=t(208762),l=t(562615);function d({actionButton:e,collapsed:a,disabled:t,displayViewState:d,forceTappableHeader:c,headerHeight:_,headerPaddingX:u,headerPreview:g,heading:h,icon:p="chevron-down",onClick:m,showArrow:y,surface:f}){(0,r.useEffect)(()=>{(0,i.A)("CollapsableHeader","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CollapsableHeader.tsx")},[]);let{closeupWithinMasonryEnabled:b,peekCloseupEnabled:v,viewportSize:A}=(0,o._G)();if(!c&&null===d){let e,a;return e=(0,n.Kd)({peekCloseupEnabled:v,viewportSize:A,surface:f}),a=(0,l.jsx)(s._Y,{accessibilityLevel:2,align:"start",id:"comments-heading",size:e?"300":"400",children:h}),e?(0,l.jsx)(s.az,{marginBottom:4,children:a}):a}let x=(0,l.jsx)(s.az,{marginBottom:!a&&v?4:void 0,children:(0,l.jsxs)(s.so,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",height:_,justifyContent:"between",children:[(0,l.jsx)(s.so.Item,{flex:"shrink",children:(0,l.jsx)(s._Y,{accessibilityLevel:2,align:"start",color:t?"disabled":"default",id:"comments-heading",size:"300",children:h})}),(0,l.jsx)(s.so.Item,{flex:"shrink",children:(0,l.jsxs)(s.so,{alignItems:"center",direction:"row",gap:{row:1,column:0},children:[a&&g,(y||b)&&(0,l.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{transform:a?"rotate(0deg)":"rotate(180deg)",transition:"all 600ms cubic-bezier(.25,1,.5,1)"}},opacity:100*!!y,children:(0,l.jsx)(s.In,{accessibilityLabel:"",color:!y||t?"disabled":"default",dataTestId:"collapse-button",icon:p})})]})}),e&&(0,l.jsx)(s.so.Item,{flex:"grow",children:(0,l.jsx)(s.so,{justifyContent:"end",children:e})})]})});return(0,l.jsx)(s.az,{paddingX:u,children:m?(0,l.jsx)(s.Rp,{disabled:!y||t,onTap:m,children:x}):x})}},132114(e,a,t){t.d(a,{A:()=>c,U:()=>d});var i=t(335831),r=t(859471),s=t(836737),n=t(396901),o=t(922834),l=t(562615);let d="media-viewer-full";function c({children:e,onOutsideClick:a,onKeyboardExit:t}){(0,r.useEffect)(()=>{(0,i.A)("CloseupMediaViewerBackdrop","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/MediaViewer/CloseupMediaViewerBackdrop.tsx")},[]);let c=(0,n.A)();return(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t]),(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)(s.az,{alignItems:"center","aria-label":c._('Media Viewer', 'closeup.mediaViewer.label', 'Label of Media Viewer modal'),"aria-modal":"true","data-test-id":d,display:"flex",height:"100vh",justifyContent:"center",left:!0,position:"fixed",role:"dialog",top:!0,width:"100vw",zIndex:o.y,children:[e,(0,l.jsx)("div",{onClick:e=>{e.target===e.currentTarget&&a()},role:"presentation",style:{backgroundColor:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(4px)",position:"absolute",bottom:0,left:0,right:0,top:0,marginBottom:"-1px"}})]})})}},578576(e,a,t){t.d(a,{$c:()=>h,BQ:()=>u,CD:()=>P,Ce:()=>_,GY:()=>c,IO:()=>k,Kd:()=>A,NC:()=>l,OU:()=>w,T3:()=>g,Vc:()=>b,Y:()=>O,Yc:()=>m,Yo:()=>f,ZL:()=>o,aP:()=>p,iI:()=>x,kj:()=>v,lr:()=>E,nQ:()=>S,qw:()=>T,sE:()=>y,ul:()=>d,zQ:()=>I});var i=t(836737),r=t(132114),s=t(507120),n=t(208762);let o={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32},l=e=>`${e.substring(0,33)}${e.length>33?"...":""}`,d=375,c=4,_=new Set(["related_modules_header","related_products_feed_header"]),u=({verticalNavWidth:e})=>({BREAKPOINT:1056+e,BACKBUTTON_WITH_LABEL_WIDE_BREAKPOINT:1340+e,SM_BREAKPOINT:680+e,EXP_SM_BREAKPOINT:814+e}),g=16,h=64,p=290,m=100,y=480,f=new i.rk(5);function b(e=0,a=0){let{peekCloseupEnabled:t,viewportSize:i}=(0,n._G)(),r=(0,s.A)();if(!t)return{maxWidth:void 0,maxHeight:void 0,fiftyPercentWidth:void 0,fiftyPercentHeight:void 0};let o={sm:96,md:96,lg:244}[i],l={sm:h,md:h,lg:h}[i],d=`100vw - ${2*o}px - ${e}px`,c=`100vh - 80px - ${l}px - ${a}px`,_={maxWidth:`calc(${d})`,maxHeight:`calc(${c})`,fiftyPercentWidth:"sm"===i?`calc(${d})`:`calc((${d})/2)`,fiftyPercentHeight:`calc((${c})/2)`};if(r)return _;let u=window?.innerWidth-2*o-e,g=window?.innerHeight-80-l-a;return{..._,numericValues:{maxWidth:u,maxHeight:window?.innerHeight-80-l-a,fiftyPercentWidth:"sm"===i?u:u/2,fiftyPercentHeight:g/2}}}function v({objectFit:e,variant:a}){let{peekCloseupEnabled:t,viewportSize:i}=(0,n._G)(),{maxHeight:s,maxWidth:o,fiftyPercentHeight:l,fiftyPercentWidth:d}=b();if("media-viewer"===a)return{};let c=`video:not([data-test-id=${r.U}] video)`;return{styleOverrides:t?`
      ${c} {
        max-height: ${"sm"===i?l:s};
        max-width: ${d};
      }
    `:"",objectFit:t?"contain":e,maxHeight:s,maxWidth:o,fiftyPercentHeight:l}}function A({peekCloseupEnabled:e,viewportSize:a,surface:t}){return!!e&&"lg"===a&&"ShoppingGridSmallCarousel"===t}let x={columnSpan:{sm:2,md:2,_lg1:3,lg:3,xl:5},type:"closeup_module",virtualize:!1},P={md:4,lg:4,lg1:4,xl:5},S={columnSpan:{sm:2,md:4,lg1:4,lg:5,xl:6},type:"closeup_module",virtualize:!1},I={columnSpan:{sm:2,md:2,_lg1:2,lg:2,xl:4},type:"shopping_module",virtualize:!1},w="1px solid var(--sema-color-background-secondary)",E="#FFFFFF",T={boxShadow:"unset",borderRadius:16},k={columnSpan:{sm:2,md:2,_lg1:2,lg:2,xl:2},type:"inclusive_filters_module",virtualize:!1},O={closeupWrapperStyle:{cursor:"zoom-out",display:"flex",width:"100%"},storyPinGradientStyle:{display:"block",position:"relative",cursor:"auto"}}},194807(e,a,t){t.d(a,{P:()=>m,A:()=>p}),t(825193);var i,r,s,n,o=t(900565);let l=(void 0!==i||(i=t(489926)).hash&&"0f2167dc67053b3c12e7c48acf3034c5"!==i.hash&&console.error("The definition of 'usePinDefaultCarouselData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),d=(void 0!==r||(r=t(62796)).hash&&"89a94e64e453531e298c38fed6b87b0f"!==r.hash&&console.error("The definition of 'useRichPinProductMetadataCarouselSlots_richPinProductMetadata' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);var c=t(657804),_=t(892804);let u=(void 0!==s||(s=t(192416)).hash&&"7bb603fa739da45cf04960e3a4021971"!==s.hash&&console.error("The definition of 'usePinProductCarouselData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),g=!1,h=(void 0!==n||(n=t(85445)).hash&&"461a57fcc8f7958e3742c217e4cc45a2"!==n.hash&&console.error("The definition of 'usePinCarouselData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function p(e){let a,t=(0,o.A)(h,e),i=(a=(0,o.A)(l,t),a?.carouselData?{index:a.carouselData.index,carouselId:a.carouselData.entityId,carouselSlots:a.carouselData.carouselSlots?.map(e=>({details:e.details,imageSignature:e.imageSignature,imageSizeMap:{"236x":e.images_236x&&{height:e.images_236x.height,url:e.images_236x.url,width:e.images_236x.width},"474x":e.images_474x&&{height:e.images_474x.height,url:e.images_474x.url,width:e.images_474x.width},"564x":e.images_564x&&{height:e.images_564x.height,url:e.images_564x.url,width:e.images_564x.width},"736x":e.images_736x&&{height:e.images_736x.height,url:e.images_736x.url,width:e.images_736x.width}},slotId:e.slotId,title:e.title}))??[]}:null),r=function({pinKey:e,index:a}){let t=(0,o.A)(u,e),i=(t?.richMetadata||t?.richSummary)?.products?.[0]||null,r=(t?.richMetadata?.products?.length??0)+(t?.richSummary?.products?.length??0);if(null!=e&&r>1&&!g){g=!0;let a=(0,c.z)(e);(0,_.GV)("autoLegacyAdapter.overfetch.usePinProductCarouselData_pin",{sampleRate:.1,tags:{totalLength:r,isGraphQL:"GraphQL"===a}})}let s=function(e){let a=(0,o.A)(d,e);if(!a)return[];let t={},{image_236x:i,image_474x:r,image_564x:s,image_736x:n}=a;return[[i,"236x"],[r,"474x"],[s,"564x"],[n,"736x"]].forEach(([e,a])=>{(Array.isArray(e)?e:[]).forEach(({canonicalImage:e,imageSignature:i})=>{i&&e&&(t={...t,[i]:{...t[i],[a]:{height:e.height,url:e.url,width:e.width}}})})}),Object.entries(t).map(([e,a])=>({imageSignature:e,imageSizeMap:a}))}(i);return i&&s.length?{carouselId:i.productId,carouselSlots:[{imageSignature:null,imageSizeMap:{"236x":t?.images_236x&&{height:t.images_236x.height,url:t.images_236x.url,width:t.images_236x.width},"474x":t?.images_474x&&{height:t.images_474x.height,url:t.images_474x.url,width:t.images_474x.width},"564x":t?.images_564x&&{height:t.images_564x.height,url:t.images_564x.url,width:t.images_564x.width},"736x":t?.images_736x&&{height:t.images_736x.height,url:t.images_736x.url,width:t.images_736x.width}}},...s],index:a}:null}({pinKey:t,index:i?.index});return r?{...r,carouselSlots:r.carouselSlots.map(e=>({...e,details:null,slotId:null,title:null}))}:i}function m({children:e,pinKey:a}){return e(p(a))}},172170(e,a,t){t.d(a,{A:()=>i});function i(e,a){return e.reduce((e,t)=>{let i="function"==typeof a?a(t):t[a];return i in e||(e[i]=[]),e[i].push(t),e},{})}},51968(e,a,t){t.d(a,{A:()=>n});var i=t(396901),r=t(616275);let s=(e,a)=>{let t=a||0,i=10**t,r=+(t?e*i:e).toFixed(8),s=Math.floor(r),n=r-s,o=n>.49999999&&n<.50000001?s%2==0?s:s+1:Math.round(r);return t?o/i:o};function n(){let e=(0,i.A)();return(a,t,i)=>{let n=0,o=0,l=i&&i.style||void 0,d=i&&i.shortform||!1,c=i&&i.uplimit||void 0,_=i&&i.currency||void 0,u=!!c&&t>=c,g=c&&u?c:t;if("currency"===l){let{minimumFractionDigits:e,maximumFractionDigits:t}=((e,a)=>{if(a){let{minimumFractionDigits:t,maximumFractionDigits:i}=new Intl.NumberFormat(e,{style:"currency",currency:a}).resolvedOptions();if(void 0!==t&&void 0!==i)return{minimumFractionDigits:t,maximumFractionDigits:i}}return{minimumFractionDigits:2,maximumFractionDigits:2}})(a,_);n=void 0===i||void 0===i.maximum_fraction_digits?t:i.maximum_fraction_digits,o=void 0===i||void 0===i.minimum_fraction_digits?e:i.minimum_fraction_digits}else n=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,o=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits;if(d&&g>999&&(n=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,o=0),n<o)return String(g);let h=g,p="",m=[{"100m":{value:1e8,localeKey:e._('億', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('万', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],y=[{b:{value:1e9,localeKey:e._('b', 'Used in number formatting to abbreviate large values in billions.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('m', 'Used in number formatting to abbreviate large values in millions.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Used in number formatting to abbreviate large values in thousands.', 'Abbreviation for one thousand.')}}],f=/^zh|ja|ko/.test(a);if(d&&g>999){let e=f?m:y;for(let a=0;a<e.length;a+=1){let t=Object.keys(e[a])[0],i=e[a][t].value;if(g>=i){h=s(g/i*Math.pow(10,n))/Math.pow(10,n),p=e[a][t].localeKey;break}}}if(null==h)return"";let b=h.toLocaleString([(e=>{try{0..toLocaleString([e])}catch(e){return!1}return!0})(a)&&"ar-SA"!==a?a:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:a,style:t,currency:i})=>{let r={maximumFractionDigits:e,minimumFractionDigits:a};return t?{...r,style:t,..."currency"===t?{currency:i,currencyDisplay:"symbol"}:{}}:r})({maximumFractionDigits:n,minimumFractionDigits:o,currency:_,style:l}));return p&&p.length>0?(0,r.A)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:b,numberSuffix:p})+(u?"+":""):b+(u?"+":"")}}},118722(e,a,t){t.d(a,{A:()=>n});var i=t(218781);function r(e,a,t){var i;return(a="symbol"==typeof(i=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,a||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?i:i+"")in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}let s={carousel:{authOnly:!0,partnerOnly:!0},disabledIdeaPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_idea_pins|disable_video)/,authOnly:!0,partnerOnly:!1},disabledPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_web_pins)/,authOnly:!0,partnerOnly:!1},disabledVideoPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_video)/,authOnly:!0,partnerOnly:!1},editing:{authOnly:!0,partnerOnly:!0},education:{authOnly:!0,partnerOnly:!0},offsitePinCreation:{scenarios:["offsite_pin_creation"]},layouts:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation","story_pin"]},linkStatusValidation:{authOnly:!0,partnerOnly:!0},requireLink:{scenarios:["ad_creation"]},multi_pin:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"]},multi_pin_pinner:{authOnly:!0,partnerOnly:!1,scenarios:["default"]},imageSignals:{authOnly:!0,partnerOnly:!0,experiment:"pin_quality_signal_image",groups:/^(employees|enabled)/},scheduling:{authOnly:!0,partnerOnly:!0,scenarios:["default"]},shop_the_pin:{authOnly:!0,partnerOnly:!0},storyPinCommentsPermissions:{authOnly:!0,partnerOnly:!1,groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},systemFonts:{authOnly:!0,partnerOnly:!0},tagging:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_tagging",groups:/^(employees|enabled|rollout)/},suppressSuccessModal:{scenarios:["ad_creation","business_nux"]},video:{customEnabledCheck:({user:e})=>!!e?.video_upload_allowed,authOnly:!0,hasCustomEnabledCheck:()=>!0},videoEditing:{authOnly:!0,partnerOnly:!0,experiment:"video_edit",groups:/^(employees|enabled)/,orbacDisabled:!0},videoTagging:{authOnly:!0,partnerOnly:!0,languages:["en"]},pinQuality:{partnerOnly:!0},ideaPinProductTagging:{authOnly:!0,experiment:"web_idea_pin_product_tagging",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},pinItemBase64:{authOnly:!0,experiment:"aid_exp_pin_builder_item_base64",groups:/^(employees|enabled)/}},n=new class{constructor(){r(this,"_experiments",null),r(this,"_viewer",null),r(this,"_advertiser",null),r(this,"_scenario",null),r(this,"_language",null),r(this,"_context",null),r(this,"_orbacActingAs",null)}initialize(e){let{requestContext:a,viewer:t,location:r,advertiser:s,scenario:n,orbacActingAs:o}=e;this._context=e,this._experiments=a.experimentsClient,this._language=a.language,this._viewer=t,this._advertiser=s,this._orbacActingAs=o;let{adCreate:l}=(0,i.A)(r.search);n?this._scenario=n:l?this._scenario="ad_creation":this._scenario="default"}scenario(){return this._scenario}enabled(e){if(!this._viewer||!this._experiments)return!1;let{advertisers:a,authOnly:t,customEnabledCheck:i,experiment:r,groups:n=/.*/,hasCustomEnabledCheck:o,languages:l,orbacDisabled:d,partnerOnly:c,scenarios:_,skipActivation:u}=s[e],g=this._viewer.isAuth?this._viewer.id:void 0;return(!this._orbacActingAs?.id||this._orbacActingAs.id===g||!d)&&(o&&i&&this._context&&o(this._context)?!!this._context&&i(this._context):u&&this._experiments?!!r&&this.checkExperimentWithSkipActivation(e):!!a&&!!this._advertiser&&null!==this._advertiser.billing_type||(!this._viewer||!t||!!this._viewer.isAuth)&&(!this._viewer||!c||!!(this._viewer.isAuth&&this._viewer.isPartner))&&(!_||!!_.includes(this._scenario))&&(!l||!!l.includes(this._language))&&(!r||n.test(this.getExperimentGroup(e)||"")))}getExperimentGroup(e){if(!this._viewer||!this._experiments)return null;let{checkExperiment:a}=this._experiments;switch(e){case"disabledIdeaPinCreation":case"disabledPinCreation":case"disabledVideoPinCreation":return a("disable_pin_creation").group??null;case"imageSignals":return a("pin_quality_signal_image").group??null;case"tagging":return a("web_pin_builder_tagging").group??null;case"videoEditing":return a("video_edit").group??null;case"ideaPinProductTagging":return a("web_idea_pin_product_tagging").group??null;case"pinItemBase64":return a("aid_exp_pin_builder_item_base64").group??null;default:return null}}checkExperimentWithSkipActivation(e){if(!this._viewer||!this._experiments)return!1;let{checkExperiment:a}=this._experiments;switch(e){case"disabledIdeaPinCreation":case"disabledPinCreation":case"disabledVideoPinCreation":return a("disable_pin_creation",{dangerouslySkipActivation:!0}).anyEnabled??!1;case"imageSignals":return a("pin_quality_signal_image",{dangerouslySkipActivation:!0}).anyEnabled??!1;case"tagging":return a("web_pin_builder_tagging",{dangerouslySkipActivation:!0}).anyEnabled??!1;case"videoEditing":return a("video_edit",{dangerouslySkipActivation:!0}).anyEnabled??!1;default:return!1}}}},353465(e,a,t){t.d(a,{A:()=>E});var i=t(532259),r=t(291982),s=t(45738),n=t(850855),o=t(863892),l=t(31710),d=t(132460),c=t(457983),_=t(705852),u=t(711076),g=t(834382);let h="stopwatch_v2",p=(0,i.lo)(h),m=new Map,y=[],f=[],b=!1;function v(){let e=performance.now();m.forEach((a,t)=>{e-a.startTimestamp>a.maxDuration&&(p(`Auto-aborting stale stopwatch ${t} after ${a.maxDuration}ms`),w(t,"exceeded_max_duration"))})}function A(e,a,t){performance.mark(`${h}:${e}:${a}`,t?{startTime:t}:void 0)}function x(e,a,t,i){performance.measure(`${h}:${e}:${a}`,t,i)}function P(e){let a=`${h}:${e}:`,t=[`${a}start`,`${a}end`,`${a}subspan:`];return y.filter(e=>e.name.startsWith(a)&&!t.some(a=>e.name.startsWith(a))).map(e=>({label:e.name.slice(a.length),timestamp:e.startTime}))}function S(e,a){let t=`${h}:${e}:subspan:`;return f.filter(e=>e.name.startsWith(t)).map(e=>({name:e.name.slice(t.length),id:(0,d.A)(),parentId:a,startTime:e.startTime,endTime:e.startTime+e.duration,annotationMap:{},binaryAnnotationMap:{}}))}function I(e){let a=`${h}:${e}:`;try{y=y.filter(e=>!e.name.startsWith(a)),f=f.filter(e=>!e.name.startsWith(a))}catch{}let t=m.get(e);t?.resourceObserver?.disconnect(),m.delete(e)}function w(e,a){if(!(0,c.A)())return;let t=m.get(e);if(!t)return void(0,_.J6)({errorName:"stopwatch_not_found",pwtName:e,errorDetailsTag:"abort",version:"2"});p(`Aborted ${e}: ${a}`);let i=performance.now(),{startTimestamp:s}=t,o=(0,d.A)(),h=(0,g.tQ)(),y={type:"stopwatch",name:e},f={type:"ABORT",traceId:o,startTime:s,endTime:i,spans:S(e,o),annotationMap:(0,l.A)(P(e)),binaryAnnotationMap:(0,r.jp)({metricId:y,pwtStaticContext:h,binaryAnnotations:t.binaryAnnotations,performanceResourceTimings:t.resourceBuffer,type:"ABORT",stopwatchVersion:2}),reason:a??"unknown"};(0,n.A)({metricId:y,pwtStaticContext:h,result:f,sampleRate:t.sampleRate,stopwatchVersion:2}),(0,_.HF)({abortReason:a??"unknown",pwtName:e,annotateExperiments:(0,u.e0)(),version:"2"}),I(e)}function E(e,a={}){let{sampleRate:t,maxDuration:i}=a;return{name:e,start:a=>(function(e,a={}){if(!(0,c.A)())return;!function(){if(b||!(0,c.A)())return;b=!0;let e=`${h}:`;try{new PerformanceObserver(a=>{let t=a.getEntries().filter(a=>a.name.startsWith(e));y.push(...t)}).observe({type:"mark",buffered:!0}),new PerformanceObserver(a=>{let t=a.getEntries().filter(a=>a.name.startsWith(e));f.push(...t)}).observe({type:"measure",buffered:!0}),setInterval(v,1e4)}catch{}}(),m.has(e)&&(p(`Stopwatch ${e} already active, aborting previous`),w(e,"new_stopwatch_started"));let t=a.startTime??performance.now(),{observer:i,buffer:r}=function(){let e=[];if(!(0,c.A)())return{observer:null,buffer:e};try{let a=new PerformanceObserver(a=>{if(e.push(...a.getEntries()),e.length>5e3){let a=e.length-5e3;e.splice(0,a),(0,_.pI)({eventName:"resourceBufferTruncated.v2",tags:{dropped:a,remaining:5e3}}),p("Resource buffer truncated",{dropped:a,remaining:5e3})}});return a.observe({type:"resource",buffered:!1}),{observer:a,buffer:e}}catch{return{observer:null,buffer:e}}}();m.set(e,{sampleRate:a.sampleRate??1,binaryAnnotations:{},resourceObserver:i,resourceBuffer:r,startTimestamp:t,maxDuration:a.maxDuration??6e4}),A(e,"start",t),(0,_.Lc)({pwtName:e,annotateExperiments:(0,u.e0)(),version:"2"}),p(`Started ${e}`)})(e,{...a,sampleRate:t,maxDuration:i}),stop:a=>(function(e,a){var t;let i;if(!(0,c.A)())return;let y=m.get(e);if(!y)return void(0,_.J6)({errorName:"stopwatch_not_found",pwtName:e,errorDetailsTag:"stop",version:"2"});let f=a??performance.now();A(e,"end",f);let{startTimestamp:b}=y;x(e,"duration",`${h}:${e}:start`,`${h}:${e}:end`);let v=(0,d.A)(),w=(0,g.tQ)(),E={type:"stopwatch",name:e},T={type:"COMPLETE",metricId:E,traceId:v,startTime:b,endTime:f,spans:[...S(e,v),...(t=y.resourceBuffer,[{name:"network_resources",id:i=(0,d.A)(),parentId:v,startTime:b,endTime:f,annotationMap:{},binaryAnnotationMap:{}},...t.filter(e=>e.responseEnd>0&&e.startTime>=b&&e.responseEnd<=f).map(e=>(0,o.A)((0,s.B)(e,[]),i)).filter(Boolean)])],annotationMap:(0,l.A)(P(e)),binaryAnnotationMap:(0,r.jp)({metricId:E,pwtStaticContext:w,binaryAnnotations:y.binaryAnnotations,performanceResourceTimings:y.resourceBuffer,type:"COMPLETE",stopwatchVersion:2})};p(`Stopped ${e}`,{duration:f-b}),(0,n.A)({metricId:E,pwtStaticContext:w,result:T,sampleRate:y.sampleRate,stopwatchVersion:2}),(0,_.ed)({pwtName:e,annotateExperiments:(0,u.e0)(),version:"2"}),I(e)})(e,a),abort:a=>w(e,a),annotate:a=>{(0,c.A)()&&m.has(e)&&(A(e,a),p(`${e} annotation: ${a}`))},binaryAnnotate:(a,t,i)=>{let r;(r=m.get(e))&&(r.binaryAnnotations={...r.binaryAnnotations,[a]:{value:t,type:i}},p(`${e} binary: ${a}=${String(t)}`))},subspanStart:a=>{(0,c.A)()&&m.has(e)&&(A(e,`subspan:${a}:start`),p(`${e} subspan start: ${a}`))},subspanStop:a=>(function(e,a){if((0,c.A)()&&m.has(e)){A(e,`subspan:${a}:end`);try{x(e,`subspan:${a}`,`${h}:${e}:subspan:${a}:start`,`${h}:${e}:subspan:${a}:end`),p(`${e} subspan stop: ${a}`)}catch{p(`${e} subspan stop failed: ${a}`)}}})(e,a),isActive:()=>m.has(e)}}},483851(e,a,t){t.d(a,{A:()=>r});let i=(0,t(353465).A)("search_tab_render");function r(){return i}},217809(e,a,t){t.d(a,{A:()=>l});var i=t(430881),r=t(119795),s=t(892804);let n=["originals","736x","474x","236x","200x"],o=new RegExp(/\/(\d+x|originals)\//),l=(e,a,t)=>{(0,r.A)(()=>{if(a?.startsWith("https://i.pinimg.com/")&&e){let r="";e?.includes("Search")?r="search":e?.includes("AuthHomefeed")?r="auth_homefeed":e?.includes("RelatedPinGrid")?r="related_pin_grid":"search_tab_render"===e&&(r="search_tab_render"),r&&((e,a,t)=>{let r,l,d,c,_="";if(t)_=t;else{let e=Math.round(Number(window.devicePixelRatio));e&&(_=2===e?"474x":3===e?"736x":4===e?"orig":"236x")}let u=e.replace(o,`/${_}/`),g=(l=(r=e.match(o))?r[1]:null,d=(0,i.A)("resource").filter(e=>"link"===e.initiatorType&&e.name.includes("i.pinimg.com")),c=new Set,n.forEach(a=>{let t=e.replace(o,`/${a}/`);d.filter(e=>e.name===t).length>0&&c.add(a)}),!(!(c.size>0)||!l||c.has(l))||c.size>1);(e=>{let a=new Image;a.src=e;let{complete:t}=a;return a.src="",t})(u)?(0,s.GV)(`web.${a}.cached_grid_image.found`,{tags:{resolution:_,areMultipleResolutionsLoaded:g}}):(0,s.GV)(`web.${a}.cached_grid_image.not_found`,{tags:{resolution:_,areMultipleResolutionsLoaded:g}})})(a,r,t??void 0)}})}},970428(e,a,t){t.d(a,{A:()=>c});var i=t(335831),r=t(859471),s=t(836737),n=t(746743),o=t(528989),l=t(491149),d=t(562615);function c({allBold:e,searchDelightConfig:a,query:t="",text:c}){(0,r.useEffect)(()=>{(0,i.A)("HighlightTerm","/app/packages/search/HighlightTerm.tsx")},[]);let{checkExperiment:_}=(0,o.A)(),u=(0,l.qJ)(),g=t.trim(),h=c.toLowerCase(),p=(h.startsWith(g.toLowerCase())?g:"").length,m=a?(0,n.ZR)(c,a.search_query_list):null;if(m&&a)return(0,d.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,d.jsx)(n.TC,{allBold:e,searchDelightConfig:a,searchDelightParts:m,text:c,weightPivot:p})});if(!u&&_("web_search_autocomplete_visual_treatment").anyEnabled){let e=((e,a)=>{let t=Array(e.length).fill(!1);a.forEach(a=>{if(!a)return;let i=0;for(;i<=e.length-a.length;){let r=e.indexOf(a,i);if(-1===r)break;let s=r+a.length,n=!1;for(let e=r;e<s;e+=1)if(t[e]){n=!0;break}if(!n){for(let e=r;e<s;e+=1)t[e]=!0;break}i=s}});let i=[],r=0;for(;r<t.length;){let e=t[r],a=r+1;for(;a<t.length&&t[a]===e;)a+=1;i.push({matched:!!e,start:r,end:a}),r=a}return i})(h,g.toLowerCase().split(/\s/));return(0,d.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:e.map(({matched:e,start:a,end:t})=>(0,d.jsx)(s.KJ,{color:e?"subtle":"default",inline:!0,weight:e?"normal":"bold",children:c.substring(a,t)},`search-autocomplete-suggestion-${c}-${a}-${t}`))})}return(0,d.jsxs)(s.az,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:[(0,d.jsx)(s.KJ,{color:"subtle",inline:!0,weight:e?"bold":"normal",children:c.substring(0,p)}),(0,d.jsx)(s.KJ,{inline:!0,weight:"bold",children:c.substring(p)})]})}},295641(e,a,t){t.d(a,{A:()=>i});let i=2},672375(e,a,t){t.d(a,{Ef:()=>s,Jj:()=>r,UQ:()=>n,_n:()=>o,cO:()=>i,my:()=>d,yI:()=>l});let i={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",BOARDS_MINE:"my_boards",USERS:"users",MY_CONTENT:"my_content",SHOP_TOOL:"shop_tool"},r=e=>Object.values(i).find(a=>a===e)??void 0,s=e=>{switch(e){case i.PINS:return 0;case i.PINS_MINE:return null;case i.PINS_BUYABLE:return 1;case i.PINS_VIDEO:return 2;case i.BOARDS:return 3;case i.USERS:return 4;default:return null}},n=e=>{switch(e){case 0:return i.PINS;case 1:return i.PINS_BUYABLE;case 2:return i.PINS_VIDEO;case 3:return i.BOARDS;case 4:return i.USERS;default:return null}},o=e=>{switch(e){case i.PINS_MINE:case i.MY_CONTENT:return 107;case i.PINS_BUYABLE:return 254;case i.PINS_VIDEO:return 3306;case i.SHOP_TOOL:return 3380;case i.BOARDS:return 44;case i.USERS:return 45;case i.PINS:default:return 43}},l=e=>{switch(e){case i.PINS:return 60;case i.PINS_MINE:case i.MY_CONTENT:return 63;case i.PINS_BUYABLE:return 3800;case i.PINS_VIDEO:return 64;case i.BOARDS:return 61;case i.USERS:return 62;default:return null}},d=(e,a)=>{if(a)switch(e){case i.USERS:return 1000392;case i.PINS_BUYABLE:return 1000391;case i.PINS:default:return 29}switch(e){case i.USERS:return 1000432;case i.PINS_BUYABLE:return 1000433;case i.PINS:default:return 1000269}}},589306(e,a,t){t.d(a,{fX:()=>s,kP:()=>r,uq:()=>i});let i="var(--sema-color-hover-background-secondary)",r="var(--sema-color-background-secondary)",s="0 0 0 4px rgba(0, 132, 255, .5)"},308938(e,a,t){t.d(a,{A:()=>i});function i(e){return(e||"").trim().replace(/\s+/g," ")}},410143(e,a,t){t.d(a,{A:()=>s});var i=t(385279),r=t(688094);let s=()=>{let e=(0,i.C)(),a=(0,r.E)();return t=>{let{mobileOptions:i,desktopOptions:r,reason:s,attributionLabel:n,pinId:o,savePinImageUrl:l}=t;e?e.showDesktopSignupModal({signupFlow:r?.modalType==="login"?{type:"login"}:{type:"signup"},reason:s,attributionLabel:n,savePinId:o,savePinImageUrl:l,...r?.modalOptions}):a&&a.showMobileSignupModal({reason:s,attributionLabel:n,headingType:i?.headingType??"none",pinId:o,savePinImageUrl:l})}}},686322(e,a,t){t.d(a,{A:()=>i});function i(e,a){let t=a?.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(t,(e,a)=>"_"+a.toLowerCase())}},453795(e,a,t){t.d(a,{A:()=>o});var i=t(335831),r=t(859471),s=t(836737),n=t(562615);function o(){return(0,r.useEffect)(()=>{(0,i.A)("A11yPause","/app/packages/ui/A11yPause.tsx")},[]),(0,n.jsx)(s.az,{display:"visuallyHidden",children:", "})}},229202(e,a,t){t.d(a,{A:()=>i});let i=()=>window.location.pathname},581268(e,a,t){t.d(a,{A:()=>c,Y:()=>d});var i,r=t(859471);t(825193);var s=t(657804),n=t(900565);let o=(void 0!==i||(i=t(590815)).hash&&"7a87fb47ec8dc08d373f83cf43f4b96f"!==i.hash&&console.error("The definition of 'useGetStringifiedCommerceAuxData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),l=e=>{let a=!!(e&&"GraphQL"===(0,s.z)(e)),t=(0,n.A)(o,e);return(0,r.useCallback)(e=>{let i,r,s;return 0===Object.keys(i={...e?.default,...t?(r=Symbol("SKIP"),s=null,!a&&(s=!!(t.shoppingFlags?.includes(10)||t.productPinData?.items?.[0]?.additionalImagesLength)),Object.entries({...t.isEligibleForPdp||t.isOosProduct||t.isStaleProduct?{...(()=>{let e=null,i=null,s=t.richMetadata?.products?.[0];if(!a){let r=(t.richMetadata||t.richSummary)?.products?.[0],n=r?.images_736x?.length||r?.images_564x?.length||r?.images_474x?.length||r?.images_236x?.length||0,o=!!t.images_orig;i=n>0?+!!o+n:t.carouselData?.carouselSlots?.length,e=!a&&s?.variantSet?.dimensionMetadata?.reduce((e,{name:a,values:t})=>e+(a&&t?t.length:0),0)}return{carousel_image_count:i||r,brand_signature:s?.brand?.signature||r,free_shipping_price:s?.shippingInfo?.freeShippingPrice||r,free_shipping_value:s?.shippingInfo?.freeShippingValue||r,num_variants:s?.variantSet?.variants?.length||r,total_dimension_option_count:s?.variantSet?.dimensionMetadata?.length||r,valid_dimension_option_count:e||r}})(),pin_show_pdp_oos:!!t.isOosProduct||r,pin_show_pdp_stale:!!t.isStaleProduct||r,pin_show_pdp:!!t.isEligibleForPdp||r}:{},pin_is_shop_the_look:!!(t.shoppingFlags?.includes(2)||t.aggregatedPinData?.isShopTheLook)||r,is_available:!!t.shoppingFlags?.includes(1)||r,is_product_pin_v2:!!t.shoppingFlags?.includes(5)||r,is_rich_product_pin:!!t.shoppingFlags?.includes(6)||r,is_organic_product_carousel:s||r,item_id:(t.richSummary?.products?.[0]||{}).itemId||r,item_set_id:(t.richSummary?.products?.[0]||{}).itemSetId||r,story_pin_id:t.storyPinData?t.storyPinDataId:r}).filter(([,e])=>e!==r).reduce((e,[a,t])=>({...e,[a]:t}),{})):{},...e?.override}).length?{}:{commerce_data:JSON.stringify(i)}},[a,t])},d=({children:e,pinKey:a})=>e(l(a)),c=l},121606(e,a,t){t.d(a,{A:()=>d});var i=t(335831),r=t(859471),s=t(836737),n=t(562615);function o(e,a,t){var i;return(a="symbol"==typeof(i=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,a||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?i:i+"")in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}let l={default:{backgroundColor:"var(--sema-color-background-secondary)",boxShadow:"none"},drag:{backgroundColor:"var(--sema-color-background-default)",boxShadow:"var(--sema-space-0) var(--sema-space-0) var(--sema-space-0) var(--sema-space-25) var(--sema-color-border-education)"},error:{backgroundColor:"var(--sema-color-background-error-weak)",boxShadow:"var(--sema-space-0) var(--sema-space-0) var(--sema-space-0) var(--sema-space-25) var(--sema-color-border-error)"}};class d extends r.Component{constructor(...e){super(...e),o(this,"state",{isDraggingOver:!1,isHoveringOver:!1,containedHeight:null}),o(this,"handleOnDragEnter",e=>{let{onDragEnter:a}=this.props;e.preventDefault(),e.stopPropagation(),this.setState({isDraggingOver:!0}),a&&a(e)}),o(this,"handleOnDragLeave",e=>{let{onDragLeave:a}=this.props;e.preventDefault(),e.stopPropagation(),this.setState({isDraggingOver:!1}),a&&a(e)}),o(this,"handleOnDragOver",e=>{let{onDragOver:a}=this.props;e.preventDefault(),e.stopPropagation(),a&&a(e)}),o(this,"handleOnDrop",e=>{let{onDrop:a}=this.props;e.preventDefault(),e.stopPropagation(),this.setState({isDraggingOver:!1}),a&&a(e)}),o(this,"handleMouseEnter",()=>{let{onMouseEnter:e}=this.props;e&&e(),this.setState({isHoveringOver:!0})}),o(this,"handleMouseLeave",()=>{let{onMouseLeave:e}=this.props;e&&e(),this.setState({isHoveringOver:!1})}),o(this,"setContainedHeight",e=>{this.setState({containedHeight:e})})}getDragContainerStyles(e,a){return a&&"default"===e?{...l[e],backgroundColor:a}:l[e]}render(){let{children:e,color:a,dropRounding:t,hasError:i,height:r,position:o,width:l}=this.props,{isDraggingOver:d,isHoveringOver:c,containedHeight:_}=this.state;return(0,n.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{...this.getDragContainerStyles(d?"drag":i?"error":"default",a),...t?{borderRadius:t}:{}}},"data-test-id":"drag-behavior-container",height:r||_||"100%",onDragEnter:this.handleOnDragEnter,onDragLeave:this.handleOnDragLeave,onDragOver:this.handleOnDragOver,onDrop:this.handleOnDrop,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,position:o,rounding:200,width:l||"100%",children:e(d,c,this.setContainedHeight,_)})}componentDidMount(){(0,i.A)("DragBehavior","/app/packages/vip/DragBehavior.tsx")}}},954111(e,a,t){t.d(a,{A:()=>d});var i=t(335831),r=t(859471),s=t(836737),n=t(121606),o=t(562615);let l={cursor:"pointer",height:"100%",opacity:0,position:"absolute",width:"100%",left:0,top:0,fontSize:0},d=e=>{(0,r.useEffect)(()=>{(0,i.A)("FileUpload","/app/packages/vip/FileUpload.tsx")},[]);let[a,t]=(0,r.useState)(!1),d=a=>{let{onChange:t}=e;a.preventDefault(),a.stopPropagation(),t&&t(a),a.target.value=""},c=a=>{let{onClick:t}=e;t&&t(a)},{accept:_,accessibilityLabel:u,accessibilityDescription:g,allowMultipleFiles:h,children:p,color:m,dropRounding:y,hasError:f,height:b,id:v,onDrop:A,position:x,rounding:P=200,width:S,isAriaHidden:I,isRequired:w,experimentsClient:E}=e;return(0,o.jsx)(n.A,{color:m,dropRounding:y,experimentsClient:E,hasError:f,height:b,onDrop:A,position:x,width:S,children:e=>(0,o.jsxs)(s.az,{dangerouslySetInlineStyle:{__style:{...a?{border:"2px solid var(--sema-color-border-focus-outer-default)"}:{}}},height:"100%",onBlur:()=>t(!1),onFocus:()=>t(!0),position:"relative",rounding:P,children:[p(e),(0,o.jsx)("input",{accept:_,"aria-describedby":"upload-button-explanation","aria-hidden":I,"aria-invalid":f?"true":void 0,"aria-label":u,"data-test-id":v,id:v,multiple:h,onChange:d,onClick:c,required:w,style:l,tabIndex:I?-1:0,type:"file"}),g&&(0,o.jsx)(s.az,{display:"none",id:"upload-button-explanation",children:(0,o.jsx)(s.KJ,{children:g})})]})})}},838981(e,a,t){t.d(a,{Uz:()=>o,Vf:()=>n,f9:()=>r,oA:()=>i,uq:()=>s});let i=["image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/webp"],r=["bmp","gif","jpg","jpeg","png","tiff","webp"],s=["video/mp4","video/x-m4v","video/quicktime"],n=["mp4","m4v","mov"],o={border:"2px dashed #DADADA",borderRadius:"32px",pointerEvents:"none"}},80001(e,a,t){t.d(a,{A:()=>n});var i=t(410899),r=t(112726),s=t(118722);function n(e,a,t,n){switch(e){case"FILE_UNRECOGNIZED_TYPE":return{dispatchId:t,id:"FILE_UNRECOGNIZED_TYPE",type:"error",message:a._('Your upload failed because it\'s the wrong format.', 'vip.errorMessaging.message', 'Error message uploading a file format that is not supported.'),blocking:!0};case"IMAGE_OVER_MAX_DIMENSIONS":return{dispatchId:t,id:"IMAGE_OVER_MAX_DIMENSIONS",type:"error",message:a._('This image is too large and can\'t be uploaded. Please try a smaller image size.', 'vip.errorMessaging.message', 'Error message uploading an image file that is too large'),blocking:!0};case"IMAGE_UNDER_MIN_DIMENSIONS":let[o,l]=s.A.enabled("pinQuality")||n?.isStoryPin?[300,200]:[100,100];return{dispatchId:t,id:"IMAGE_UNDER_MIN_DIMENSIONS",type:"error",message:(0,i.vQ)(a._('Hmm...this image is too small. Make sure your images are at least {{ minWidth }} x {{ minHeight }} {{ pixelString }}.', 'vip.errorMessaging.minImageMessage', 'Error message when uploading an image file that is smaller than the supported height and width.'),{minHeight:o,minWidth:l,pixelString:a.ngettext('pixel', 'pixels', l, 'pinBuilder.errorMessaging.pixel', 'Label for number of pixels')}).join(""),blocking:!0};case"IMAGE_OVER_MAX_FILE_SIZE":return{dispatchId:t,id:"IMAGE_OVER_MAX_FILE_SIZE",type:"error",message:(0,i.vQ)(a.ngettext('This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 'This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 20, 'vip.errorMessaging.message', 'Error message when uploading an image file larger than the supported size'),{max_size_mb:20}).join(""),blocking:!0};case"IMAGE_UNRECOGNIZED_TYPE":return{dispatchId:t,id:"IMAGE_UNRECOGNIZED_TYPE",type:"error",message:a._('This image type is invalid - please make sure the image is natively .jpg or .png', 'vip.errorMessaging.message', 'Error message uploading an image that is malformed in some way'),blocking:!0};case"VIDEO_UNDER_MIN_DIMENSIONS":return{dispatchId:t,id:"VIDEO_UNDER_MIN_DIMENSIONS",type:"error",message:(0,i.vQ)(a.ngettext('This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixel', 'This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixels', 100, 'vip.errorMessaging.message', 'Error message when uploading an video file that is smaller than the supported height and width.'),{min_size_video:100}).join(""),blocking:!0};case"VIDEO_BELOW_MIN_DURATION":let d=Math.floor(4);return{dispatchId:t,id:"VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,i.vQ)(a.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} seconds.', d, 'vip.errorMessaging.message', 'Error message uploading a video file that is shorter than required seconds.'),{minVideoLengthSeconds:d}).join(""),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":return{dispatchId:t,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,i.vQ)(a.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} seconds.', 4, 'vip.errorMessaging.storyPinVideoBelowMin.message', 'Error message uploading a video file that is shorter than required seconds.'),{minStoryPinVideoLengthSeconds:4}).join(""),blocking:!0};case"VIDEO_COVER_INVALID_ASPECT_RATIO":return{dispatchId:t,id:"VIDEO_COVER_INVALID_ASPECT_RATIO",type:"error",message:a._('The video\'s cover image must be of the same dimensions as the video itself', 'vip.errorMessaging.message', 'Error message when uploading cover image with non matching dimensions to video'),blocking:!0};case"VIDEO_GENERAL_UPLOAD_ERROR":return{dispatchId:t,id:"VIDEO_GENERAL_UPLOAD_ERROR",type:"error",message:a._('Hmm, your upload failed for some reason. Please try again.', 'vip.errorMessaging.message', 'Error message uploading a video file and the process fails'),blocking:!0};case"VIDEO_OVER_MAX_DURATION":return{dispatchId:t,id:"VIDEO_OVER_MAX_DURATION",type:"error",message:(0,i.vQ)(a.ngettext('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minute.', 'This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minutes.', 15, 'vip.errorMessaging.message', 'Error message uploading a video file that is longer than required minutes.'),{max_video_length_minutes:15}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_DURATION":return{dispatchId:t,id:"STORY_PIN_VIDEO_OVER_MAX_DURATION",type:"error",message:(0,i.vQ)(a._('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_seconds}} seconds.', 'vip.errorMessaging.message', 'Error message uploading a story pin video file that is longer than limit in seconds. max_video_length_seconds: Integer representing the max video length'),{max_video_length_seconds:Math.floor(300.5)}).join(""),blocking:!0};case"VIDEO_OVER_MAX_FILE_SIZE":return{dispatchId:t,id:"VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,i.vQ)(a.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 2, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required gigabytes.'),{max_video_size_gb:2}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":{let e=r.L3/1024/1024;return{dispatchId:t,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,i.vQ)(a.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', e, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required megabytes. maxVideoFileSize: max video size for videos attempting to upload'),{maxVideoFileSize:e}).join(""),blocking:!0}}case"VIDEO_UNRECOGNIZED_ENCODING":return{dispatchId:t,id:"VIDEO_UNRECOGNIZED_ENCODING",type:"error",message:a._('This video isn\'t encoded in H.264', 'vip.errorMessaging.message', 'Error message uploading a video file that is malformed (generic error message)'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME":return{dispatchId:t,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME",type:"error",message:a._('This video isn\'t encoded in H.264 or H.265.  Please use Safari if you want to upload ProRes videos.', 'vip.errorMessaging.message.chrome', 'Error message uploading a video file that is malformed from Chrome'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX":return{dispatchId:t,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX",type:"error",message:a._('This video isn\'t encoded in H.264.  Please use Safari if you want to upload H.265 or ProRes videos.', 'vip.errorMessaging.message.firefox', 'Error message uploading a video file that is malformed from Firefox'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI":return{dispatchId:t,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI",type:"error",message:a._('This video isn\'t encoded in H.264 or H.265 or ProRes.', 'vip.errorMessaging.message.safari', 'Error message uploading a video file that is malformed from Safari'),blocking:!0};case"VIDEO_UNSUPPORTED_RATIO":return{dispatchId:t,id:"VIDEO_UNSUPPORTED_RATIO",type:"error",message:a._('This video is too tall or narrow and can\'t be uploaded. Videos need to be between 1:2 and 1.91:1 aspect ratio.', 'vip.errorMessaging.message', 'Error message uploading a video file that is not a supported aspect ratio'),blocking:!0};default:return{dispatchId:t,id:"GENERAL_ERROR",type:"error",message:a._('Hmm, something went wrong. Please try again.', 'vip.errorMessaging.message', 'Error message for generic error during Pin creation'),blocking:!0}}}},870877(e,a,t){t.d(a,{A:()=>s});var i=t(679902),r=t(80001);let s=e=>a=>new Promise((t,s)=>{let n=new Image;n.addEventListener("load",()=>t({fileSrc:a,height:n.height,id:(0,i.A)(),name:a.name,size:a.size,src:n.src,type:"localImage",width:n.width})),n.addEventListener("error",()=>s((0,r.A)("IMAGE_UNRECOGNIZED_TYPE",e))),n.src=URL.createObjectURL(a)})},808595(e,a,t){t.d(a,{A:()=>n});var i=t(679902),r=t(80001),s=t(379598);let n=e=>a=>new Promise((t,n)=>{let o=new FileReader,l=(window.navigator?.userAgent||"").includes("Safari")?a.slice(0,a.size,"video/mp4"):a,d=URL.createObjectURL(l);o.addEventListener("load",()=>{let o=document.createElement("video");o.addEventListener("loadedmetadata",()=>t({id:(0,i.A)(),duration:o.duration,fileSrc:a,height:o.videoHeight,name:a.name,size:a.size,src:o.src,thumbnail:0,type:"localVideo",width:o.videoWidth})),o.addEventListener("error",()=>{n((0,r.A)((0,s.A)(),e))}),o.src=d}),o.readAsDataURL(a)})},379598(e,a,t){t.d(a,{A:()=>i});function i(){let e=window.navigator?.userAgent||"";if(e.includes("Firefox"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX";if(e.includes("SamsungBrowser")||e.includes("Opera")||e.includes("OPR")||e.includes("Edge"))return"VIDEO_UNRECOGNIZED_ENCODING";if(e.includes("Edg"))return"VIDEO_UNRECOGNIZED_ENCODING";if(e.includes("Chrome"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME";if(e.includes("Safari"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI";else return"VIDEO_UNRECOGNIZED_ENCODING"}},469905(e,a,t){t.d(a,{A:()=>_});var i=t(838981),r=t(80001),s=t(870877),n=t(118722),o=t(264780),l=t(112726),d=t(808595),c=t(379598);function _({i18n:e,file:a,options:t,ideaPinRenamingEnabled:_,imageFileTypes:u=i.oA}){let{allowVideo:g,videoOnly:h}=t||{};return i.uq.includes(a.type)&&g?function(e,a,t){let{forStoryPin:i}=t||{},s=i?l.L3:0x80000000;return a.size>s?Promise.resolve((0,r.A)(i?"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":"VIDEO_OVER_MAX_FILE_SIZE",e)):(0,d.A)(e)(a).then(a=>(function(e,a,t){let{forStoryPin:i,allowAllAspectRatios:s}=t||{},n=!!i;return a.duration<4?(0,r.A)(n?"STORY_PIN_VIDEO_BELOW_MIN_DURATION":"VIDEO_BELOW_MIN_DURATION",e):a.duration>(n?300.5:900)?(0,r.A)(n?"STORY_PIN_VIDEO_OVER_MAX_DURATION":"VIDEO_OVER_MAX_DURATION",e):a.width&&a.height?!s&&(a.width/a.height<.5||a.width/a.height>1.91)?(0,r.A)("VIDEO_UNSUPPORTED_RATIO",e):a.width<100||a.height<100?(0,r.A)("VIDEO_UNDER_MIN_DIMENSIONS",e):a:(0,r.A)((0,c.A)(),e)})(e,a,t)).catch(e=>e)}(e,a,t):!u.includes(a.type)||h?Promise.resolve((0,r.A)("FILE_UNRECOGNIZED_TYPE",e)):a.size>0x1400000?Promise.resolve((0,r.A)("IMAGE_OVER_MAX_FILE_SIZE",e)):(0,s.A)(e)(a).then(a=>(function(e,a,t,i){let[r,s]=n.A.enabled("pinQuality")||i?.isStoryPin?[300,200]:[100,100],l=i?.minHeight||r,d=i?.minWidth||s;return t.height*t.width>0x5555555?(0,o.Ay)({errorId:"IMAGE_OVER_MAX_DIMENSIONS",i18n:e,ideaPinRenamingEnabled:a}):t.height<l||t.width<d?(0,o.Ay)({errorId:"IMAGE_UNDER_MIN_DIMENSIONS",i18n:e,ideaPinRenamingEnabled:a,options:i}):t})(e,_,a,t)).catch(e=>e)}},846515(e,a,t){t.d(a,{A:()=>i});let i={BOARD_PICKER:"board_picker",ORGANIZE_PINS:"organize_pins",PROFILE:"profile",PIN_CLUSTER:"create_pin_cluster_page"}},232225(e,a,t){t.d(a,{A:()=>T});var i,r=t(335831),s=t(859471);t(825193);var n=t(836737),o=t(233944),l=t(47998),d=t(900565),c=t(396901),_=t(528989),u=t(410143),g=t(798923),h=t(488265),p=t(906494),m=t(27112),y=t(41366),f=t(491149),b=t(119795),v=t(65467),A=t(604050),x=t(246093),P=t(275606),S=t(644541),I=t(562615);let w=({children:e,pulsar:a,testId:t})=>a.show?(0,I.jsx)(n.az,{"data-test-id":t,position:"relative",children:(0,I.jsxs)(n.Rp,{onTap:a.onClick,tapStyle:"none",children:[(0,I.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,I.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,I.jsx)(n.EV,{})})]})}):(0,I.jsx)(n.az,{"data-test-id":t,children:e}),E=(void 0!==i||(i=t(379804)).hash&&"cabaa35ed7d59dee006897bf3ef32e3d"!==i.hash&&console.error("The definition of 'FollowButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function T({auxData:e,disabled:a,disableLog:t,followEventType:i,id:T,inline:k,invertColors:O,isFollowed:z,isIdeaPin:D,isLegoEnabled:R,isSecondaryButton:B,isUserFollowButton:C,isUserMe:L,onFollow:j,onUnfollow:N,pinKey:M,shouldUseLegoColors:F,showPulsar:V,size:U,textType:K="FollowFollowing",unfollowEventType:G,viewParameter:H,viewType:$,clientTrackingParams:Y}){let J;(0,s.useEffect)(()=>{(0,r.A)("FollowButton","/app/www/FollowButton.tsx")},[]);let W=(0,c.A)(),q=(0,f.qJ)(),{showToast:X}=(0,p.CG)(),Q=(0,h.A)(),Z=(0,o.A)(),ee=(0,u.A)(),{checkExperiment:ea}=(0,_.A)(),et=(0,A.A)(),ei=(0,l.A)(),er=ei&&ei.isAuth,{unauthFollowUserId:es,setUnauthFollowUserId:en}=(0,S.H)(),eo=(0,x.DF)()(T),el=(0,m.A)(),[ed,ec]=(0,s.useState)(z),e_=eo&&{imageMediumUrl:eo.image_medium_url,username:eo.username},eu=(0,d.A)(E,M),eg=eu?.linkDomain,eh=eu?.nativeCreator,ep=eu?.originPinner,em=eu?.pinner;J=eh||(eg?eg.officialUser:ep||em);let ey=e_??J;(0,b.A)(()=>{!q&&er&&es&&T&&es===T&&j(T)});let ef=et({fn:()=>{if(er)ed?(N(T),ec(!1),t||Z({event_type:G,view_type:$,view_parameter:H,object_id_str:T,aux_data:e,clientTrackingParams:Y})):(j(T),ec(!0),C&&X(({hideToast:e})=>{let a=ey?.username?`/${ey.username}/`:"";return(0,I.jsx)(P.A,{handleHide:e,href:a,imageUrl:ey?.imageMediumUrl||"",text:(0,I.jsx)(n.KJ,{lineClamp:4,children:W._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:T})}),t||Z({event_type:i,view_type:$,view_parameter:H,object_id_str:T,aux_data:e,clientTrackingParams:Y}));else{if((0,g.uq)(ed?"press_profile_unfollow":"press_profile_follow"),Q({action:"click",item:ed?"unfollow-button":"follow-button"}),ea("migration_upsell_manager_redux").anyEnabled||ea("migration_upsell_manager_redux_dweb").anyEnabled||ea("migration_upsell_manager_redux_mweb").anyEnabled||ea("migration_upsell_manager_redux_dweb_global").anyEnabled||ea("migration_upsell_manager_redux_mweb_global").anyEnabled)if(q){let e=ea("pcons_dweb_contextual_follow_modal").anyEnabled;el((0,y.Vl)(!!D,e))}else{let e=ea("pcons_mweb_contextual_follow_modal").anyEnabled;el((0,y.Ll)(!!D,e))}else ee({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:D?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:q&&ea("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!q&&ea("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0});q||en(T??""),(0,g.uq)("clickthrough")}},modalHeader:(0,v.Bh)({i18n:W,toFollow:!ed})}),eb=!ed&&!!V,ev=()=>{if(L)return W._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===K)return ed?W._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):W._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');let e="FollowUnfollow"===K?W._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):W._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return ed?e:W._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,I.jsx)(w,{pulsar:eb?{show:!0,onClick:ef}:{show:!1},testId:L||ed?"board-unfollow-button":"board-follow-button",children:(0,I.jsx)(n.$n,{accessibilityLabel:ev(),color:F||"AddRemove"===K||!R&&B||O?"secondary":"primary",disabled:L||a,fullWidth:k,onClick:eb?void 0:({event:a})=>{a.preventDefault(),a.stopPropagation(),t||Z({event_type:101,component:13672,element:11951,object_id_str:T,view_type:$,view_parameter:H,aux_data:e,clientTrackingParams:Y}),ef()},selected:ed||!1,size:U,text:ev()})})}},456418(e,a,t){t.d(a,{D6:()=>h,LV:()=>c,S$:()=>s,Tq:()=>d,Wt:()=>u,b9:()=>r,hK:()=>_,iu:()=>o,oc:()=>g,t1:()=>n,zU:()=>l});var i=t(70565);let r=e=>{let a=(0,i.bi)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,duploShouldTrackPinEvents:e.duploShouldTrackPinEvents,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},s=e=>{let a=(0,i.bi)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:a})},n=e=>{let a=(0,i.bi)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:a})},o=e=>{let a=(0,i.bi)({impressionAuxFields:{...e.impressionData||{}},contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:a})},l=e=>{let a=(0,i.bi)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},d=e=>{let a=(0,i.bi)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},c=e=>{let a=(0,i.bi)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},_=e=>{let a=(0,i.bi)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},u=e=>{let a=(0,i.bi)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:a})},g=e=>{let a=(0,i.bi)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:a})},h=e=>{let a=(0,i.bi)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"EditorialBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})}},717994(e,a,t){t.d(a,{A:()=>r});var i=t(246093);function r(){let e=(0,i.V_)();return Object.keys(e).reduce((a,t)=>{let i=e[t];return a[i.username]=i,a},{})}},543291(e,a,t){t.d(a,{_:()=>s});let i={á:"a",à:"a",â:"a",ä:"a",ã:"a",å:"a",æ:"a",ç:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ñ:"n",ó:"o",ò:"o",ô:"o",ö:"o",õ:"o",ø:"o",œ:"o",ß:"s",ú:"u",ù:"u",û:"u",ü:"u"},r=e=>{if(!e)return"";let a="";for(let t=0;t<e.length;t+=1)a+=i[e.charAt(t)]||e.charAt(t);return a},s=(e,a,t="name")=>{let i=a.toLowerCase();return e.filter(e=>((e,a)=>{let t=a.split(" "),i=e.split(" "),s=0;for(let e=0;e<i.length;e+=1)(r(i[e]).includes(t[s])||i[e].includes(t[s]))&&(s+=1);return s===t.length})(e[t].toLowerCase(),i))}},931970(e,a,t){t.d(a,{A:()=>D});var i,r=t(335831),s=t(859471);t(825193);var n=t(979638),o=t(836737),l=t(233944),d=t(625277),c=t(47998),_=t(900565),u=t(396901),g=t(464260),h=t(51968),p=t(410899),m=t(376195),y=t(798923),f=t(453795),b=t(347552),v=t(491149),A=t(371389),x=t(923957),P=t(321791),S=t(562615);function I({boardId:e}){let a,t,i;(0,s.useEffect)(()=>{(0,r.A)("CollaboratorsAvatars","/app/www/board/CollaboratorsAvatars.tsx")},[]);let n=(0,c.A)(),l=(0,v.qJ)(),d=(0,P.oW)()(e),_=(a=(0,c.A)(),t=(0,v.qJ)()&&a&&a.isAuth,i=(0,P.oW)()(e),(0,s.useMemo)(()=>{if(!i)return[];let{owner:e,collaborating_users:r}=i,[s,n,o]=[new Set,new Set,new Set];for(let t of[...e?[e]:[],...r||[]])t.id===e?.id?s.add(t):t.id===(a.isAuth?a.id:void 0)?n.add(t):o.add(t);return[...s,...n,...o].map(e=>({name:(t?e.full_name:e.username)??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??"",color:e?.avatar_color_index??void 0}))},[t,i,a]));if(!d)return null;let{collaborator_count:u=0}=d,g=l&&n&&n.isAuth?23:16,h=g/3*((_.length>2?3:_.length)*2+1),p=u>=_.length?u-_.length:0,m=[..._,...Array(p=p>99?100:p).fill({name:"",src:""})];return(0,S.jsxs)(o.az,{height:g,marginStart:2,minWidth:h,width:h,children:[(0,S.jsx)(f.A,{}),(0,S.jsx)(x.Z7,{collaborators:m})]})}var w=t(211024),E=t(232225),T=t(456418),k=t(717994);let O=(void 0!==i||(i=t(566786)).hash&&"160b60f499ce33660e2c11915eed4d09"!==i.hash&&console.error("The definition of 'BoardCard_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),z=({children:e,isOwnProfile:a,lineClamp:t})=>(0,v.qJ)()?(0,S.jsx)(o._Y,{accessibilityLevel:2,lineClamp:a?1:t,size:a?"400":"300",children:e}):(0,S.jsx)(o.KJ,{lineClamp:a?1:t,size:a?void 0:"200",weight:"bold",children:e});function D({auxData:e,archivedDate:a,boardId:t,boardUrl:i,canEdit:x,numberOfCollaborators:P,containerBackgroundColor:D,coverPhoto:R,display:B,followButtonDisabled:C=!1,followedByMe:L,fullSizeDrawer:j,sensitivityScreen:N,handleInviteResponse:M,hideMeta:F,hideSecretBoardIcon:V=!1,id:U,invite:K,imagesLego:G=[],isActive:H,isAttributionHeightUnfixed:$,isAuthenticated:Y,isBoardInviteAccepted:J,isCollaborative:W,isCollaborator:q,isCollaboratorsAttributionVisible:X=!1,isFeaturedBoardsModule:Q=!1,isHomePageBoards:Z,isOwner:ee,isProtected:ea,isSecret:et,lastModifiedDate:ei,layout:er,lineClamp:es=2,locale:en,metaMarginTop:eo=0,metaMarginBottom:el=0,metaPaddingY:ed=2,name:ec,numCols:e_,onEditClick:eu,onFollow:eg,onUnfollow:eh,pinCount:ep=0,sectionCount:em,slotIndex:ey,showFollowButton:ef,showBoardCollaborators:eb=!0,showTitleOnly:ev,trackingParams:eA,boardKey:ex,viewObjectIdStr:eP,viewParameter:eS,viewType:eI}){(0,s.useEffect)(()=>{(0,r.A)("BoardCard","/app/www/board/BoardCard.tsx")},[]);let{isDarkMode:ew}=(0,d.D2)(),eE=(0,u.A)(),eT=(0,g.A)(),ek=(0,h.A)(),eO=(0,l.A)(),ez=(0,v.qJ)(),{isRTL:eD}=(0,m._8)(),eR=(0,c.A)(),{username:eB}=(0,n.g)(),eC=(0,k.A)(),eL=eC[eB??""]?.is_gco_account,ej=(0,_.A)(O,ex),{featuredBoardMetadata:eN}=ej||{},{curator:eM,isSponsoredContent:eF}=eN||{},eV=Q&&eF,eU=ez&&Y,eK="square"===er?236:320,eG="responsive"!==B&&(eU||Q)?eK:"100%",eH=eR.isAuth&&eR.username===eB,e$=e=>{Y||(0,y.uq)("press_follow_board"),eg&&eg(e)},eY=e=>{Y||(0,y.uq)("press_unfollow_board"),eh&&eh(e)},eJ=G.map(e=>({url:e.url,name:ec})),eW=!!ej?.owner&&!x&&ef,eq=ej?.owner?.isVerifiedMerchant,eX=ej?.owner?.verifiedIdentity?.verified,eQ=W&&!Q;eH||(eQ&&=!!eB&&!eL);let eZ=!ee&&!q&&!!N?.show_warning,e0={board_id:U,reason:N?.reason},e1=!eH&&!ev&&(!eB||X||eL),e3=eU?void 0:44+40*!!eW;eH||(e3=ez?void 0:(e1?69:49)+40*!!eW);let e2=eW&&"responsive"!==B?`max(calc(25vh + 10px), calc(210px + ${5*!eH}vh))`:"100%";return(0,s.useEffect)(()=>{eZ&&eO({event_type:13,component:13861,view_type:215,aux_data:e0})},[]),(0,S.jsx)(T.Wt,{auxData:{board_id:U,board_pin_count:ep??0,board_section_count:em??0,grid_index:ey||0,...e},impressionData:{imageURL:R?.url},loggingId:U,slotIndex:ey||0,trackingParams:eA,viewData:{view_object_id_str:eP},viewParameter:eS,viewType:eI,children:({impressionTrackerRef:e})=>(0,S.jsxs)(o.az,{ref:e,"data-test-id":`boardCard-${ec}`,height:a&&!ez?"100%":e2,position:"relative",width:eG,children:[(0,S.jsx)(o.n1,{rounding:400,children:(0,S.jsx)(w.A,{boardKey:ej,canEdit:x,containerBackgroundColor:D,coverPhoto:R,coverPinKey:ej?.coverPin??null,fullSize:j,hideSecretBoardIcon:V,images:eJ,isActive:H,isHomePageBoards:Z,isProtected:ea,isSecret:et,layout:er,onEditClick:eu,renderAsImage:!0,showSensitivityScreen:eZ})}),!F&&(0,S.jsx)(s.Fragment,{children:K?(0,S.jsxs)(s.Fragment,{children:[(0,S.jsxs)(o.az,{alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",padding:2,children:[(0,S.jsxs)(o.az,{width:"100%",children:[(0,S.jsx)(o.N_,{href:i??"",children:(0,S.jsx)(o.az,{marginBottom:1,marginTop:0,children:(0,S.jsx)(z,{isOwnProfile:eH,lineClamp:es,children:ec})})}),J?(0,S.jsx)(o.KJ,{lineClamp:1,size:"200",children:eE._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,S.jsx)(o.KJ,{size:"200",children:function(e,a){let{full_name:t,username:i}=e,r=(0,S.jsx)(o.N_,{display:"inlineBlock",href:`/${i}`,underline:"hover",children:t},"linkToUser");return(0,p.vQ)(a._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:r})}(K.invited_by_user,eE)})]}),eb&&(0,S.jsx)(I,{boardId:t})]}),J?(0,S.jsx)(o.az,{direction:"row",display:"flex",paddingX:2,children:(0,S.jsx)(o.az,{flex:"grow",marginBottom:3,paddingX:1,children:(0,S.jsx)(o.vx,{fullWidth:!0,href:i??"",size:"lg",text:eE._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,S.jsxs)(o.so,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,S.jsx)(o.az,{flex:"grow",marginBottom:3,paddingX:1,children:(0,S.jsx)(o.$n,{fullWidth:!0,onClick:()=>{M?.(!1)},size:"lg",text:eE._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,S.jsx)(o.az,{flex:"grow",marginBottom:3,paddingX:1,children:(0,S.jsx)(o.$n,{color:"primary",fullWidth:!0,onClick:()=>{M?.(!0)},size:"lg",text:eE._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,S.jsxs)(o.az,{height:$?void 0:e3,marginBottom:el,marginTop:eo,paddingX:2,paddingY:ed,children:[(0,S.jsxs)(o.az,{alignItems:eH?"center":"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,S.jsx)(z,{isOwnProfile:eH,lineClamp:es,children:ec}),eQ&&eb&&(0,S.jsx)(I,{boardId:t})]}),e1&&(0,S.jsx)(o.az,{marginTop:1,children:eV?(0,S.jsx)(A.A,{numberOfCollaborators:0,ownerFullName:eM?.fullName??"",ownerIsVerifiedIdentity:!!eM?.verifiedIdentity?.verified,ownerIsVerifiedMerchant:!!eM?.isVerifiedMerchant,showBoardCollaborators:!1}):(0,S.jsx)(A.A,{numberOfCollaborators:P,ownerFullName:ej?.owner?.fullName??"",ownerIsVerifiedIdentity:!!eX,ownerIsVerifiedMerchant:!!eq,showBoardCollaborators:eb})}),!ev&&(0,S.jsxs)(o.az,{alignItems:ez?"center":"start",direction:"row",display:"flex",marginTop:1,children:[(0,S.jsxs)(o.KJ,{color:eH?void 0:"subtle",overflow:"normal",size:"100",children:[(0,S.jsx)(f.A,{}),(0,p.vQ)(eE.ngettext('{{ count }} Pin', '{{ count }} Pins', ep, 'profile.ProfilePage.board.BoardCard.pinsCount', 'Show how many Pins there are in the board card. count:number of Pins'),{count:ek(en,ep,{shortform:!0,shortform_maximum_fraction_digits:1})})]}),!!em&&(0,S.jsxs)(o.KJ,{color:eH?void 0:"subtle",lineClamp:1,size:"100",children:[(0,S.jsx)(b.A,{ariaHidden:!0,size:"100"}),(0,S.jsx)(f.A,{}),(0,p.vQ)(eE.ngettext('{{ count }} section', '{{ count }} sections', em, 'profile.ProfilePage.board.BoardCard.sectionsCount', 'Show how many sections there are in the board card. count:number of sections'),{count:em})]}),!eH&&(0,S.jsx)(o.KJ,{color:"subtle",size:"100",children:(0,S.jsx)(b.A,{ariaHidden:!0,size:"100"})}),(0,S.jsx)(o.so.Item,{flex:em?"none":"grow",children:(0,S.jsx)(o.az,{display:"flex",marginEnd:2*!!eD,marginStart:eH?2:void 0,children:(0,S.jsxs)(o.KJ,{color:"subtle",overflow:"normal",size:"100",children:[(0,S.jsx)(f.A,{}),eT(ei,!0)]})})})]}),a&&!ez&&(0,S.jsxs)(o.KJ,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:[(0,S.jsx)(f.A,{}),eE._('Archived', 'profile.ProfilePage.BoardCard.ArchivedText', 'label for archived boards')]}),eW&&(0,S.jsx)(o.az,{column:2===e_?12:void 0,flex:"none",marginTop:2===e_?3:void 0,children:(0,S.jsx)(E.A,{disabled:!!ej?.owner?.blockedByMe||C,followEventType:26,id:U,isFollowed:L,onFollow:e$,onUnfollow:eY,pinKey:null,shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:eS,viewType:eI})})]})}),eF&&(0,S.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:ew?"rgba(51,51,46,0.8)":"rgba(229,229,224,0.8)",pointerEvents:"none"}},left:!0,margin:2,paddingX:1.5,paddingY:1,position:"absolute",rounding:200,top:!0,children:(0,S.jsx)(o.KJ,{size:"100",children:eE._('Sponsored', 'board.Headers.BoardHeader.BoardHeaderDetails.sponsored', 'Badge to tell the viewer for board with set sponsor user')})})]})})}},371389(e,a,t){t.d(a,{A:()=>u});var i=t(335831),r=t(859471),s=t(836737),n=t(562615);let o=({text:e})=>((0,r.useEffect)(()=>{(0,i.A)("LineClampWrapper","/app/analytics/react/components/DataTable/LineClampWrapper.tsx")},[]),(0,n.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},"data-test-id":"line-clamp-wrapper",fit:!0,overflow:"hidden",children:e}));var l=t(396901),d=t(51968),c=t(376195);let _={xs:{icon:12,text:"100",height:15},sm:{icon:16,text:"200",height:17},md:{icon:20,text:"300",height:18},lg:{icon:24,text:"400",height:23}};function u({ownerFullName:e,ownerIsVerifiedMerchant:a,ownerIsVerifiedIdentity:t,numberOfCollaborators:u,size:g="xs",showBoardCollaborators:h=!0}){(0,r.useEffect)(()=>{(0,i.A)("CollaboratorsAttribution","/app/www/board/CollaboratorsAttribution.tsx")},[]);let p=(0,l.A)(),{locale:m}=(0,c._8)(),y=(0,d.A)();return(0,n.jsxs)(s.so,{alignItems:"center",justifyContent:"start",maxHeight:_[g].height,children:[(0,n.jsx)(s.KJ,{lineClamp:1,size:_[g].text,children:(0,n.jsx)(o,{text:e})}),(a||t)&&(0,n.jsx)(s.az,{flex:"none",marginStart:1,children:a?(0,n.jsx)(s.In,{accessibilityLabel:p._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant is verified'),color:"info",icon:"compact-circle-check",size:_[g].icon}):(0,n.jsx)(s.In,{accessibilityLabel:p._('Identity verification badge icon', 'identityVerification.badge.icon', 'Badge indicating that user is verified'),color:"error",icon:"compact-circle-check",size:_[g].icon})}),h&&u>0&&(0,n.jsx)(s.az,{flex:"none",marginStart:1,marginTop:.25,children:(0,n.jsx)(s.KJ,{size:_[g].text,children:"+ "+y(m,u,{shortform:!0,shortform_maximum_fraction_digits:0})})})]})}},568539(e,a,t){t.d(a,{A:()=>o}),t(825193);var i,r=t(900565),s=t(321791);let n=(void 0!==i||(i=t(763650)).hash&&"756d8d8edca35eac0a0500359bf60618"!==i.hash&&console.error("The definition of 'useGetCoverPhoto_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),o=e=>{let a=(0,r.A)(n,e),t=(0,s.oW)(),i=a?.entityId?t(a.entityId):null,o=a?.imageCoverUrl??i?.image_cover_url,l=a?.coverImageSpec_216x146??i?.cover_images?.spec_216x146,d=a?.coverImageSpec_222x??i?.cover_images?.spec_222x,c=a?.coverImageSpec_400x300??i?.cover_images?.spec_400x300;return e=>{let t=a?.imageCoverHdUrl||a?.imageCoverUrl;if(t)return t;let i=c?.url??d?.url??l?.url??"";return e&&e>2&&i?i:o||""}}},482682(e,a,t){t.d(a,{$R:()=>n,tK:()=>o,xc:()=>i});let i=(e="")=>(e??"").substring((e??"").lastIndexOf("/")+1),r=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),s=e=>{if(!e)return()=>!0;let a=i(e);return e=>"string"==typeof e?i(e)!==a:i(e.url??"")!==a},n=(e,a,t)=>e?e.filter(s(t)):a?a.filter(s(t)).map(r):[],o=e=>(e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})??{x:0,y:0,width:0,height:0}},48480(e,a,t){t.d(a,{A:()=>g});var i=t(335831),r=t(859471),s=t(836737),n=t(896771),o=t(129625),l=t(376195),d=t(491149),c=t(119795),_=t(208762),u=t(562615);function g({actionButton:e,auxData:a,children:t,collapseButtonElementType:g,collapseByDefault:h=!0,componentType:p,disabled:m,displayViewState:y,expandButtonElementType:f,forceTappableHeader:b,headerHeight:v,headerPaddingX:A,headerPreview:x,heading:P,icon:S,surface:I,viewParameter:w,viewType:E}){(0,r.useEffect)(()=>{(0,i.A)("CollapsibleLayout","/app/www/closeup/CollapsibleLayout.tsx")},[]);let T=(0,d.qJ)(),{isBot:k}=(0,l._8)(),{logContextEvent:O}=(0,o.o)(),{setIsShoppingModuleExpanded:z}=(0,_._G)(),D=(0,r.useRef)(null),[R,B]=(0,r.useState)(void 0),[C,L]=(0,r.useState)(m||!k&&h||null!=y&&[1,2].includes(y));return(0,c.A)(()=>{let e=D.current,a=null;if(e){let t=()=>{let a=e.scrollHeight,t=e.firstElementChild;B(a+(t?parseInt(window.getComputedStyle(t).marginTop,10):0))};t(),(a=new ResizeObserver(t)).observe(e)}return()=>{a?.disconnect()}}),(0,r.useEffect)(()=>{z&&z(!C)},[]),(0,u.jsxs)(s.so,{dataTestId:"collapsible-layout",direction:"column",gap:4*!T,children:[(0,u.jsx)(n.A,{actionButton:e,collapsed:C,disabled:m,displayViewState:y,forceTappableHeader:b,headerHeight:v,headerPaddingX:A,headerPreview:x,heading:P,icon:S,onClick:()=>{L(!C),z&&z(C),O({aux_data:a,component:p,element:C?f:g,event_type:T?101:102,view_parameter:w,view_type:E})},showArrow:!0,surface:I}),T?(0,u.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{transition:"height 600ms cubic-bezier(.25,1,.5,1)"}},"data-test-id":`collapsible-layout-content-${C?"collapsed":"expanded"}`,height:C?"0px":`${R}px`,marginBottom:C?void 0:1,overflow:"hidden",children:(0,u.jsx)(s.az,{ref:D,children:t})}):!C&&(0,u.jsx)(s.az,{children:t})]})}},353103(e,a,t){t.d(a,{$6:()=>d,$e:()=>n,BS:()=>r,CT:()=>c,RG:()=>s,d8:()=>o,k4:()=>l});var i=t(836737);let r=new i.rk(1),s=new i.rk(3),n=2,o=new i.rk(n),l=3,d=new i.rk(100),c=new i.K5([d])},357442(e,a,t){t.d(a,{A:()=>p});var i,r=t(335831),s=t(859471),n=t(106386);t(825193);var o=t(836737),l=t(194807),d=t(900565),c=t(208762),_=t(525356),u=t(411733),g=t(562615);let h=(void 0!==i||(i=t(946436)).hash&&"d9fe632f7481dc91f9007bbd592d44c2"!==i.hash&&console.error("The definition of 'CarouselEllipsis_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function p({carouselData:e,carouselIndex:a,componentType:t,contextLogData:i,enablePagination:p=!1,handleCarouselSwipe:m,isCloseup:y,isEditMode:f,itemsPerPage:b,pinKey:v,viewParameter:A,viewType:x,variant:P}){(0,s.useEffect)(()=>{(0,r.A)("CarouselEllipsis","/app/www/common/Carousel/CarouselEllipsis.tsx")},[]);let S=(0,d.A)(h,v),I=(0,_.A)(S),w=(0,l.A)(S),E=e||w&&{carouselSlots:w.carouselSlots.map(({slotId:e,title:a})=>({id:e,title:a})),entityId:w.carouselId??"",index:w.index},T=(0,n.wA)(),{closeupWithinMasonryEnabled:k,viewportSize:O}=(0,c._G)();if(!E)return null;let{carouselSlots:z,index:D}=E,R="number"==typeof a?a:D,B=z?.length&&b?Math.ceil(z?.length/b):void 0,C="default"===P,L=C?"white":"#555",j=C?"rgba(255, 255, 255, 0.5)":"lightGray",N=(e,a)=>(0,g.jsx)(o.az,{paddingX:1,children:(0,g.jsx)(o.Rp,{accessibilityLabel:(e||{}).title??"",fullWidth:!1,onTap:({event:e})=>{f||void 0===u.p8||(e.preventDefault(),e.stopPropagation(),T((0,u.p8)(S?.entityId??"",a))),void 0!==m&&m(a),I({pinId:S?.entityId??"",currentIndex:R??0,nextIndex:a,carouselData:{carouselSlots:E.carouselSlots?.map(e=>({id:e.id})),entityId:E.entityId},viewParameter:A,viewType:x,componentType:t,contextLogData:i,isEditMode:f})},rounding:"circle",children:(0,g.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:a===R?L:j}},"data-test-id":"ellipsis-size",height:8,rounding:"circle",width:8})})},`${e?.id}-${a}`);return"sm"===O&&(k&&14339!==t&&14394!==t||!k)?null:z&&(0,g.jsx)(o.az,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:y?"end":"center",paddingY:+!!f,children:p?b&&[...Array(B).keys()].map(e=>N(z[e*b],e*b)):[...Array(z.length).keys()].map(e=>N(z[e],e))})}},913805(e,a,t){t.d(a,{A:()=>y});var i,r=t(335831),s=t(859471),n=t(106386);t(825193);var o=t(836737),l=t(194807),d=t(900565),c=t(396901),_=t(357442),u=t(525356),g=t(411733),h=t(562615);let p={cursor:"pointer",padding:"30px 16px",position:"relative",zIndex:1},m=(void 0!==i||(i=t(673483)).hash&&"4b0c4a7a095db0d3cc7f22f3f6c85086"!==i.hash&&console.error("The definition of 'CarouselSliders_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function y({addEllipsis:e,alwaysShowNavigationArrows:a,carouselIndex:t,carouselData:i,ellipsisVariant:y,handleCarouselSwipe:f,height:b,isShowingLastSlide:v,pinKey:A,contextLogData:x,viewParameter:P,viewType:S,componentType:I,isEditMode:w,storyType:E,itemsPerPage:T,forwardNode:k,backNode:O,sliderStyleOverride:z,hideNavigationArrows:D}){(0,s.useEffect)(()=>{(0,r.A)("CarouselSliders","/app/www/common/Carousel/CarouselSliders.tsx")},[]);let R=(0,c.A)(),B=(0,n.wA)(),C=(0,d.A)(m,A),L=(0,u.A)(C),j=(0,l.A)(C),N=i||j&&{carouselSlots:j.carouselSlots.map(({slotId:e,title:a})=>({id:e,title:a})),entityId:j.carouselId??"",index:j.index};if(!N)return null;let M=(e,a)=>B((0,g.p8)(e,a)),{carouselSlots:F,index:V}=N,U=void 0!==t?t:V??0,K=Math.max(0,U-(T??1)),G=Math.min((F??[]).length-1,U+(T??1)),H=0===U,$=v||U===(F??[]).length-1,Y=(e,a)=>{var t;let i=a<U?9315:9316,r="search_3p_ad_only_module"===E;t=C?.entityId??"",w||void 0===M||(e.preventDefault(),e.stopPropagation(),M(t,a)),void 0!==f&&f(a),L({pinId:C?.entityId??"",currentIndex:U,nextIndex:a,carouselData:{carouselSlots:F?.map(({id:e})=>({id:e})),entityId:N.entityId},viewParameter:P,viewType:S,storyType:E,componentType:I,contextLogData:x,isEditMode:w,isEligibleForPdp:C?.isEligibleForPdp??!1,swipeEvent:r?i:108})},J=O||(0,h.jsx)(o.In,{accessibilityLabel:R._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),color:"inverse",icon:"chevron-left"}),W=D?null:k||(0,h.jsx)(o.In,{accessibilityLabel:R._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image'),color:"inverse",icon:"chevron-right"});return(0,h.jsxs)(o.az,{alignItems:"center",bottom:!b,"data-test-id":"carousel-sliders",display:"flex",height:b,justifyContent:D?"center":"between",left:!0,position:"absolute",right:!0,top:!0,children:[!D&&(0,h.jsx)("div",{"data-test-id":"carousel-slider-left",onClick:e=>Y(e,K),role:"presentation",style:{...p,...z,pointerEvents:H?"none":"auto"},children:(0,h.jsx)(o.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:H&&!a?"hidden":"visible",opacity:H&&a?"50%":"100%"}},"data-test-id":"carousel-slider-left-box",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:J})}),e&&(0,h.jsx)(_.A,{carouselData:{carouselSlots:N.carouselSlots?.map(({id:e,title:a})=>({id:e,title:a})),entityId:N.entityId,index:N.index},carouselIndex:t,componentType:I,handleCarouselSwipe:f,itemsPerPage:T,pinKey:C,variant:y||"default",viewParameter:P,viewType:S}),!D&&(0,h.jsx)("div",{"data-test-id":"carousel-slider-right",onClick:e=>Y(e,G),role:"presentation",style:{...p,...z,pointerEvents:$?"none":"auto"},children:(0,h.jsx)(o.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:$&&!a?"hidden":"visible",opacity:$&&a?"50%":"100%"}},"data-test-id":"carousel-slider-right-box",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:W})})]})}},525356(e,a,t){t.d(a,{A:()=>l}),t(825193);var i,r=t(129625),s=t(900565),n=t(581268);let o=(void 0!==i||(i=t(718944)).hash&&"dbfca9820e0aa1302554a0137a270b16"!==i.hash&&console.error("The definition of 'useLogSwipe_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function l(e){let{logContextEvent:a}=(0,r.o)(),t=(0,s.A)(o,e),i=(0,n.A)(t);return function({pinId:e,currentIndex:t,nextIndex:r,carouselData:s,viewParameter:n,viewType:o,storyType:l,componentType:d,contextLogData:c,isEditMode:_,swipeEvent:u}){if(!_){let{carouselSlots:_,entityId:g}=s,{objectIdStr:h,...p}=c??{};a({event_type:u??108,object_id_str:e??h,component:d,view_type:o,view_parameter:n,event_data:{pinCarouselSlotEventData:{carouselSlotId:_?.[t]&&Number(_[t].id),carouselDataId:Number(g),carouselSlotIndex:t,toCarouselSlotIndex:r}},aux_data:{story_type:l,...p,...i()}})}}}},886583(e,a,t){t.d(a,{Ah:()=>H,Pc:()=>q,FE:()=>W,K$:()=>Q,cC:()=>X});var i=t(335831),r=t(859471),s=t(106386),n=t(679902),o=t(836737),l=t(129625),d=t(301704),c=t(47998),_=t(396901),u=t(538346),g=t(410899),h=t(528989),p=t(376195),m=t(13324),y=t(508765),f=t(295641),b=t(500569),v=t(894621),A=t(846515),x=t(353103),P=t(119795),S=t(562615);function I({children:e,headingLevel:a,textWeight:t="normal",size:s}){(0,r.useEffect)(()=>{(0,i.A)("BoardHeader","/app/www/common/PinBetterSave/BoardHeader.tsx")},[]);let n="100"===s?"200":s,l="500"===s||"600"===s?"400":s;return(0,S.jsx)(o._Y,{accessibilityLevel:a,size:n,children:(0,S.jsx)(o.KJ,{inline:!0,size:l,weight:t,children:e})})}function w({boardPickerSuggestedBoards:e,clientTrackingParams:a,headingLevel:t=3,imageSignature:s,index:n,item:d,pinId:c,saveSessionId:_,surfaceOriginViewParameter:u,useLegoLayout:g}){(0,r.useEffect)(()=>{(0,i.A)("BoardHeader","/app/www/common/PinBetterSave/BoardHeader.tsx")},[]);let{logContextEvent:h}=(0,l.o)();return(0,P.A)(()=>{"shortlist"===d.category&&h({aux_data:{board_picker_surface_origin:u,board_picker_suggested_boards:e,image_signature:s,pin_id:c,save_session_id:_},event_type:13,clientTrackingParams:a,view_type:21,view_parameter:3988})}),(0,S.jsx)(o.az,{marginTop:n>0?2:1,paddingX:g?4:3,paddingY:1,children:(0,S.jsx)(I,{headingLevel:t,size:g?"100":"200",children:d.title})})}var E=t(650359),T=t(900664);function k({accessibilityLabelText:e,board:a,boardPickerSuggestedBoards:t,buttonText:s,clientTrackingParams:n,displayAlreadySavedMsg:d,imageSignature:c,isSectionOpen:u,onButtonClick:g,onClick:h,pinId:p,saveSessionId:m,shouldOpenSections:y=!0,showSaveToProfile:f,showFlyoutSaveButton:b=!0,surfaceOriginViewParameter:v,useLegoLayout:A}){(0,r.useEffect)(()=>{(0,i.A)("BoardRow","/app/www/common/PinBetterSave/BoardRow.tsx")},[]);let{logContextEvent:x}=(0,l.o)(),P=(0,_.A)(),[I,w]=(0,r.useState)(!1),k=(0,r.useRef)(null),O=!!a.section_count&&a.section_count>0,z=O?"boardWithSection":"boardWithoutSection",{images:D,image_cover_url:R}=a||{},B=!R?.includes("custom")&&D&&D["75x75"]&&D["75x75"][D["75x75"].length-1].url||R;(0,r.useEffect)(()=>{"boardless"===a.type&&x({aux_data:{board_picker_surface_origin:v,board_picker_suggested_boards:t,image_signature:c,pin_id:p,save_session_id:m},clientTrackingParams:n,event_type:13,view_parameter:3990,view_type:21})},[]),(0,r.useEffect)(()=>{k.current&&u&&O&&k.current.focus()},[k,u,O]);let C=()=>{h(a)};return(0,S.jsx)(o.az,{"data-test-id":z,role:"listitem",children:(0,S.jsx)(o.Rp,{ref:k,dataTestId:u&&O?"board-row-input":void 0,onBlur:()=>{w(!1)},onFocus:()=>{w(!0)},onMouseEnter:()=>{w(!0)},onMouseLeave:()=>{w(!1)},onTap:C,children:(0,S.jsxs)(o.az,{alignItems:"center",color:I?"secondary":"default","data-test-id":`board-row-${a.name||""}`,display:"flex",height:A?64:52,marginBottom:+!A,marginEnd:A?2:3,marginStart:A?2:3,marginTop:+!A,padding:2*!!A,rounding:300,children:[(0,S.jsxs)(o.az,{"aria-hidden":"true",flex:"none",height:A?48:36,marginBottom:+!A,marginEnd:A?2:3,marginStart:2*!A,marginTop:+!A,overflow:"hidden",width:A?48:36,children:[f&&"boardless"===a.type&&(0,S.jsx)(o.n1,{height:"100%",rounding:200,width:"100%",children:(0,S.jsx)(o.az,{alignItems:"center",color:I?"default":"secondary",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:(0,S.jsx)(o.az,{children:(0,S.jsx)(o.In,{accessibilityLabel:"",color:"default",icon:"clock-history",size:24})})})}),B&&!y&&(0,S.jsx)(o.n1,{height:A?48:36,rounding:200,wash:!0,width:A?48:36,children:(0,S.jsx)(o._V,{alt:"",fit:"cover",naturalHeight:A?48:36,naturalWidth:A?48:36,src:B})}),B&&y?(0,S.jsx)(o.n1,{height:A?48:36,rounding:200,wash:!0,width:A?48:36,children:(0,S.jsx)(o._V,{alt:"",fit:"cover",naturalHeight:A?48:36,naturalWidth:A?48:36,src:B})}):(0,S.jsx)(o.n1,{height:A?48:36,rounding:200,width:A?48:36,children:(0,S.jsx)(o.az,{color:y?"secondary":"transparent",height:"100%",width:"100%"})})]}),(0,S.jsxs)(o.az,{flex:"grow",marginStart:+!A,overflow:"hidden",paddingY:1,children:[(0,S.jsx)(o.KJ,{lineClamp:1,overflow:"breakAll",weight:y||!y?"bold":"normal",children:a.name}),d&&(0,S.jsx)(o.az,{marginTop:1,children:(0,S.jsx)(o.KJ,{align:"start",color:"default",size:"100",children:P._('Saved here already', 'BoardFlyout.AlreadySaved.Message', 'Text that indicates if a pin has been already saved to a board')})})]}),(0,S.jsxs)(o.so,{alignItems:"center",gap:2,children:[(0===a.section_count||!y)&&b&&(0,S.jsx)(o.az,{"data-test-id":"board-row-save-button-container",flex:"none",opacity:100*!!I,children:(0,S.jsx)(o.$n,{accessibilityLabel:e||P._('save', 'boardRow.saveButton', 'Default accessibility label for the board row save button'),color:"primary","data-test-id":"board-row-save-button",onClick:({event:e})=>{C(),g&&g(),e.stopPropagation()},tabIndex:-1,text:s||P._('Save', 'save button', 'save button')})}),a&&!u?(0,S.jsx)(o.az,{marginEnd:2*!A,children:(0,S.jsx)(T.A,{board:a,showCollaborativeIcon:!!a.is_collaborative,showPrivateIcon:a.privacy===E.A.BoardPrivacy.SECRET,showProtectedIcon:a.privacy===E.A.BoardPrivacy.PROTECTED,showSectionsIcon:O&&y,useLegoLayout:A})}):null]})]})})})}var O=t(32712),z=t(663445);function D(e,a,t){var i;return(a="symbol"==typeof(i=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,a||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?i:i+"")in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}class R extends r.Component{constructor(...e){super(...e),D(this,"state",{hovered:!1}),D(this,"handleMouseEnter",()=>{this.setState({hovered:!0})}),D(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),D(this,"handleTouch",()=>{let{board:e,onClick:a,section:t}=this.props;a(t,e)}),D(this,"handleButtonClick",({event:e})=>{let{onButtonClick:a}=this.props;this.handleTouch(),a&&a(),e.stopPropagation()}),D(this,"tapAreaRef",(0,r.createRef)())}focus(){let e=this.tapAreaRef.current;e&&e.focus()}render(){let{hovered:e}=this.state,{buttonText:a,section:t,showSectionSaveButton:i,useLegoLayout:r}=this.props;return(0,S.jsx)(o.Rp,{ref:this.tapAreaRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:this.handleTouch,children:(0,S.jsxs)(o.az,{alignItems:"center",color:e?"secondary":"default",dangerouslySetInlineStyle:{__style:r?{}:{marginLeft:53,marginRight:11}},"data-test-id":`section-row-${t.title||""}`,display:"flex",height:r?64:52,marginEnd:2*!!r,marginStart:2*!!r,marginTop:+!r,padding:2*!!r,role:"listitem",rounding:300,children:[r&&!!t.preview_pins?.length&&(0,S.jsx)(z.A,{image_url:t.preview_pins[0].image_square_url??"",naturalHeight:t.preview_pins[0].image_square_size_pixels?.height??1,naturalWidth:t.preview_pins[0].image_square_size_pixels?.width??1}),(0,S.jsx)(o.az,{flex:"grow",marginStart:4*!r,paddingY:1,children:(0,S.jsx)(o.KJ,{lineClamp:1,weight:r?"bold":"normal",children:t.title})}),e&&i&&(0,S.jsx)(o.az,{flex:"none",marginEnd:2*!r,children:(0,S.jsx)(o.$n,{accessibilityLabel:"save button",color:"primary",onClick:this.handleButtonClick,text:a||this.props.i18n._('Save', 'save button', 'save button')})})]})})}componentDidMount(){(0,i.A)("SectionRow","/app/www/common/PinBetterSave/SectionRow.tsx")}}function B(e){(0,r.useEffect)(()=>{(0,i.A)("SectionRow","/app/www/common/PinBetterSave/SectionRow.tsx")},[]);let a=(0,_.A)();return(0,S.jsx)(R,{...e,i18n:a})}function C(e){(0,r.useEffect)(()=>{(0,i.A)("BoardSections","/app/www/common/PinBetterSave/BoardSections.tsx")},[]);let a=(0,_.A)(),{board:t,buttonText:s,onClick:n,onButtonClick:l,showSectionSaveButton:d,useLegoLayout:u}=e,g=(0,O.A)(),h=(0,c.A)(),p=(0,v.H7)(h,g),m=(0,y.A)({name:"BoardSectionsRepinResource",options:{board_id:t.id,orbac_subject_id:p},noCache:!0}),f=m&&m.data||[];return(0,S.jsxs)(o.az,{children:[!m.isLoaded&&(0,S.jsx)(o.so,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,S.jsx)(o.y$,{accessibilityLabel:a._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})}),m.isLoaded&&(0,S.jsxs)(o.az,{children:[u&&(0,S.jsx)(o.az,{marginStart:4,marginTop:2,paddingY:1,children:(0,S.jsx)(I,{headingLevel:3,size:"200",children:a._('Section', 'PinBetterSave.BoardFlyout.SectionPlaceholderText', 'section list title')})}),f.map(e=>(0,S.jsx)(B,{board:t,buttonText:s,onButtonClick:l,onClick:n,section:e,showSectionSaveButton:d,useLegoLayout:u},e.id))]})]})}function L({onClick:e,title:a,showIcon:t}){(0,r.useEffect)(()=>{(0,i.A)("BoardSuggestionRow","/app/www/common/PinBetterSave/BoardSuggestionRow.tsx")},[]);let s=(0,_.A)(),[n,l]=(0,r.useState)(!1);return(0,S.jsx)(o.Rp,{dataTestId:"board-suggestion-row-button",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onTap:()=>{e({title:a})},children:(0,S.jsxs)(o.az,{alignItems:"center",color:n?"secondary":"default",display:"flex",height:t?64:52,marginBottom:1,marginEnd:3,marginStart:3,role:"listitem",rounding:300,children:[(0,S.jsx)(o.az,{flex:"none",height:t?48:36,marginBottom:1,marginEnd:3,marginStart:t?1:2,marginTop:1,overflow:"hidden",rounding:t?200:100,width:t?48:36,children:(0,S.jsx)(o.az,{alignItems:t?"center":void 0,color:"secondary",display:t?"flex":void 0,height:"100%",justifyContent:t?"center":void 0,width:"100%",children:t&&(0,S.jsx)(o.In,{accessibilityLabel:"",color:"default",icon:"plus",size:20})})}),(0,S.jsx)(o.az,{flex:"grow",paddingY:1,children:(0,S.jsx)(o.KJ,{lineClamp:1,weight:"bold",children:a})}),n&&(0,S.jsx)(o.az,{marginEnd:2,children:(0,S.jsx)(o.$n,{accessibilityLabel:"create button",color:"primary",text:s._('Create', 'create button to create a new board', 'create button to create a new board')})})]})})}function j(e){(0,r.useEffect)(()=>{(0,i.A)("BoardSuggestions","/app/www/common/PinBetterSave/BoardSuggestions.tsx")},[]);let a=(0,_.A)(),{suggestionsResource:t,onClick:s,pinBuilderSuggestions:n,inWebRepinFlowExp:l}=e,d=n||t&&t.data||[],c=(0,S.jsxs)(r.Fragment,{children:[l&&(0,S.jsx)(o.az,{marginStart:4,marginTop:2,paddingY:1,children:(0,S.jsx)(I,{headingLevel:3,size:"100",children:a._('Suggestions', 'PinBetterSave.BoardFlyout.SectionPlaceholderText', 'section list title')})}),d.map((e,a)=>(0,S.jsx)(L,{onClick:s,showIcon:l,title:e.title},a))]});return(0,S.jsx)(r.Fragment,{children:d?c:(0,S.jsx)(o.so,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,S.jsx)(o.y$,{accessibilityLabel:a._('loading board suggestions', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})})})}function N({isBoardCreate:e,onCreateBoardClick:a,useLegoLayout:t}){(0,r.useEffect)(()=>{(0,i.A)("CreateBoardButton","/app/www/common/PinBetterSave/CreateBoardButton.tsx")},[]);let s=(0,_.A)(),[n,l]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1);return(0,S.jsx)(o.az,{"data-test-id":"create-board",display:"flex",height:"100%",rounding:200,children:(0,S.jsx)(o.Rp,{dataTestId:e?"create-board-button":"create-section-button",onBlur:()=>c(!1),onFocus:()=>c(!0),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onTap:a,rounding:200,children:(0,S.jsxs)(o.az,{alignItems:"center",color:n?"secondary":"default",dangerouslySetInlineStyle:{__style:{...d?{border:"2px solid var(--sema-color-border-focus-outer-default)"}:{}}},display:"flex",height:"100%",padding:t?4:2,width:"100%",children:[(0,S.jsx)(o.az,{color:t?"secondary":"transparent",dangerouslySetInlineStyle:{__style:t?{padding:"14px"}:{}},marginEnd:t?2:5,marginStart:4*!t,rounding:200*!!t,children:(0,S.jsx)(o.In,{accessibilityLabel:"",color:t?"default":"error",icon:t?"plus":"circle-plus",size:t?20:28})}),e?(0,S.jsx)(o.KJ,{align:"center",lineClamp:1,weight:"bold",children:s._('Create board', ' - ', ' -- ')}):(0,S.jsx)(o.KJ,{align:"center",lineClamp:1,weight:"bold",children:s._('Create section', ' - ', ' -- ')})]})})})}D(R,"defaultProps",{showSectionSaveButton:!0});var M=t(543291);function F(e){(0,r.useEffect)(()=>{(0,i.A)("FocusableSearchField","/app/www/save/board/FocusableSearchField.tsx")},[]);let{accessibilityClearButtonLabel:a,accessibilityLabel:t,focused:s,id:n,onBlur:l,onChange:d,onFocus:c,placeholder:_,value:u,size:g="lg"}=e,h=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(s){let e=h.current;window.requestAnimationFrame(()=>{let a=e&&e.querySelector("input");a instanceof HTMLInputElement&&a.focus()})}},[s]),(0,S.jsx)(o.az,{ref:h,children:(0,S.jsx)(o.Lw,{accessibilityClearButtonLabel:a,accessibilityLabel:t,id:n,onBlur:l,onChange:d,onFocus:c,placeholder:_,size:g,value:u})})}function V(e,a,t){var i;return(a="symbol"==typeof(i=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,a||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?i:i+"")in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}let U="allBoards",K="shortlist",G=`
.BoardsSlideLeft {
  animation: boardFlyoutSlideLeft 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

.BoardsSlideRight {
  animation: boardFlyoutSlideRight 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

.BoardsSlideLeftRTL {
  animation: boardFlyoutSlideLeftRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

.BoardsSlideRightRTL {
  animation: boardFlyoutSlideRightRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

@keyframes boardFlyoutSlideLeft {
  from {
    margin-left: 0%;
  }

  to {
    margin-left: -100%;
  }
}

@keyframes boardFlyoutSlideRight {
  from {
    margin-left: -100%;
  }

  to {
    margin-left: 0%;
  }
}

@keyframes boardFlyoutSlideLeftRTL {
  from {
    margin-right: -100%;
  }

  to {
    margin-right: 0%;
  }
}

@keyframes boardFlyoutSlideRightRTL {
  from {
    margin-right: 0%;
  }

  to {
    margin-right: -100%;
  }
}
`;class H extends r.PureComponent{constructor(...e){super(...e),V(this,"state",{boardSuggestions:[],isSectionOpen:null,selectedBoardId:"",selectedBoardCategory:"",searchQuery:"",searchBoxFocused:!0,saveSessionId:(0,n.A)()}),V(this,"handleScroll",()=>{let{_container:e}=this,{logContextEvent:a}=this.props;a({event_type:110,component:13282,view_type:21})}),V(this,"refHandler",e=>{this.removeEventListeners(),e&&e.addEventListener("scroll",this.handleScroll,{once:!0}),this._container=e}),V(this,"getItems",e=>{let{boardResource:a,showSaveToProfile:t,checkExperiment:i}=this.props;if(!a?.data)return[];let{all_boards:r}=a.data,s=r.length>=3,n=t&&r.length&&i("web_curation_board_picker_reorder_profile_option").anyEnabled,o=[{boardId:"",image_cover_url:"",is_collaborative:!1,isOpen:!1,name:this.props.i18n._('Profile', 'pinBetterSave.initialSelection.boardlessPinsOption', 'Option to save to profile without a board.'),privacy:"public",section_count:0,type:"boardless",url:"/me/"}],l=this.getAllBoards().map((e,a)=>this.mapBoards(e,U,a)),d=this.getShortlist().map((e,a)=>this.mapBoards(e,K,a)),{searchQuery:c}=this.state;return c.length>=f.A?[...(0,M._)(l,c)]:[...s||!t||n?[]:[{type:"header",title:this.props.i18n._('Quick save and organize later', 'BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.boardlessPinsTitle', 'Header saving to profile')},...o],...s&&s&&t&&!n?o:[],...s&&d?.length?[{category:K,type:"header",title:e?this.props.i18n._('Top choices', 'PinBetterSave.BoardFlyout.TopChoicesSectionTitle', 'Header for top suggestions in board picker'):this.props.i18n._('Top board suggestions', 'Header for top suggesions in board picker', 'Header for top suggesions in board picker')},...d]:[],...r.length>0?[{type:"header",title:!s&&t?this.props.i18n._('Save to board', 'BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.saveToBoardTitle', 'Header for boards when there are less than 3 boards in board picker'):this.props.i18n._('All boards', 'Header for all boards in board picker', 'Header for all boards in board picker')},...l,...n?o:[]]:[]]}),V(this,"mapBoards",(e,a,t)=>{let{selectedBoardId:i,selectedBoardCategory:r}=this.state,s=e.id===i&&a===r;return{...e,category:a,isOpen:s,gridIndex:t}}),V(this,"handleBack",()=>{let{setBoardWithSection:e}=this.props;this.setState({isSectionOpen:!1,selectedBoardId:"",selectedBoardCategory:""}),e&&e(null)}),V(this,"handleSectionClick",(e,a)=>{let{clientTrackingParams:t,imageSignature:i,logContextEvent:r,onItemChosen:s,pinId:n,surfaceOriginViewParameter:o,surface:l}=this.props,{saveSessionId:d,searchQuery:c}=this.state;r({event_type:101,clientTrackingParams:t,component:13282,element:36,object_id_str:a.id,view_type:91,view_parameter:3133,aux_data:{board_id:a.id,board_picker_surface_origin:o,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:a.gridIndex,image_signature:i,is_profile_save:!1,pin_id:n,save_session_id:d,search_query:c,section_id:e.id,source:l}}),s({boardId:a.id,url:e.slug?`${a.url}${e.slug}/`:a.url,sectionId:e.id,title:e.title||"",type:e.type,imageCoverUrl:a.image_cover_url,ownerUsername:a.owner&&a.owner.username||"",boardPickerSuggestedBoards:JSON.stringify(this.getTopChoiceBoardsAuxData())})}),V(this,"getPinBuilderSuggestions",async()=>{let{clientTrackingParams:e,imageSignature:a,logContextEvent:t,pinId:i,surfaceOriginViewParameter:r}=this.props,{saveSessionId:s}=this.state;if(i){let n=await (0,d.A)({url:"/v3/pins/{pin}/board_title_suggestions/",urlParams:{pin:i}});if(n.resource_response.data){let o=n.resource_response.data.map(e=>({title:e.title??"",metadata:JSON.parse(e?.metadata??"{}")}))||[];this.setState({boardSuggestions:o}),t({aux_data:{board_picker_surface_origin:r,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),image_signature:a,pin_id:i,save_session_id:s},component:13282,clientTrackingParams:e,event_type:13,view_parameter:3992,view_type:21})}}}),V(this,"getAllBoards",()=>{let{boardResource:e,advertiser_id:a}=this.props;return(e?.data?.all_boards||[]).filter(e=>!a||"secret"!==e.privacy)}),V(this,"getShortlist",()=>{let{suggestedBoardsShortListResource:e,displayShortlistMostRecentBoard:a,boardResource:t}=this.props,i=t?.data?.boards_shortlist||[];return a?i:e?.data||[]}),V(this,"getBoards",e=>e===U?this.getAllBoards():e===K?this.getShortlist():[]),V(this,"getSuggestedBoardsIds",()=>{let{showSaveToProfile:e}=this.props,a=(e?this.getShortlist().slice(0,2):this.getShortlist()).map(e=>e.id);return e&&a.unshift("PROFILE_PINS"),a}),V(this,"getTopChoiceBoardsAuxData",()=>{let{showSaveToProfile:e}=this.props;return(e?this.getShortlist().slice(0,2):[...this.getShortlist()]).map(e=>({board_title_id:String(e.id),board_title_kind:JSON.parse(e.recommendation_reason??"{}").reason,board_title:String(e.name),board_title_score:JSON.parse(e.recommendation_reason??"{}").score}))}),V(this,"getBoardTitleSuggestionsAuxData",()=>{let{boardSuggestions:e}=this.state;return e.map(e=>({board_title_id:String(e.metadata.value),board_title_kind:String(e.metadata.kind),board_title:String(e.title),board_title_score:String(e.metadata.confidence)}))}),V(this,"handleBoardWithSectionsClick",e=>{let{clientTrackingParams:a,logContextEvent:t,pinId:i,setBoardWithSection:r,surfaceOriginViewParameter:s}=this.props,{saveSessionId:n,searchQuery:o,selectedBoardId:l,selectedBoardCategory:d}=this.state,c=this.getBoards(e.category).find(({id:a})=>a===e.id),_=l===e.id&&d===e.category;t({event_type:13,clientTrackingParams:a,component:13282,element:36,object_id_str:e.id,view_type:275,aux_data:{board_id:e.id,board_picker_surface_origin:s,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,is_profile_save:!1,pin_id:i,save_session_id:n,search_query:o}}),c&&r&&r(c),this.setState({isSectionOpen:!0,selectedBoardId:_?"":e.id,selectedBoardCategory:_?"":e.category})}),V(this,"handleBoardClick",({board:e,toggleSections:a})=>{let{clientTrackingParams:t,imageSignature:i,logContextEvent:r,onItemChosen:s,pinId:n,surfaceOriginViewParameter:o,surface:l}=this.props,{saveSessionId:d,searchQuery:c}=this.state;this.setState({searchBoxFocused:!1}),a?(r({event_type:101,component:13282,element:36,clientTrackingParams:t,object_id_str:e.id,view_type:91,view_parameter:e.category===K?3988:3989,aux_data:{board_id:e.id,board_component:e.category===K?3988:3989,board_picker_surface_origin:o,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,image_signature:i,is_profile_save:!1,pin_id:n,save_session_id:d,search_query:c}}),this.handleBoardWithSectionsClick({category:e.category,gridIndex:e.gridIndex,id:e.id})):(r("boardless"===e.type?{event_type:101,clientTrackingParams:t,component:13282,element:36,object_id_str:e.id,view_type:91,view_parameter:3990,aux_data:{board_id:e.id,board_component:3990,board_picker_surface_origin:o,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,image_signature:i,is_profile_save:!0,pin_id:n,save_session_id:d,search_query:c}}:{event_type:101,clientTrackingParams:t,component:13282,element:36,object_id_str:e.id,view_type:91,view_parameter:e.category===K?3988:3989,aux_data:{board_id:e.id,board_component:e.category===K?3988:3989,board_picker_surface_origin:o,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,image_signature:i,is_profile_save:"boardless"===e.type,pin_id:n,save_session_id:d,search_query:c,source:l}}),s({boardId:e.id,url:e.url,title:e.name||"",type:e.type,imageCoverUrl:e.image_cover_url,privacy:e.privacy,boardPickerSuggestedBoards:JSON.stringify(this.getTopChoiceBoardsAuxData())}))}),V(this,"handleSearchQueryUpdate",e=>{this.setState(a=>({...a,searchQuery:e}))}),V(this,"handleCreateBoardClick",e=>{let{clientTrackingParams:a,imageSignature:t,logContextEvent:i,onBoardCreate:r,pinId:s,surfaceOriginViewParameter:n,surface:o}=this.props,{saveSessionId:l,searchQuery:d}=this.state;i({event_type:101,clientTrackingParams:a,component:13282,element:249,view_type:91,view_parameter:e?87:3132,aux_data:{board_component:e?87:3132,board_picker_surface_origin:n,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),image_signature:t,pin_id:s,save_session_id:l,search_query:d,source:o??A.A.BOARD_PICKER}}),r({title:d})}),V(this,"handleBoardSuggestionClick",e=>{let{clientTrackingParams:a,imageSignature:t,logContextEvent:i,onBoardCreate:r,pinId:s,surfaceOriginViewParameter:n}=this.props,{saveSessionId:o}=this.state;i({event_type:101,clientTrackingParams:a,component:13282,element:23,view_type:91,view_parameter:3992,aux_data:{board_picker_surface_origin:n,board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),image_signature:t,pin_id:s,save_session_id:o}}),r(e)})}componentWillUnmount(){this.removeEventListeners()}componentDidMount(){let{clientTrackingParams:e,logContextEvent:a,imageSignature:t,pinId:i,setBoardWithSection:r,surfaceOriginViewParameter:s}=this.props,{saveSessionId:n}=this.state;r&&r(null),a({event_type:13,component:13282,clientTrackingParams:e,element:10960,aux_data:{board_picker_surface_origin:s,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),image_signature:t,pin_id:i,save_session_id:n}})}componentDidUpdate(e){let{saveSessionId:a}=this.state,{clientTrackingParams:t}=this.props;!e.suggestedBoardsShortListResource?.isLoaded&&this.props.suggestedBoardsShortListResource?.isLoaded&&this.getSuggestedBoardsIds().length>0&&this.props.logContextEvent({event_type:13,clientTrackingParams:t,component:13282,element:1001,aux_data:{pin_id:this.props.pinId,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),save_session_id:a}})}removeEventListeners(){let{_container:e}=this;e&&e.removeEventListener("scroll",this.handleScroll)}render(){let{accessibilityLabelText:e,boardResource:a,buttonText:t,changeBoardModal:i,clientTrackingParams:s,customItem:n,headerText:l,hideAlreadySavedMsg:d,imageSignature:c,onButtonClick:_,paneHeight:h,paneWidth:p,pinAlreadySavedBoard:m,pinId:y,requestContext:f,sectionText:b,showSaveToProfile:v,showSearchField:A,showCreateBoardButton:P,showFlyoutSaveButton:E,showSections:T,showSectionSaveButton:O,suggestedBoardsShortListResource:z,surfaceOriginViewParameter:D,useStoryboardStyle:R,useLegoLayout:B,boardFlyoutStyle:L}=this.props,{boardSuggestions:M,isSectionOpen:V,saveSessionId:K,searchBoxFocused:H,searchQuery:$}=this.state;if(!a)return null;let{isLoaded:Y,error:J}=a,W=[];(Y&&!J||z&&z.data&&!z.error)&&(W=this.getItems(!!B));let q=W.filter(e=>e&&e.category===U).length,X=q>3;X||0!==M.length||this.getPinBuilderSuggestions();let Q=R?200:322,Z=R?214:334,ee=h||290,ea=JSON.stringify(this.getTopChoiceBoardsAuxData()),et=f.isRTL?"BoardsSlideRightRTL":"BoardsSlideLeft",ei="";null!==V&&(ei=f.isRTL?"BoardsSlideLeftRTL":"BoardsSlideRight");let er=e=>(0,S.jsxs)(r.Fragment,{children:[!B&&(0,S.jsx)(o.cG,{}),(0,S.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{borderBottomRightRadius:8,borderBottomLeftRadius:8}},elevation:B&&q>=3&&W.length>1?"shadowFloating":void 0,height:B?80:52,overflow:"hidden",children:(0,S.jsx)(N,{isBoardCreate:e,onCreateBoardClick:({event:a})=>{a.stopPropagation(),this.handleCreateBoardClick(e)},useLegoLayout:B})})]});return(0,S.jsxs)(o.az,{color:"default","data-test-id":"board-picker-flyout",height:R||i?"100%":B?498:439,overflow:"hidden",rounding:200,width:B&&!i?"100%":p,zIndex:x.RG,children:[(0,S.jsx)(u.A,{unsafeCSS:G}),Y?null:(0,S.jsx)(o.so,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:B&&!i?360:p,children:(0,S.jsx)(o.y$,{accessibilityLabel:this.props.i18n._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})}),(0,S.jsx)(o.so,{direction:"row",children:Y&&(0,S.jsx)("div",{className:V?et:ei,children:(0,S.jsx)(o.az,{position:"relative",children:(0,S.jsxs)(o.az,{direction:"row",display:"flex",width:B&&!i?720:(p??0)*2,zIndex:new o.rk(0),children:[(0,S.jsxs)(o.so,{alignItems:"stretch",direction:"column",justifyContent:"start",width:B&&!i?360:p,children:[B&&!i&&(0,S.jsx)(o.so,{alignItems:"center",height:64,justifyContent:"center",children:(0,S.jsx)(I,{headingLevel:2,size:"300",textWeight:"bold",children:l||(v?this.props.i18n._('Save', 'PinBetterSave.BoardFlyout.SavePlaceholder', 'flyout header text to indicate save options'):this.props.i18n._('Save to board', 'PinBetterSave.BoardFlyout.SaveToBoardPlaceholder', 'flyout header text'))})}),(A??!i)&&(0,S.jsxs)(o.az,{"data-test-id":"search-boards-field-container",height:B?64:"auto",padding:L?.searchFieldStyle?.padding??3*!B,paddingX:L?.searchFieldStyle?.paddingX??(B?4:3),paddingY:L?.searchFieldStyle?.paddingY,children:[(0,S.jsx)(F,{accessibilityClearButtonLabel:this.props.i18n._('Clear board search text', 'dropdown.searchField.clearButtonLabel', 'clear button label for search field in board picker'),accessibilityLabel:this.props.i18n._('Search through your boards', 'search bar placeholder text', 'search bar placeholder text'),focused:H,id:"pickerSearchField",onChange:({value:e})=>this.handleSearchQueryUpdate(e),placeholder:this.props.i18n._('Search', 'search bar placeholder text', 'search bar placeholder text'),size:L?.searchFieldStyle?.size??"lg",value:$}),(0,S.jsx)(o.az,{"aria-live":"assertive",display:"visuallyHidden",children:q?(0,g.$)(this.props.i18n.ngettext('Found a board', 'Found {{boardCount}} boards', q, 'PinBetterSave.BoardFlyout.BoardFoundsDropdown', 'Text to indicate how many boards were found in the board autocomplete. boardCount: the number of boards created by the user.'),{boardCount:q.toString()}):this.props.i18n._('No boards found', 'PinBetterSave.BoardFlyout.noBoardFoundsDropdown', 'Text to indicate no boards were found in the board autocomplete')})]}),(0,S.jsxs)(o.az,{ref:this.refHandler,maxHeight:B?ee:Q,minHeight:B?290:Q,overflow:"scrollY",role:"list",children:[z&&!z.isLoaded?(0,S.jsx)(o.az,{"data-test-id":"suggestedBoardsContainer",children:(0,S.jsx)(o.so,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:128.5,width:"100%",children:(0,S.jsx)(o.y$,{accessibilityLabel:this.props.i18n._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})})}):null,n,W.map((a,i)=>"header"===a.type?(0,S.jsx)(w,{boardPickerSuggestedBoards:ea,clientTrackingParams:s,headingLevel:2,imageSignature:c,index:i,item:a,pinId:y,saveSessionId:K,surfaceOriginViewParameter:D,useLegoLayout:B},`${a.title}`):(0,S.jsx)(o.az,{children:(0,S.jsx)(k,{accessibilityLabelText:e,board:a,boardPickerSuggestedBoards:ea,buttonText:t,clientTrackingParams:s,displayAlreadySavedMsg:m&&m.id===a.id&&!d,imageSignature:c,onButtonClick:_,onClick:e=>{this.handleBoardClick({board:e,toggleSections:T&&!!e.section_count})},pinId:y,saveSessionId:K,shouldOpenSections:T,showFlyoutSaveButton:E,showSaveToProfile:v,surfaceOriginViewParameter:D,useLegoLayout:B})},`${a.category}-${a.id}`)),!X&&M.length>0&&(0,S.jsx)(j,{inWebRepinFlowExp:B,onClick:this.handleBoardSuggestionClick,pinBuilderSuggestions:M})]}),P&&er(!0)]}),V&&(0,S.jsxs)(o.az,{direction:"column",display:"flex",marginBottom:2*!!B,width:B&&!i?360:p,children:[(0,S.jsxs)(o.so,{alignContent:"center",alignItems:"center",direction:"row",justifyContent:"center",children:[(0,S.jsx)(o.VP,{span:2,children:(0,S.jsx)(o.az,{alignContent:"center",alignItems:"center",display:"flex",justifyContent:"start",marginStart:3,children:(0,S.jsx)(o.K0,{accessibilityLabel:"Back button",icon:"chevron-left",iconColor:"default",onClick:this.handleBack,size:"sm"})})}),(0,S.jsx)(o.VP,{span:8,children:(0,S.jsx)(o.so,{alignItems:"center",height:B?64:52,justifyContent:"center",children:(0,S.jsx)(I,{headingLevel:2,size:"300",textWeight:"bold",children:b||(B?this.props.i18n._('Save Pin to', 'PinBetterSave.BoardFlyout.SectionHeader', 'Header for section header'):this.props.i18n._('Choose section', 'Header for section header', 'Header for section header'))})})}),(0,S.jsx)(o.VP,{span:2,children:(0,S.jsx)(o.az,{})})]}),!B&&(0,S.jsx)(o.cG,{}),(0,S.jsx)(o.az,{maxHeight:B?ee:Z,minHeight:B?354:Z,overflow:"scrollY",children:W?(0,S.jsx)(r.Fragment,{children:W&&W.map(e=>"header"===e.type?null:(0,S.jsx)(o.az,{role:"list",children:e.isOpen&&(0,S.jsxs)(r.Fragment,{children:[B&&(0,S.jsx)(o.az,{marginStart:4,marginTop:2,paddingY:1,children:(0,S.jsx)(I,{headingLevel:3,size:"100",children:this.props.i18n._('Board', 'PinBetterSave.BoardFlyout.BoardPickerTitle', 'board title on section picker')})}),(0,S.jsx)(k,{board:e,boardPickerSuggestedBoards:ea,buttonText:t,displayAlreadySavedMsg:m&&m.id===e.id,isSectionOpen:!0,onButtonClick:_,onClick:e=>{this.handleBoardClick({board:e,toggleSections:!1})},saveSessionId:K,shouldOpenSections:!1,showFlyoutSaveButton:E,useLegoLayout:B}),(0,S.jsx)(C,{board:e,buttonText:t,onButtonClick:_,onClick:this.handleSectionClick,showSectionSaveButton:O,useLegoLayout:B})]})},`${e.category}-${e.id}`))}):null}),P&&!i&&er(!1)]})]})})})})]})}}function $(e){let{logContextEvent:a}=(0,l.o)(),t=(0,_.A)(),{checkExperiment:i}=(0,h.A)();return(0,S.jsx)(H,{...e,checkExperiment:i,i18n:t,logContextEvent:a,requestContext:(0,p._8)()})}function Y(e,a,t){let{advertiser:i}=e,r={};if(t&&t.user&&t.user.username&&t.id!==(a.isAuth?a.id:void 0)&&(r.orbacActingAs=t,r.username=t.user.username),a&&i){let t=e.advertiser;if(a.isAuth&&t.is_impersonation)return{hasMUA:t.owner_user_id!==a.id,advertiser_id:t.id,username:t.owner_user_id,...r};if(a.isAuth&&t.owner_user_id!==a.id)return{hasMUA:!0,advertiser_id:t.id,username:t.owner_user_id,...r};if(a.isAuth&&t.owner_user_id===a.id)return{hasMUA:!1,advertiser_id:t.id,username:"me"}}return{advertiser_id:void 0,hasMUA:void 0,...r}}function J(e){let{advertiser_id:a,hasMUA:t,boardFilter:i="all"}=e,{username:r}=e,s={field_set_key:"board_picker",filter:t?"protected":i,...r?{username:r}:Object.freeze({}),...a?{advertiser_id:a}:{}};return e.orbacActingAs&&e.orbacActingAs.user&&e.orbacActingAs.user.username&&(s={...s,username:e.orbacActingAs.user.username,orbac_subject_id:e.orbacActingAs.id,filter:i}),s}function W(e,a){return(t,i)=>t((0,m.Q5)("BoardPickerBoardsResource",J(Y(i(),e,a))))}function q(e){(0,r.useEffect)(()=>{(0,i.A)("BoardFlyout","/app/www/common/PinBetterSave/BoardFlyout.tsx")},[]);let a=(0,c.A)(),t=(0,s.d4)(t=>Y(t,a,e.orbacActingAs)),n={...e,...t},o=(0,y.A)({name:"BoardPickerBoardsResource",options:J(n)});return(0,S.jsx)($,{...n,boardResource:o})}function X(e){(0,r.useEffect)(()=>{(0,i.A)("BoardFlyout","/app/www/common/PinBetterSave/BoardFlyout.tsx")},[]);let a=(0,b.A)(),t=(0,c.A)(),s=(0,v.H7)(t,a);return(0,S.jsx)(q,{...e,orbacActingAs:s?a:void 0})}function Q(e){(0,r.useEffect)(()=>{(0,i.A)("BoardFlyout","/app/www/common/PinBetterSave/BoardFlyout.tsx")},[]);let a=(0,y.A)({name:"BoardPickerBoardsShortlistResource",options:{pin_id:e.pinId,shortlist_length:2,num_shortlist_suggestions:2}}),{data:t}=(0,y.A)({name:"ApiResource",options:{url:`/v3/pins/${e.pinId}/`,field_sets:["pin.pinned_to_board()"]},noCache:!0});return(0,S.jsx)($,{...e,pinAlreadySavedBoard:t?.pinned_to_board,suggestedBoardsShortListResource:a})}V(H,"defaultProps",{clientTrackingParams:void 0,paneWidth:320,showCreateBoardButton:!0,showFlyoutSaveButton:!0,showSections:!0,showSectionSaveButton:!0,useLegoLayout:!0})},900664(e,a,t){t.d(a,{A:()=>c});var i=t(335831),r=t(859471),s=t(836737),n=t(815243),o=t(271411),l=t(562615);let d=({collaborator_count:e,useLegoLayout:a,type:t})=>a?(0,l.jsx)(s.az,{marginEnd:2*!!e,children:(0,l.jsx)(o.A,{type:t})}):(0,l.jsx)(o.A,{type:t}),c=({board:e,showCollaborativeIcon:a,showPrivateIcon:t,showProtectedIcon:c,showSectionsIcon:_,useLegoLayout:u})=>{(0,r.useEffect)(()=>{(0,i.A)("BoardPickerRowIconList","/app/www/common/PinBetterSave/BoardPickerRowIconList.tsx")},[]);let g=e?.collaborating_users?.length||0;return a||t||c||_?(0,l.jsxs)(s.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8}},"data-test-id":"board-picker-row-icon-list-box",direction:"row",display:"flex",marginEnd:5*!u,children:[t&&(0,l.jsx)(d,{collaborator_count:g,type:"secret",useLegoLayout:u}),c&&(0,l.jsx)(d,{collaborator_count:g,type:"protected",useLegoLayout:u}),a&&(u?(0,l.jsx)(n.A,{board:e,isCompact:!0,ownerOnly:!1}):(0,l.jsx)(o.A,{type:"group"})),_&&(0,l.jsx)(o.A,{type:"sections"})]}):null}},663445(e,a,t){t.d(a,{A:()=>o});var i=t(335831),r=t(859471),s=t(836737),n=t(562615);let o=({image_url:e,naturalHeight:a,naturalWidth:t})=>((0,r.useEffect)(()=>{(0,i.A)("RepinSectionImage","/app/www/common/PinBetterSave/RepinSectionImage.tsx")},[]),(0,n.jsx)(s.az,{"aria-hidden":"true",height:48,marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,children:(0,n.jsx)(s.n1,{height:48,rounding:200,wash:!0,width:48,children:(0,n.jsx)(s._V,{alt:"",naturalHeight:a,naturalWidth:t,src:e})})}))},922834(e,a,t){t.d(a,{y:()=>i});let i=new(t(836737)).rk(700)},48245(e,a,t){t.d(a,{A:()=>u,o:()=>_});var i=t(335831),r=t(859471),s=t(836737),n=t(396901),o=t(449153),l=t(562615);let d=(0,r.lazy)(()=>t.e("30077").then(t.bind(t,306474))),c={xs:12,sm:16,md:20,lg:24};function _({children:e}){(0,r.useEffect)(()=>{(0,i.A)("VerifiedBadge","/app/www/common/VerifiedBadge/VerifiedBadge.tsx")},[]);let a=(0,n.A)();return(0,l.jsx)(s.m_,{dataTestId:"verified-badge-tooltip",link:(0,l.jsx)(s.N_,{href:o.duZ,target:"blank",children:(0,l.jsx)(s.KJ,{color:"inverse",size:"100",weight:"bold",children:a._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:a._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function u({iconOnly:e,isVerifiedIdentity:a,isVerifiedMerchant:t,showText:o,size:u,inspirationalBadges:g,inspirationalBadgesColor:h}){(0,r.useEffect)(()=>{(0,i.A)("VerifiedBadge","/app/www/common/VerifiedBadge/VerifiedBadge.tsx")},[]);let p=(0,n.A)(),[m,y]=(0,r.useState)(!1);if(t){let t=(0,l.jsxs)(s.az,{alignItems:"center","data-test-id":"verified-badge-icon",display:"flex",justifyContent:"start",children:[(0,l.jsx)(s.Rp,{onTap:()=>y(!0),children:(0,l.jsx)(s.In,{accessibilityLabel:p._('Merchant verification badge', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"info",icon:"circle-check-fill",inline:!0,size:c[u]})}),o&&(0,l.jsx)(s.az,{marginStart:2,children:(0,l.jsx)(s.KJ,{color:"default",inline:!0,weight:"bold",children:p._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,l.jsxs)(r.Fragment,{children:[e?t:(0,l.jsx)(_,{children:t}),!a&&!e&&m&&(0,l.jsx)(r.Suspense,{children:(0,l.jsx)(d,{inspirationalBadges:g,inspirationalBadgesColor:h,setShowModal:y,showModal:m})})]})}return a&&!t?(0,l.jsx)(s.In,{accessibilityLabel:p._('Domain verification', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"circle-check-fill",size:c[u]}):null}},819589(e,a,t){t.d(a,{A:()=>d,a:()=>l});var i=t(335831),r=t(859471),s=t(836737),n=t(483851),o=t(562615);let l={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function d({backgroundColor:e,children:a,coverImage:t,disableTabIndex:d,height:c,id:_,isHovered:u,onClick:g,onMouseDown:h,onMouseEnter:p,onMouseLeave:m,searchBoxRenderStopwatch:y,url:f,width:b}){(0,r.useEffect)(()=>{(0,i.A)("BubbleWrapper","/app/www/discover/Bubbles/BubbleWrapper.tsx")},[]);let[v,A]=(0,r.useState)(!1),x=()=>{p?p():A(!0)},P=()=>{m?m():A(!1)},S=u||v,I=S?l.hoverOverlay:l.bubbleOverlay;return(0,o.jsx)(s.$A,{href:f,onBlur:P,onFocus:x,onMouseDown:h,onMouseEnter:x,onMouseLeave:P,onTap:()=>{g?.(_)},rounding:400,tabIndex:d?-1:void 0,children:(0,o.jsx)(s.n1,{height:c,rounding:400,width:b||"100%",children:t?.url?(0,o.jsxs)(s._V,{alt:"",color:e,fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,onLoad:()=>{y?.stop();let e=(0,n.A)();e.isActive()&&e.stop()},role:"presentation",src:t.url,children:[(0,o.jsx)(s.az,{dangerouslySetInlineStyle:{__style:I},height:"100%",width:"100%"}),"function"==typeof a?a({isHovered:S}):a]}):(0,o.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},416558(e,a,t){t.d(a,{A:()=>g,m:()=>u});var i=t(335831),r=t(859471),s=t(836737),n=t(396901),o=t(410899),l=t(970428),d=t(48245),c=t(562615);let _=Math.floor(3.5);function u({id:e,children:a,isHovered:t,url:n,onClick:o,onMouseEnter:l,onMouseLeave:d,onFocus:_,onBlur:u,rounding:g}){return(0,r.useEffect)(()=>{(0,i.A)("SuggestionReps","/app/www/discover/SearchBox/SuggestionReps.tsx")},[]),(0,c.jsx)(s.az,{"aria-selected":t?"true":"false","data-test-id":"search-suggestion",id:e,role:"option",children:(0,c.jsx)(s.pp,{active:t,children:(0,c.jsx)(s.$A,{href:n,onBlur:u,onFocus:_,onMouseDown:({event:e})=>e.preventDefault(),onMouseEnter:l,onMouseLeave:d,onTap:({event:e,dangerouslyDisableOnNavigation:a})=>{a(),e.metaKey||e.ctrlKey||(e.preventDefault(),o())},rounding:g,children:a})})})}function g({highlightMatch:e=!1,iconName:a,imageUrl:t,isVerifiedMerchant:u=!1,label:g,onLoad:h,query:p,rounding:m,searchDelightConfig:y,subLabel:f,type:b,verified:v=!1}){(0,r.useEffect)(()=>{(0,i.A)("SuggestionReps","/app/www/discover/SearchBox/SuggestionReps.tsx")},[]);let A=(0,n.A)(),x="recent_pin_searches"===b?"rs-search-suggestion":t||a?"enriched-search-suggestion":"regular-search-suggestion";return(0,c.jsx)(s.az,{"data-test-id":x,display:"flex",paddingY:+!!t,width:"100%",children:(0,c.jsxs)(s.so,{alignItems:"center",gap:{row:2,column:0},children:[t?(0,c.jsx)(s.az,{"data-test-id":"enriched-autocomplete-image",height:40,marginStart:_,overflow:"hidden",rounding:m&&2===m?200:"circle",width:40,children:(0,c.jsx)(s._V,{alt:"",color:"#efefef",fit:"cover",naturalHeight:40,naturalWidth:40,onLoad:h,role:"presentation",src:t})}):(0,c.jsx)(s.so,{alignItems:"center",height:40,justifyContent:"center",width:40,children:(0,c.jsx)(s.In,{accessibilityLabel:a?(0,o.vQ)(A._('{{ icon}} icon', 'SearchBox.SearchSuggestion.EnrichedAutocomplete.Icon', 'contextual icon in typeahead (eg shopping tag icon to take users to product search)'),{icon:a}).join():"",color:"default",icon:a||"magnifying-glass",size:12})}),(0,c.jsxs)(s.so,{alignItems:"start",direction:"column",gap:{row:0,column:1},justifyContent:"center",children:[(0,c.jsxs)(s.so,{alignItems:"center",children:[e&&p?(0,c.jsx)(l.A,{query:p,searchDelightConfig:y,text:g||p}):(0,c.jsx)(s.KJ,{weight:"bold",children:g}),(v||u)&&(0,c.jsx)(s.az,{marginStart:1,children:(0,c.jsx)(d.A,{iconOnly:!0,isVerifiedIdentity:v,isVerifiedMerchant:u,size:"xs",surface:"SuggestionReps"})})]}),f&&(0,c.jsx)(s.KJ,{size:"100",children:f})]})]})})}},714056(e,a,t){t.d(a,{H:()=>g,c:()=>u});var i=t(859471),r=t(47998),s=t(172170),n=t(396901),o=t(410899),l=t(508765),d=t(173270),c=t(672375),_=t(452176);function u({query:e,scope:a,autocompleteRequestSurface:t}){let l=(0,n.A)(),c=(0,r.A)(),_=(0,d.A)({allowSearchOnMount:!0,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:a,autocomplete_request_surface:t},value:e});return(0,i.useMemo)(()=>{let e=_?.map(e=>{if("query"===e.type){let{modified_filter_eligibility:a,query:t}=e,i=a?(0,o.vQ)(a?.hair_pattern?.eligible_filters?l._('{{ query }} by hair pattern', 'SearchSuggestion.HairPatternFilterSuggestion', 'Suggested search for a hair pattern filter-eligible query'):l._('{{ query }} by skin tone range', 'SearchSuggestion.SkinToneFilterSuggestion', 'Suggested search for a skin tone filter-eligible query'),{query:t}).join(""):t;return{...e,label:i}}return e});if(c.isAuth)return[{items:e||[],type:"blended_autocomplete"}];let a=(0,s.A)(e||[],e=>e.type);return[{items:["query","user"].flatMap(e=>a[e]).filter(e=>!!e),type:"blended_autocomplete"}]},[_,c,l])}function g(e){let{autocompleteRequestSurface:a}=e||{},{group:t}=(0,_.A)({isSyop:0!==a}),{isLoaded:s,data:n}=function(e){let a=(0,r.A)(),{autocompleteRequestSurface:t}=e||{};return(0,l.A)(a.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:c.cO.PINS,autocomplete_request_surface:t},noCache:!0}:null)}(e);return(0,i.useMemo)(()=>{if(s&&n)return{items:n.items.slice(0,t?.includes("recent_search")?12:5).map((e,a)=>({...e,resultIndex:a})),isLoaded:s};return{items:[],isLoaded:s}},[s,n,t])}},452176(e,a,t){t.d(a,{A:()=>r});var i=t(528989);function r({isSyop:e}){let{checkExperiment:a}=(0,i.A)();return e?{anyEnabled:!1,group:""}:a("web_search_autocomplete_empty_state")}},715402(e,a,t){t.d(a,{A:()=>n});var i=t(859471),r=t(106386),s=t(748530);function n(e){let a=(0,r.wA)();return(0,i.useMemo)(()=>()=>{a((0,s.J)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins",autocomplete_request_surface:e}}))},[a,e])}},604050(e,a,t){t.d(a,{A:()=>o});var i=t(396901),r=t(491149),s=t(318904),n=t(65467);let o=()=>{let e=(0,i.A)(),a=(0,r.qJ)(),{viewer:t,loginForMore:o,limitedLoginModalSubheader:l,limitedLoginModalNextLocation:d}=(0,s.x)();return"LIMITED_LOGIN"===t.type?({modalHeader:t,nextLocation:i})=>r=>{let s=null;r&&(r.nativeEvent&&r.nativeEvent instanceof Event?s=r:r.event&&(s=r.event)),s&&(s.preventDefault&&s.preventDefault(),s.stopPropagation&&s.stopPropagation()),o?.setVisible(!0),l?.setText(t||(a?(0,n.i)(e):(0,n.wC)(e))),i&&d?.setRoute(i)}:({fn:e})=>e}},264780(e,a,t){t.d(a,{Ay:()=>g,Wx:()=>h,tk:()=>u});var i=t(836737),r=t(410899),s=t(112726),n=t(616275),o=t(449153),l=t(229202),d=t(80001),c=t(411081),_=t(562615);let u=e=>e._('Not a valid URL.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid URL was entered to create a Pin');function g({dispatchId:e,errorId:a,i18n:t,ideaPinRenamingEnabled:l,options:g}){let h=(0,d.A)(a,t,e,g);if("GENERAL_ERROR"!==h.id)return h;switch(a){case"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:e,id:"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT",type:"error",message:t._('Ooops! This description is getting long. Try trimming it down.', 'storyPinBuilder.errorMessaging.message', 'Error message when description is greater than maximum character count.')};case"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT":return{dispatchId:e,id:"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT",type:"error",message:t._('Ooops! Too many user mentions. Try keeping it to 5 max.', 'pinBuilder.errorMessaging.descriptionMentionLimit', 'Error message when description contains more user mentions than maximum allowed count.')};case"TITLE_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:e,id:"TITLE_OVER_MAX_CHARACTER_LIMIT",type:"error",message:t._('Ooops! This title is getting long. Try trimming it down.', 'storyPinBuilder.errorMessaging.message', 'Error message when title is greater than maximum character count.')};case"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO":return{dispatchId:e,id:"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO",type:"error",message:t._('This image does not have the recommended aspect ratio.', 'storyPinBuilder.errorMessaging.message', 'Signal message when uploading an image that does not have the recommended aspect ratio.')};case"TAG_SAME_PRODUCT_LINK":return{dispatchId:e,id:"TAG_SAME_PRODUCT_LINK",type:"error",message:t._('You can\'t tag from the same page twice.', 'storyPinBuilder.errorMessaging.message', 'Error message for using the same product link twice on a Pin tag'),blocking:!0};case"TAG_OVER_MAX_PRODUCTS_LIMIT":return{dispatchId:e,id:"TAG_OVER_MAX_PRODUCTS_LIMIT",type:"error",message:t._('You\'ve reached the maximum number of products for a tag.', 'storyPinBuilder.errorMessaging.message', 'Error message when user attempts to add more than 8 products to a tag'),blocking:!0};case"BOARD_MISSING":return{dispatchId:e,id:"BOARD_MISSING",type:"error",message:t._('A board is required to create a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a board is required to create a Pin'),blocking:!0};case"DATE_IN_PAST":return{dispatchId:e,id:"DATE_IN_PAST",type:"error",message:t._('A future date is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the date is in the past for a scheduled Pin.'),blocking:!0};case"DATE_TOO_FAR_IN_FUTURE":return{dispatchId:e,id:"DATE_TOO_FAR_IN_FUTURE",type:"error",message:t._('Make sure you schedule a Pin less than 30 days in the future.', 'storyPinBuilder.errorMessaging.30DayMessage', 'Error message indicating the date is too far in the future for a scheduled Pin.'),blocking:!0};case"DATE_MISSING":return{dispatchId:e,id:"DATE_MISSING",type:"error",message:t._('A date is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a date is required to schedule a Pin.'),blocking:!0};case"DESCRIPTION_INVALID":return{dispatchId:e,id:"DESCRIPTION_INVALID",type:"error",message:t._('The description is invalid.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid description was entered to create a Pin'),blocking:!0};case"DUPLICATE_PIN_CONTENT":return{dispatchId:e,id:"DUPLICATE_PIN_CONTENT",type:"error",message:t._('This Pin has the same image, board, description, and link as another Pin. Please make each Pin unique.', 'pinBuilder.errorMessaging.duplicatePinContent', 'Error message when multiple pins have identical content which would be deduplicated'),blocking:!0};case"MEDIA_MISSING":return{dispatchId:e,id:"MEDIA_MISSING",type:"error",message:t._('An image is required to create a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an image, video, or website is required to create a Pin.'),blocking:!0};case"SHOWCASE_UNSUPPORTED_FORMAT":return{dispatchId:e,id:"SHOWCASE_UNSUPPORTED_FORMAT",type:"error",message:t._('Showcase ads don\u2019t currently support video. To continue, please upload an image.', 'showcasePinBuilder.errorMessaging.message', 'Error message for uploading the wrong format for showcase ads.'),blocking:!0};case"TAG_INVALID":return{dispatchId:e,id:"TAG_INVALID",type:"error",message:t._('You can only tag images linking to your claimed website.', 'storyPinBuilder.errorMessaging.message', 'Error message for entering a link you have not claimed.'),blocking:!0};case"TAG_EMPTY":return{dispatchId:e,id:"TAG_EMPTY",type:"error",message:t._('You must tag at least one feature Pin to continue.', 'storyPinBuilder.errorMessaging.message', 'Error message for not tagging at least one product on a showcase ad.'),blocking:!0};case"TIME_MISSING":return{dispatchId:e,id:"TIME_MISSING",type:"error",message:t._('A time is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a time is required to schedule a Pin.'),blocking:!0};case"TITLE_INVALID":return{dispatchId:e,id:"TITLE_INVALID",type:"error",message:t._('The title is invalid.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid title was entered to create a Pin'),blocking:!0};case"URL_INVALID":return{dispatchId:e,id:"URL_INVALID",type:"error",message:u(t),blocking:!0};case"URL_MISSING":return{dispatchId:e,id:"URL_MISSING",type:"error",message:t._('URL is required.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a URL is required to create a Pin'),blocking:!0};case"URL_CONTAINS_PORN_DOMAIN":return{dispatchId:e,id:"URL_CONTAINS_PORN_DOMAIN",type:"error",message:(0,r.vQ)(t._('Some nudity is okay for Pinterest, some isn\'t. Make sure you understand {{ policy_link }}', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the URL entered is a porn domain.'),{policy_link:(0,_.jsx)(i.N_,{display:"inlineBlock",href:o.jvt,target:"blank",underline:"hover",children:(0,_.jsx)(i.KJ,{color:"error",inline:!0,size:"100",weight:"bold",children:t._('our policies', 'Link to policy page', 'Link to policy page')})},0)}),blocking:!0};case"URL_IS_TOO_LONG":return{dispatchId:e,id:"URL_IS_TOO_LONG",type:"error",message:(0,n.A)(t._('Please shorten the link to {{ maxLength }} characters or fewer.', 'pinbuilder.urlIsTooLong.errorMessage', 'Error message indicating a URL is too long to create a Pin. maxLength: max number of chars in the link'),{maxLength:2048}),blocking:!0};case"URL_IS_BLOCKED":return{dispatchId:e,id:"URL_IS_BLOCKED",type:"error",message:t._('This link is blocked because it may not meet our content policies.', 'pinbuilder.blockedUrl.errorMessage', 'Error message indicating a URL is blocked because it may not meet our content policies'),blocking:!0};case"CAROUSEL_DIFFERENT_RATIOS":return{dispatchId:e,id:"CAROUSEL_DIFFERENT_RATIOS",type:"error",message:t._('Carousel images must have the same height and width', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a carousel with different sizes'),blocking:!0};case"CAROUSEL_INVALID_FORMAT":return{dispatchId:e,id:"CAROUSEL_INVALID_FORMAT",type:"error",message:t._('Carousels can only contain images', 'storyPinBuilder.errorMessaging.message', 'Error message when attempting to add a non-image file type to a carousel'),blocking:!0};case"URL_IS_REDIRECT":return{dispatchId:e,id:"URL_IS_REDIRECT",type:"error",message:t._('URL is a redirect.  Please enter a URL without a redirect.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a URL with a redirect was entered'),blocking:!0};case"URL_UNREACHABLE":return{dispatchId:e,id:"URL_UNREACHABLE",type:"error",message:t._('URL is unreachable.  Please check that it is correct.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the URL specified is unreachable.'),blocking:!0};case"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO":return{dispatchId:e,id:"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO",type:"error",message:t._('Edit the image on the cover page to have a 9:16 ratio', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the image on the cover page of a Story Pin does not have the correct aspect ratio.'),blocking:!0};case"STORY_PIN_COVER_PAGE_IMAGE_MISSING":return{dispatchId:e,id:"STORY_PIN_COVER_PAGE_IMAGE_MISSING",type:"error",message:l?t._('Please provide an image for the cover page of your Pin', 'storyPinBuilder.errorMessaging.storypinCoverPageImageMissing', 'Error message indicating that the cover page of a Pin is missing an image'):t._('Please provide an image for the cover page of your Idea Pin', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that the cover page of a Idea Pin is missing an image')};case"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING":return{dispatchId:e,blocking:!0,id:"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING",type:"error",message:l?t._('Cannot save Pin without signature set on cover', 'storyPinBuilder.errorMessaging.storyPinCoverPageSignatureMissing', 'Error message indicating that the cover page is missing the signature'):t._('Cannot save Idea Pin without signature set on cover', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that the cover page is missing the signature')};case"STORY_PIN_COVER_PAGE_TITLE_MISSING":return{dispatchId:e,id:"STORY_PIN_COVER_PAGE_TITLE_MISSING",type:"error",message:l?t._('Give your Pin a title before you publish', 'storyPinBuilder.errorMessaging.storyPinCoverPageTittleMissing', 'Error message indicating the cover page of a Pin is missing a title.'):t._('Give your Idea Pin a title before you publish', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the cover page of a Idea Pin is missing a title.'),blocking:!0};case"STORY_PIN_MEDIA_SIGNATURES_MISSING":return{dispatchId:e,blocking:!0,id:"STORY_PIN_MEDIA_SIGNATURES_MISSING",type:"error",message:l?t._('Cannot save Pin without signatures set on all media blocks/items', 'storyPinBuilder.errorMessaging.storyPinMediaSignatureMissing', 'Error message indicating that signatures are missing on media blocks/items'):t._('Cannot save Idea Pin without signatures set on all media blocks/items', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that signatures are missing on media blocks/items')};case"STORY_PIN_NOT_ENOUGH_PAGES":return{dispatchId:e,id:"STORY_PIN_NOT_ENOUGH_PAGES",type:"error",message:l?t._('Create at least 2 pages to publish a Pin', 'storyPinBuilder.errorMessaging.storyPinNotEnoughPages', 'Error message indicating the Pin is too short.'):t._('Create at least 2 pages to publish an Idea Pin', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the Idea Pin is too short.'),blocking:!0};case"STORY_PIN_TOO_MANY_DRAFTS":return{dispatchId:e,id:"STORY_PIN_TOO_MANY_DRAFTS",type:"error",message:(0,r.vQ)(t._('You have reached the limit of {{draftMaxCount}} drafts.', 'storyboard.errorMessaging.message.draftLimitError', 'Upload attempt error message when users reached max number of drafts allowed. draftMaxCount: max number of drafts'),{draftMaxCount:c.WC}).join(""),blocking:!0};case"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE":return{dispatchId:e,id:"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE",type:"error",message:(0,r.vQ)(t._('You can only upload {{multiUploadMaxCount}} drafts at once.', 'storyboard.errorMessaging.message.multiUploadMaxError', 'Error message when users multi upload more than the max allowed. multiUploadMaxCount: max number of multi uploaded'),{multiUploadMaxCount:c.TB}).join(""),blocking:!0};case"STORY_PIN_TITLE_MISSING":return{dispatchId:e,id:"STORY_PIN_TITLE_MISSING",type:"error",message:l?t._('Give your Pin a title before you publish', 'storyPinBuilder.errorMessaging.storyPinTitleMissing', 'Error message indicating the Pin is missing a title.'):t._('Give your Idea Pin a title before you publish', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the Idea Pin is missing a title.'),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":{let a=Math.floor(4);return{dispatchId:e,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,r.vQ)(t.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} seconds.', a, 'storyPinBuilder.errorMessaging.message', 'Error message uploading a video file that is longer than the allowed duration'),{minVideoLengthSeconds:a}).join(""),blocking:!0}}case"STORY_PIN_VIDEO_ON_COVER":return{dispatchId:e,id:"STORY_PIN_VIDEO_ON_COVER",type:"error",message:t._('The cover page cannot contain a video', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the cover page of a Story Pin contains a video.'),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":{let a=s.L3/1024/1024;return{dispatchId:e,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,r.vQ)(t.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', a, 'storyPinBuilder.errorMessaging.message', 'Error message uploading a video file larger than required megabytes.'),{maxVideoFileSize:a}).join(""),blocking:!0}}case"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:e,id:"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT",type:"error",message:t._('Ooops! This alt text is getting long. Try trimming it down.', 'pinBuilder.errorMessaging.message', 'Error message when alt text is greater than maximum character count.')};default:return{dispatchId:e,id:"GENERAL_ERROR",type:"error",message:t._('Hmm, something went wrong. Please try again.', 'storyPinBuilder.errorMessaging.message', 'Error message for generic error during Pin creation'),blocking:!0}}}function h(e,a,t){t({event_type:7564,view_type:212,component:(0,l.A)().includes("create")?13762:13308,aux_data:{error_message:a,error_id:e}})}},815243(e,a,t){t.d(a,{A:()=>d});var i=t(335831),r=t(859471),s=t(923957),n=t(47998),o=t(562615);function l(e){let a=e?.imageMediumUrl??e?.image_medium_url??"",t=e?.avatar_color_index??void 0;return{name:e?.fullName??e?.full_name??"",color:t,src:"https://s.pinimg.com/images/user/default_75.png"===a?void 0:a}}function d({board:e,forceViewer:a,isCompact:t,ownerOnly:d}){(0,r.useEffect)(()=>{(0,i.A)("CollaboratorsFacepile","/app/www/profile/ProfileBoardCard/ProfileBoardCardFooter/CollaboratorsFacepile.tsx")},[]);let c=(0,n.A)(),_=d?[l(e?.owner)]:(function(e,a,t){let{collaborated_by_me:i,collaborating_users:r,owner:s}=e??{},n=r??[],o=[s];if(i||t){let e=n.findIndex(e=>a.isAuth&&e.id===a.id);if(-1!==e){let a=n.splice(e,1)[0];o.push(a)}else o.push(a)}return[...o,...[...n].sort((e,a)=>(e.full_name??"")>(a.full_name??"")?1:(a.full_name??"")>(e.full_name??"")?-1:0)]})(e,c,a).map(l);return(0,o.jsx)(s.Z7,{collaborators:_,size:t?"xs":"sm"})}},119290(e,a,t){t.d(a,{A:()=>i});function i(e,a,t,r=!1,s){return{privacy_filter:a?"secret":"public",sort:t||"last_pinned_to",field_set_key:"profile_grid_item",username:e,isRetrievalHub:r,filter_types:s}}},339558(e,a,t){t.d(a,{t:()=>l,w:()=>o});var i=t(13324),r=t(374542),s=t(310206);let n=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],o={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:a,mixPublicSecret:t,username:i,privacyFilter:r="all",filterAllPins:s=!1,includeArchived:n=!0},o)=>({privacy_filter:r,sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:a,username:i,page_size:25,group_by:t?"mix_public_private":"visibility",include_archived:n,redux_normalize_feed:!0,filter_all_pins:s,...o?{orbac_subject_id:o}:Object.freeze({})})},l=e=>n.reduce((a,t)=>{let n=[(0,s.eO)("profileBoards",(0,r.A)(e,t))];return[!0,!1].forEach(a=>{[!0,!1].forEach(r=>{n.push((0,i.Q5)(o.name,o.options({username:e,boardOrder:t,mixPublicSecret:a,filterStories:r})))})}),a.concat(n)},[])},157210(e,a,t){t.d(a,{F5:()=>h,ID:()=>u,KB:()=>y,NJ:()=>v,NQ:()=>c,Qv:()=>g,SA:()=>p,WD:()=>S,_4:()=>b,gS:()=>P,i0:()=>x,mr:()=>f,oj:()=>m,uE:()=>A,zY:()=>_});var i=t(321571),r=t(650359),s=t(301704),n=t(748530),o=t(13324),l=t(119290),d=t(339558);function c(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function _(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function u(e,a){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:a}}}function g({viewingUserId:e,viewingUsername:a,boardId:t,boardPinCount:i}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:a,boardId:t,boardPinCount:i}}}let h=(e,a)=>t=>t((0,n.J)("BoardResource",{options:{board_id:e,field_set_key:a}}));function p(e){return a=>{e&&(0,d.t)(e).forEach(e=>{a(e)})}}let m=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),y=e=>h(e,"pin_count"),f=(e,a)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:a}}),b=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function v(e,a,t){let s={name:e,privacy:r.A.BoardPrivacy.PUBLIC,username:a,...t?{orbac_subject_id:t}:Object.freeze({})};return e=>i.A.create("BoardResource",s).callCreate().then(t=>{let i=t.resource_response.data;return e(a&&(0,o.Q5)("BoardsResource",(0,l.A)(a,!1))),i})}function A(e={},a,t){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:a},error:t}}let x=(e,a,t)=>async r=>{r({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:a}});let s=await i.A.create("BoardInviteResource",{board_id:e,invited_user_id:a}).callDelete();return s.resource_response.error||t({event_type:29,object_id_str:e}),s},P=(e,a,t,r,n,o)=>async l=>{l({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:r?.id??"",viewingUser:t}});try{let t=r?.id??"";("accepted"===a?await (0,s.A)({url:"/v3/boards/{board}/collaborators/{collaborator_ids}/",urlParams:{board:e,collaborator_ids:t},method:"DELETE",data:{...o?{orbac_subject_id:o}:{}}}):await i.A.create("BoardInviteResource",{board_id:e,field_set_key:"boardEdit",invited_user_id:t,...o?{orbac_subject_id:o}:{}}).callDelete()).resource_response.error||n({event_type:"accepted"===a?25:29,object_id_str:e})}catch(i){l({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:a,collaboratingUsers:[r]}})}},S=(e,a,t,r)=>s=>{let n=i.A.create("BoardResource",{board_id:t}).callDelete();return s(g({viewingUserId:e,viewingUsername:a,boardId:t,boardPinCount:r})),n}},507046(e,a,t){t.d(a,{X:()=>n,e:()=>s});var i=t(301704),r=t(157210);function s(e,a){return async t=>{t((0,r.ID)(e,!0));try{await (0,i.A)({url:"/v3/boards/{board}/follow/",urlParams:{board:e},method:"PUT"}),a({event_type:26,object_id_str:e})}catch(a){t((0,r.ID)(e,!1))}}}function n(e,a){return async t=>{t((0,r.ID)(e,!1));try{await (0,i.A)({url:"/v3/boards/{board}/follow/",urlParams:{board:e},method:"DELETE"}),a({event_type:27,object_id_str:e})}catch(a){t((0,r.ID)(e,!0))}}}},310206(e,a,t){function i(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function r(e,a){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:a}}}t.d(a,{J6:()=>n,ZT:()=>o,bG:()=>s,eO:()=>r,kl:()=>i});let s=(e,a,t=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:t,items:a}});function n(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function o(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},271411(e,a,t){t.d(a,{A:()=>n});var i=t(836737),r=t(396901),s=t(562615);let n=function({type:e}){let a=(0,r.A)(),t={group:{accessibilityLabel:a._('group board', 'Board picker group board icon', 'Board picker group board icon'),icon:"people"},protected:{accessibilityLabel:a._('protected board', 'Board picker protected board icon', 'Board picker protected board icon'),icon:"shield-check"},secret:{accessibilityLabel:a._('secret board', 'Board picker secret board icon', 'Board picker secret board icon'),icon:"lock"},sections:{accessibilityLabel:a._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"chevron-right"},sectionsInline:{accessibilityLabel:a._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"chevron-down"}}[e],n="sections"===e||"sectionsInline"===e;return(0,s.jsx)(i.az,{marginStart:+!!n,children:(0,s.jsx)(i.az,{marginStart:2*!!n,children:"sections"===e||"sectionsInline"===e?(0,s.jsx)(i.In,{accessibilityLabel:t.accessibilityLabel,color:"default",icon:t.icon,size:"12"}):(0,s.jsx)(i.In,{accessibilityLabel:t.accessibilityLabel,color:"default",icon:t.icon,size:16})})})}},275606(e,a,t){t.d(a,{A:()=>u});var i=t(335831),r=t(859471),s=t(836737),n=t(388364),o=t(396901),l=t(508765),d=t(491149),c=t(562615);function _({ideaPinImages:e}){(0,r.useEffect)(()=>{(0,i.A)("FollowingToastThumbnail","/app/www/toasts/FollowingToastThumbnail.tsx")},[]);let a=e.map((e,a)=>(0,c.jsx)(s.az,{borderColor:"decorative",borderWidth:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:a}},height:48,overflow:"hidden",rounding:200,width:28,children:e?.url&&(0,c.jsx)(s._V,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e.url})},a));return(0,c.jsx)(s.so,{justifyContent:"center",children:(0,c.jsx)(s.so,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:a})})}function u({handleHide:e,text:a,userId:t,href:u,imageUrl:g}){(0,r.useEffect)(()=>{(0,i.A)("UserFollowingToast","/app/www/toasts/UserFollowingToast.tsx")},[]);let h=(0,o.A)(),p=(0,d.qJ)(),m=(0,l.A)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:t}}),y=Array.isArray(a)?a.join(" "):a;if(0===(m.data||[]).length)return(0,c.jsx)(n.A,{duration:5e3,href:u,onHide:e,text:y,thumbnail:g?{image:(0,c.jsx)(s._V,{alt:h._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:g})}:void 0});let f=(m.data||[]).slice(0,3).map(e=>e.images?.[p?"236x":"170x"]),b=(0,c.jsx)(_,{ideaPinImages:f});return(0,c.jsx)(n.A,{_dangerouslySetThumbnail:b,duration:5e3,href:u,onHide:e,text:y})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/54913-b16dbf8d83b15dfa.mjs.map